(this["webpackJsonpmson-react"]=this["webpackJsonpmson-react"]||[]).push([[0],{711:function(e,t,n){},899:function(e,t,n){"use strict";n.r(t);var a=n(64),o=n.n(a),i=n(2),r=n(93),l=n(0),s=n.n(l),c=n(31),p=n.n(c),u=n(10),d=n(8),h=n(14),m=n(13),b=n(137),f=n(32),j=n.n(f),v=n(966),g=n(972),O=n(960),x=n(85),y=n(405),C=n(948),F=n(390),k=n.n(F),S=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return Object(d.a)(n,[{key:"toFontIconName",value:function(e){return k()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,a=e.role,o=n?this.toFontIconName(n):null;return Object(i.jsx)(C.a,{className:t,onClick:this.handleClick,"aria-hidden":this.props["aria-hidden"],"aria-label":this.props["aria-label"],role:a,children:o})}}]),n}(s.a.PureComponent),w=n(27),D=n(976),N=n(973),T=n(954),L=n(952),E=n(904),A=n(950),P=n(951),I=n(59),B=n.n(I),V=n(48),M=n.n(V),R=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.items?a.setState({open:!a.state.open}):(a.props.onNavigate&&a.props.onNavigate(e),a.props.onDrawerToggle&&a.props.onDrawerToggle())},a.state={open:a.childSelected()},a}return Object(d.a)(n,[{key:"childSelected",value:function(){var e=this.props,t=e.item,n=e.path,a=!1;return B()(t.items,(function(e){if(n===e.path)return a=!0,!1})),a}},{key:"items",value:function(){var e=this,t=this.props,n=t.classes,a=t.item,o=t.path,r=[];return a.items.forEach((function(t,a){var l=o===t.path,s=[n.secondary];l&&s.push(n.selected),(!t.roles||M.a.client&&M.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&r.push(Object(i.jsx)(E.a,{button:!0,className:n.nested,onClick:function(){return e.handleClick(t)},children:Object(i.jsx)(A.a,{disableTypography:!0,primary:Object(i.jsx)(x.a,{variant:"body2",className:s.join(" "),children:t.label})})},a))})),r}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.classes,o=t.path,r=n.items?this.items():null,l=o===n.path,s=[a.primary];l&&s.push(a.selected);var c=null;return r&&(c=Object(i.jsx)(P.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0,children:Object(i.jsx)(L.a,{disablePadding:!0,children:this.items()})})),Object(i.jsxs)("div",{children:[Object(i.jsxs)(E.a,{button:!0,onClick:function(){return e.handleClick(n)},children:[Object(i.jsx)(A.a,{disableTypography:!0,primary:Object(i.jsx)(x.a,{variant:"subtitle1",className:s.join(" "),children:n.label})}),r?this.state.open?Object(i.jsx)(S,{icon:"ExpandLess"}):Object(i.jsx)(S,{icon:"ExpandMore"}):null]}),c]})}}]),n}(s.a.PureComponent),W=j()((function(e){return{nested:{paddingLeft:e.spacing(4)},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}}))(R),U=n(267),q=n.n(U),G=function(e,t){return function(n){return function(a){Object(h.a)(r,a);var o=Object(m.a)(r);function r(n){var a;return Object(u.a)(this,r),(a=o.call(this,n)).wasMounted=!1,a.getComponent=function(e){return e||(e=a.props),t?"string"===typeof t?e[t]:t:e.component},a.handleFieldChange=function(e,t){-1!==a.watchProps.indexOf(e)&&a.wasMounted&&a.setState({[e]:t})},a.watchProps=q()(e,Object.keys(a.props)),a.hasComponent()&&(a.state=a.getComponent().get(a.watchProps)),a}return Object(d.a)(r,[{key:"hasComponent",value:function(){return!!this.getComponent()}}]),Object(d.a)(r,[{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.hasComponent()&&this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.hasComponent()&&this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){if(this.hasComponent()){var e=this.getComponent().get(this.watchProps);this.setState(e)}}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return Object(i.jsx)(n,Object(w.a)(Object(w.a)({},this.state),this.props))}}]),r}(s.a.PureComponent)}},H=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDrawerToggle=function(){e.props.onDrawerToggle&&e.props.onDrawerToggle()},e.handleNavigate=function(t){e.props.onNavigate&&e.props.onNavigate(t)},e}return Object(d.a)(n,[{key:"items",value:function(){var e=this,t=this.props,n=t.component,a=t.path,o=n.get("items"),r=[];return o.forEach((function(t,n){(!t.roles||M.a.client&&M.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&r.push(Object(i.jsx)(W,{item:t,onNavigate:e.handleNavigate,path:a,onDrawerToggle:e.handleDrawerToggle},n))})),r}},{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.theme,o=t.mobileOpen,r=t.responsive;e=this.items();var l=Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:n.drawerHeader,children:Object(i.jsx)(x.a,{variant:"h4",children:"Logo"})}),Object(i.jsx)(T.a,{}),e]}),s=Object(i.jsx)(D.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:o,classes:{paper:n.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0},children:l}),c=Object(i.jsx)(D.a,{variant:"permanent",open:!0,classes:{paper:n.drawerPaper+(r?" ".concat(n.drawPaperResponsive):"")},children:l});return r?Object(i.jsxs)("div",{children:[Object(i.jsx)(N.a,{mdUp:!0,children:s}),Object(i.jsx)(N.a,{smDown:!0,implementation:"css",children:c})]}):s}}]),n}(s.a.PureComponent);H=j()((function(e){return{drawerHeader:Object(w.a)(Object(w.a)({},e.mixins.toolbar),{},{paddingLeft:e.spacing(3),paddingTop:e.spacing(1)}),drawerPaper:{width:250},drawPaperResponsive:{[e.breakpoints.up("md")]:{width:240,position:"fixed",height:"100vh"}}}}),{withTheme:!0})(H);var z=H=G(["items"])(H),K=n(956),$=n(144),J=n.n($),X=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={autoFullWidth:!1},e.handleKeyUp=function(t){13===t.keyCode&&e.props.onSearch(e.props.searchString)},e.handleClearSearch=function(t){e.props.onSearch("")},e.handleFocus=function(){e.setState({autoFullWidth:!0})},e.handleBlur=function(){e.setState({autoFullWidth:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.searchString,o=e.onChange,r=e.fullWidth,l=this.state.autoFullWidth,s=r||l;return Object(i.jsxs)("div",{className:J()(n,s?t.grow:null),children:[Object(i.jsx)(K.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:a,onKeyUp:this.handleKeyUp,onChange:function(e){return o(e.target.value)},className:t.textField,onFocus:this.handleFocus,onBlur:this.handleBlur}),Object(i.jsxs)("div",{className:t.iconContainer,children:[Object(i.jsx)(S,{icon:"Search",className:t.searchIcon}),Object(i.jsx)(y.a,{color:"inherit","aria-label":"clear search",onClick:this.handleClearSearch,className:t.closeIcon,children:Object(i.jsx)(S,{icon:"Close"})})]})]})}}]),n}(s.a.PureComponent),_=X=j()((function(e){return{textField:{width:"100%"},textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 34px 10px 34px",marginTop:"2px",width:"calc(100%)",color:e.palette.common.white},iconContainer:{position:"relative",width:"100%",height:"0px"},searchIcon:{position:"absolute",top:"-31px",left:"6px"},closeIcon:{position:"absolute",top:"-43px",right:"-5px"},grow:{flexGrow:1}}}))(X),Z=n(47),Y=n(112),Q=n(402),ee=function(e){var t=e.onClick,n=e.icon,a=e.tooltip,o=Object(l.useState)(!1),r=Object(Q.a)(o,2),s=r[0],c=r[1],p=Object(i.jsx)(y.a,{onClick:t,onMouseEnter:function(){return c(!0)},"aria-label":e["aria-label"],children:Object(i.jsx)(S,{icon:n})});return s&&a?Object(i.jsx)(g.a,{title:a,children:p}):p},te=n(216),ne=n(78),ae=Object(ne.a)((function(e){return{leftIcon:{marginRight:e.spacing(1)},marginTop:{marginTop:e.spacing(3)}}})),oe=function(e){var t=ae(),n=e.type,a=e.disabled,o=e.label,r=e.icon,l=e.fullWidth,s=e.variant,c=e.marginTop,p=e.onClick,u=!1!==c?t.marginTop:null;return Object(i.jsxs)(te.a,{className:u,type:n,color:"primary",disabled:a,onClick:function(){return function(e){e&&e()}(p)},fullWidth:l,variant:s,children:[r?Object(i.jsx)(S,{className:t.leftIcon,icon:r}):null,o]})},ie=function(e){var t=e.type,n=e.disabled,a=e.label,o=e.icon,r=e.fullWidth,l=e.variant,s=e.marginTop,c=e.onClick,p=e.tooltip;return a||!o?Object(i.jsx)(oe,{type:t,disabled:n,label:a,icon:o,fullWidth:r,variant:l,marginTop:s,onClick:c}):Object(i.jsx)(ee,{onClick:c,icon:o,tooltip:p})},re=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){"submit"!==e.props.type&&e.props.component.emitClick()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type,a=e.disabled,o=e.icon,r=e.fullWidth,l=e.variant,s=e.tooltip;return Object(i.jsx)(ie,{type:n,label:t,disabled:a,onClick:this.handleClick,icon:o,fullWidth:r,variant:l,tooltip:s})}}]),n}(s.a.PureComponent),le=G(["label","type","disabled","icon","fullWidth","variant","tooltip"])(re),se=n(958),ce=n(910),pe=n(914),ue=n(909),de=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,n=e.children,a=e.classes,o=e.marginBottom,r=t?a.fullWidth:"",l=!1===o?a.noMarginBottom:"";return Object(i.jsx)(ue.a,{fullWidth:t,className:"".concat(a.formControl," ").concat(r," ").concat(l),children:n})}}]),n}(s.a.PureComponent),he=j()((function(e){return{formControl:{margin:e.spacing(1)},fullWidth:{width:"calc(100% - ".concat(e.spacing(2),"px)")},noMarginBottom:{marginBottom:0}}}))(de),me=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.help;return Object(i.jsx)(g.a,{disableTouchListener:!0,title:e,children:Object(i.jsx)(y.a,{"aria-label":"Help",children:Object(i.jsx)(S,{icon:"HelpOutline"})})})}}]),n}(s.a.PureComponent),be=n(911),fe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.shrink,o=Object.assign({},this.props,{shrink:void 0,classes:void 0}),r=a?n.shrink:n.noShrink;return Object(i.jsx)(be.a,Object(w.a)(Object(w.a)({},o),{},{className:r,children:t}))}}]),n}(s.a.PureComponent),je=j()((function(e){return{shrink:Object(w.a)({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:Object(w.a)({},Object.assign({},e.typography.subtitle1,{color:void 0}))}}))(fe),ve=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.component,a=t.children,o=t.label,r=t.required,l=t.fullWidth,s=t.err,c=t.editable,p=t.touched,u=t.help,d=t.hideLabelUI,h=t.hideLabel,m=t.useDisplayValue,b=t.shrinkLabel,f=t.inlineLabel,j=t.marginBottom,v=t.autoHideLabel,g=null,O=n.isBlank(),x=n.getUniqueId();if(!d&&!h&&(!v||o))if(!c||m||f){var y=o||"\xa0";g=Object(i.jsx)(je,{id:"label-".concat(x),htmlFor:x,error:!(!p||!s),required:r&&!m&&c,shrink:m||!c||b,children:y}),f||(g=Object(i.jsx)("div",{children:g}))}else g=Object(i.jsx)(ce.a,{htmlFor:x,error:!(!p||!s),required:o&&r,shrink:b,children:o});var C=n.getFirstErr();return e=Object(i.jsxs)("span",{children:[g,a,u&&c?Object(i.jsx)(me,{help:u}):"",p&&s?Object(i.jsx)(pe.a,{error:!0,children:C}):null]}),c||!O?Object(i.jsx)(he,{fullWidth:l,marginBottom:j,children:e}):null}}]),n}(s.a.PureComponent),ge=ve=G(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(ve),Oe=n(957),xe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.id;return Object(i.jsx)(x.a,{variant:"subtitle1",component:"span",className:n.root,id:a,"aria-label":this.props["aria-label"],children:t})}}]),n}(s.a.PureComponent),ye=j()((function(e){return{root:{display:"inline-block"}}}))(xe),Ce=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.component.setValue(t.target.checked)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,a=e.component,o=e.editable,r=e.useDisplayValue,l=e.label,s=null,c=null;return o&&!r?(s=!0,c=Object(i.jsx)(Oe.a,{control:Object(i.jsx)(se.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:n}),label:l})):c=Object(i.jsx)(ye,{children:a.getDisplayValue()}),Object(i.jsx)(ge,{component:a,hideLabelUI:s,children:c})}}]),n}(s.a.PureComponent),Fe=G(["value","err","disabled","editable","useDisplayValue","label"])(Ce),ke=n(217),Se=n(175),we=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=n.get("content"),o=n.get("title");return Object(i.jsx)(ke.a,{container:!0,spacing:0,justify:"center",children:Object(i.jsx)(ke.a,{item:!0,xs:12,sm:9,md:6,lg:6,children:Object(i.jsx)(Se.a,{className:t.paper,children:Object(i.jsx)(ke.a,{container:!0,wrap:"nowrap",children:Object(i.jsxs)(ke.a,{item:!0,className:t.content,children:[Object(i.jsx)(x.a,{variant:"h5",component:"h2",children:o}),Object(i.jsx)(vn,{component:a})]})})})})})}}]),n}(s.a.PureComponent),De=j()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1}}}))(we),Ne=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.classes;return Object(i.jsx)("div",{className:n.root,children:Object(i.jsx)(vn,{component:t})})}}]),n}(s.a.PureComponent);Ne=j()((function(e){return{root:{marginLeft:e.spacing(1)}}}))(Ne);var Te=Ne=G(["content"])(Ne),Le=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.classes;return Object(i.jsx)("div",{className:e.break})}}]),n}(s.a.PureComponent),Ee=j()((function(e){return{break:{width:"100%"}}}))(Le),Ae=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"getIfDefined",value:function(e){var t={};return B()(e,(function(e,n){void 0!==e&&(t[n]=e)})),t}}]),e}()),Pe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hidden,a=e.block,o=e.accessEditable,r=e.didCreate,l=e.noBlock,c=e.disabled;if(n||!r)return null;if("Field"===t.getClassName())return null;var p=bn.getUIComponent(t);return Object(i.jsxs)(s.a.Fragment,{children:[Object(i.jsx)(p,Object(w.a)({component:t,accessEditable:o,block:a},Ae.getIfDefined({disabled:c}))),!l&&a?Object(i.jsx)(Ee,{}):null]})}}]),n}(s.a.PureComponent),Ie=G(["hidden","block","didCreate"])(Pe),Be=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.help,a=e.editable,o=e.useDisplayValue,r=e.block,l=e.disabled,s=[],c=!1,p=!0;return t.eachField((function(e,t,n){!p&&o&&e.isBlank()||(n&&e.get("block")&&(c=!0),s.push(Object(i.jsx)(Ie,{component:e,noBlock:n,disabled:l},t))),p&&(p=!1)})),n&&a&&s.push(Object(i.jsx)(me,{help:n},"help")),c&&!1!==r&&s.push(Object(i.jsx)(Ee,{},"break")),s}}]),n}(s.a.PureComponent),Ve=G(["change","help","editable","useDisplayValue"])(Be),Me=n(959),Re=n(961),We=n(44),Ue=n(212),qe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.includeTime,r=e.editable,l=e.useDisplayValue,s=e.minDate,c=e.maxDate,p=e.fullWidth,u=e.disabled,d=e.accessEditable,h=e.format,m=!1===d||u,b=!1,f=o?Me.a:Re.a,j=null;return r&&!l?(b=!!a,j=Object(i.jsx)(We.a,{utils:Ue.a,children:Object(i.jsx)("span",{children:Object(i.jsx)(f,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,minDate:s,maxDate:c,onClose:this.handleBlur,fullWidth:p,disabled:m,id:t.getUniqueId(),format:h})})})):j=Object(i.jsx)(ye,{children:t.getDisplayValue()}),Object(i.jsx)(ge,{component:t,shrinkLabel:b,children:j})}}]),n}(s.a.PureComponent);qe=j()((function(e){return{root:{marginTop:e.spacing(2)}}}))(qe);var Ge=G(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled","format"])(qe),He=n(82),ze=n.n(He),Ke=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;if(Object(u.a)(this,n),(a=t.call(this,e)).state={fieldsCanAccess:null},a.handleSave=function(e){e.preventDefault();var t=a.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},a.turnOnAutoValidate(),e.access){var o=a.calcFieldsCanAccess();a.state.fieldsCanAccess=o}return a}return Object(d.a)(n,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e,t=this.props,n=t.component,a=t.mode,o=ze.a.fieldsCanAccess(a||"update",n,null,!0),i=Object(b.a)(n.getFields());try{for(i.s();!(e=i.n()).done;){var r=e.value,l=void 0===o[r.get("name")];r.set({ignoreErrs:l})}}catch(s){i.e(s)}finally{i.f()}return o}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}}]),Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.component,o=n.access,i=n.mode;e.component!==a&&this.turnOnAutoValidate(),e.access===o&&e.mode===i&&e.component===a&&e.value===this.props.value||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.formTag,a=e.isLoading,o=e.disabled,r=this.state.fieldsCanAccess,l=t.get("fields");if(a)return null;var s=t.getKey(),c=l.map((function(e,t){if(null===r||void 0!==r[e.get("name")]){var n=null;return null!==r&&"read"===r[e.get("name")]&&(n=!1),Object(i.jsx)(Ie,{component:e,accessEditable:n,disabled:o},s+"_"+t)}return null}));return!1!==n?Object(i.jsx)("form",{onSubmit:this.handleSave,children:c}):c}}]),n}(s.a.PureComponent),$e=G(["access","mode","isLoading","change","value"])(Ke),Je=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=e.disabled,r=t.isBlank(),l=t.get("form");return Object(i.jsxs)("span",{children:[!n&&Object(i.jsx)(ge,{component:t,inlineLabel:"true",shrinkLabel:!r,marginBottom:!1}),Object(i.jsx)(Ee,{}),Object(i.jsx)("span",{className:a.root,children:Object(i.jsx)(vn,{component:l,formTag:!1,disabled:o})})]})}}]),n}(s.a.PureComponent);Je=j()((function(e){return{root:{marginLeft:e.spacing(2),display:"flex",flexFlow:"wrap"}}}))(Je);var Xe=G(["hideLabel","value"])(Je),_e=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(i.jsx)(s.a.Fragment,{children:this.props.items.map((function(e,t){return Object(i.jsx)(vn,{component:e},t)}))})}}]),n}(s.a.PureComponent),Ze=G(["items"])(_e),Ye=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hidden,n=e.content,a=e.xl,o=e.lg,r=e.md,l=e.sm,s=e.xs;return t?null:Object(i.jsx)(ke.a,{item:!0,xl:a,lg:o,md:r,sm:l,xs:s,children:Object(i.jsx)(vn,{component:n})})}}]),n}(s.a.PureComponent),Qe=G(["hidden","content","xl","lg","md","sm","xs"])(Ye),et=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(i.jsx)(ke.a,{container:!0,children:this.props.items.map((function(e,t){return Object(i.jsx)(Qe,{component:e},t)}))})}}]),n}(s.a.PureComponent),tt=G(["items"])(et),nt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.editable,o=e.disabled,r=e.archivedAt,l=e.onEdit,s=e.onDelete,c=e.id,p=null;t||(p=Object(i.jsx)(ee,{onClick:l,icon:"Edit",tooltip:"Edit","aria-label":"Edit ".concat(c)}));var u=null;if(!n){var d=r?"Restore":"Delete";u=Object(i.jsx)(ee,{onClick:s,icon:d,tooltip:d,"aria-label":"Delete ".concat(c)})}return!a||o||t&&n?null:Object(i.jsxs)(ke.a,{item:!0,children:[p,u]})}}]),n}(s.a.PureComponent),at=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){e.props.onClick&&e.props.onClick(t,e.props.component)},e.handleEdit=function(t,n){e.props.onEdit&&e.props.onEdit(t,e.props.component)},e.handleDelete=function(t){e.props.onDelete&&e.props.onDelete(e.props.component)},e}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.classes,o=n.component,r=n.forbidUpdate,l=n.forbidDelete,s=n.editable,c=n.disabled,p=n.value,u=n.buttons,d=n.id;return e=u?Object(i.jsx)(vn,{component:u}):Object(i.jsx)(nt,{forbidUpdate:r,forbidDelete:l,editable:s,disabled:c,archivedAt:p.archivedAt,onEdit:function(e){return t.handleEdit(e)},onDelete:function(e){return t.handleDelete(e)},id:d}),Object(i.jsx)("div",{children:Object(i.jsx)(Se.a,{className:a.paper,children:Object(i.jsxs)(ke.a,{container:!0,wrap:"nowrap",children:[Object(i.jsx)(ke.a,{item:!0,className:a.content,onClick:function(e){return t.handleClick(e)},role:"button","aria-label":this.props["aria-label"],id:d,children:Object(i.jsx)(vn,{component:o,formTag:!1,mode:"read"})}),e]})})})}}]),n}(s.a.PureComponent);at=j()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1,cursor:"pointer"}}}))(at);var ot=G(["value"])(at),it=n(915),rt=n(917),lt=n(962),st=n(916),ct=n(63),pt=n.n(ct),ut=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={saveClicked:!1,previousMode:null},e.handleClose=function(t){var n=e.props,a=n.mode,o=n.onClose,i=n.onCancel,r=n.currentForm;(t||"update"!==a)&&("update"===a?i&&i(r):o&&o(r))},e.handleEdit=function(){e.props.onEdit&&e.props.onEdit(e.props.currentForm)},e.handleSave=function(t){t.preventDefault(),e.props.disableSubmit||(e.props.onSave&&e.props.onSave(),e.setState({saveClicked:!0}))},e.handleDelete=function(){e.props.onDelete&&e.props.onDelete(e.props.currentForm)},e}return Object(d.a)(n,[{key:"isOpen",value:function(){var e=this.props.mode;return e!==pt.a.MODES.DELETE&&e!==pt.a.MODES.RESTORE&&!!e}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.mode,a=t.component,o=t.forbidUpdate,r=t.forbidDelete,l=t.value,s=t.fullScreen,c=this.state,p=c.saveClicked,u=c.previousMode,d=a.hasErrorForTouchedField()||!a.get("dirty")||p,h=this.isOpen(),m=null;return"update"===n||"create"===n||null===n&&("update"===u||"create"===u)?m=Object(i.jsxs)("div",{children:[Object(i.jsx)(ie,{type:"submit",label:"Save",icon:"Save",disabled:d}),Object(i.jsx)(ie,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})]}):o&&r||(m=Object(i.jsxs)("div",{children:[o?"":Object(i.jsx)(ie,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),r?"":Object(i.jsx)(ie,{label:l.archivedAt?"Restore":"Delete",icon:l.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),Object(i.jsx)(ie,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})]})),Object(i.jsx)(it.a,{fullScreen:s,open:h,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title",children:Object(i.jsxs)("form",{onSubmit:this.handleSave,children:[Object(i.jsx)(st.a,{children:Object(i.jsx)(vn,{component:a,formTag:!1,mode:n})}),m?Object(i.jsx)(rt.a,{children:m}):""]})})}}]),n}(s.a.PureComponent);ut=Object(lt.a)()(ut);var dt=ut=G(["err","dirty","value","mode","disableSubmit"])(ut),ht=n(964),mt=n(963),bt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClose=function(t){e.props.onClose&&e.props.onClose(t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.text,o=t.open,r=t.alert;return Object(i.jsx)("div",{children:Object(i.jsxs)(it.a,{open:o,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(i.jsx)(mt.a,{id:"alert-dialog-title",children:n||""}),Object(i.jsx)(st.a,{children:Object(i.jsx)(ht.a,{id:"alert-dialog-description",children:a})}),Object(i.jsxs)(rt.a,{children:[r?null:Object(i.jsx)(te.a,{onClick:function(){return e.handleClose(!1)},color:"primary",children:"No"}),Object(i.jsx)(te.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0,children:r?"OK":"Yes"})]})]})})}}]),n}(s.a.PureComponent),ft=(n(711),n(965)),jt=n(919),vt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var t="ASC"===e.props.sortOrder?"DESC":"ASC";e.props.onChange({sortOrder:t})},e.handleChange=function(t){e.props.onChange({sortBy:t.target.value})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.sortBy,a="DESC"!==e.sortOrder,o=e.options.map((function(e){return Object(i.jsx)(ft.a,{value:e.value,children:e.label},e.value)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)(ue.a,{className:t.formControl,children:Object(i.jsxs)(jt.a,{value:n,onChange:this.handleChange,children:[Object(i.jsx)(ft.a,{value:"",children:Object(i.jsx)("em",{children:"None"})}),o]})}),Object(i.jsx)(y.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick,children:Object(i.jsx)(S,{icon:"Sort",className:a?t.flip:null})})]})}}]),n}(s.a.PureComponent),gt=j()((function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}}))(vt),Ot=n(173),xt=n.n(Ot),yt=n(214),Ct=function(e,t,n){return Object(w.a)({userSelect:"none",padding:n.spacing(.125),margin:"0 0 ".concat(n.spacing(.125),"px 0"),background:e?n.palette.secondary[400]:void 0},t)},Ft=function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}},kt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={sortBy:"",sortOrder:"ASC"},e.handleClose=function(){e.props.component.set({mode:null})},e.handleCancel=function(t){var n=e.props,a=n.component,o=n.preventReadAction;a.get("skipRead")||o?a.set({mode:null}):a.set({currentForm:t,mode:pt.a.MODES.READ})},e.handleClick=function(t){var n=e.props.component;n.get("skipRead")?n.set({currentForm:t,mode:pt.a.MODES.UPDATE}):n.set({currentForm:t,mode:pt.a.MODES.READ})},e.handleEdit=function(t){e.props.component.set({currentForm:t,mode:pt.a.MODES.UPDATE})},e.handleNew=function(){e.props.component.set({currentForm:null,mode:pt.a.MODES.CREATE})},e.handleSave=Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.component.save();case 2:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var t=Object(r.a)(o.a.mark((function t(n){var a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.component,i=n||a.get("form"),i.getValue("archivedAt")?a.set({currentForm:i,mode:pt.a.MODES.RESTORE}):n&&a.set({currentForm:n,mode:pt.a.MODES.DELETE});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleConfirmationClose=function(){var t=Object(r.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.component,!n){t.next=4;break}return t.next=4,a.archive(a.get("form"));case 4:a.set({mode:null});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleOrdering=function(t){e.setState(t,(function(){e.props.component.set({order:e.state.sortBy?[[e.state.sortBy,e.state.sortOrder]]:null})}))},e.onDragEnd=function(t){t.destination&&t.destination.index!==t.source.index&&e.props.component.moveAndSaveForm({sourceIndex:t.source.index,destinationIndex:t.destination.index})},e}return Object(d.a)(n,[{key:"canCreate",value:function(){return ze.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return ze.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return ze.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,n=e.showArchived,a=e.searchString,o=e.order;return!t&&!n&&!a&&!o}},{key:"cards",value:function(e,t){var n,a=this,o=this.props,r=o.component,l=o.forbidUpdate,s=o.forbidDelete,c=o.forbidOrder,p=o.editable,u=o.disabled,d=o.useDisplayValue,h=o.theme,m=12/(!1===c?1:this.props.maxColumns),f=[],j=0,v=Object(b.a)(r.getForms());try{var g=function(){var o=n.value;o.setEditable(!1);var c=o.getUniqueId(),b=r.getUniqueItemId(r._getFormKey(o)),v=r.getFormExtras(o),g=Object(i.jsx)(ke.a,{item:!0,xs:12,sm:m,lg:m,id:b,children:Object(i.jsx)(ot,{onClick:function(){return a.handleClick(o)},onEdit:function(){return a.handleEdit(o)},onDelete:a.handleDelete,component:o,forbidUpdate:l||!e||d,forbidDelete:s||!t||d,editable:p,disabled:u,buttons:null===v||void 0===v?void 0:v.buttons,id:b,"aria-label":"View ".concat(b)})},c);a.canDrag()?f.push(Object(i.jsx)(yt.b,{draggableId:b,index:j++,children:function(e,t){return Object(i.jsx)("div",Object(w.a)(Object(w.a)(Object(w.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:Ct(t.isDragging,e.draggableProps.style,h),"aria-label":"Drag ".concat(b),children:g}))}},b)):f.push(g)};for(v.s();!(n=v.n()).done;)g()}catch(O){v.e(O)}finally{v.f()}return f}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),n=ze.a.fieldsCanAccess("read",t),a=[];return t.eachField((function(e){var o=e.get("name");void 0===n[o]||e.get("forbidSort")||e.get("hidden")||e instanceof xt.a||a.push({value:(t.isDefaultField(o)?"":"fieldValues.")+o,label:e.get("label")})})),a}}},{key:"header",value:function(e){var t=this.props,n=t.forbidCreate,a=t.editable,o=t.disabled,r=t.component,l=t.forbidSort,s=t.store,c=t.useDisplayValue,p=this.state,u=p.sortBy,d=p.sortOrder,h=r.getSingularLabel(),m=r.reachedMax(),b=this.canCreate(),f=a&&!o&&!c&&!n&&!m&&b,j=!l,v=this.sortOptions(),g=e>0&&!!s;return Object(i.jsxs)(ke.a,{container:!0,spacing:0,children:[Object(i.jsx)(ke.a,{item:!0,xs:12,sm:6,lg:6,children:f?Object(i.jsx)(ie,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+h,marginTop:!1}):null}),Object(i.jsx)(ke.a,{item:!0,xs:12,sm:6,lg:6,align:"right",children:g&&j?Object(i.jsx)(gt,{onChange:this.handleOrdering,sortBy:u,sortOrder:d,options:v}):null})]})}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.component,o=e.spacerHeight,r=e.classes,l=e.isLoading,s=e.form,c=e.currentForm,p=e.noResults,u=e.disabled,d=e.accessEditable,h=e.useDisplayValue,m=e.theme,b=e.preventUpdate,f=e.preventDeleteAction,j=e.mode,v=!1===d||u,g=!1,O=null;f||!c||j!==pt.a.MODES.DELETE||c.getValue("archivedAt")||(g=!0,O="Delete this?");var y=a.get("label").toLowerCase(),C=this.canUpdate(),F=this.canArchive(),k={height:o},w=a.get("spacerId"),D=this.cards(C,F),N=D;this.canDrag()&&(N=Object(i.jsx)(yt.a,{onDragEnd:this.onDragEnd,children:Object(i.jsx)(yt.c,{droppableId:"droppable",children:function(e,t){return Object(i.jsxs)("div",{ref:e.innerRef,style:Ft(t.isDraggingOver,m),children:[D,e.placeholder]})}})}));var T=a.get("searchString")&&p,L=this.header(D.length);return Object(i.jsxs)("div",{children:[L,T?Object(i.jsxs)(x.a,{variant:"h4",children:[Object(i.jsx)(S,{icon:"Info"})," No ",y," found"]}):null,Object(i.jsx)("div",{id:w,className:r.spacer,style:k}),Object(i.jsx)(ke.a,{container:!0,spacing:0,children:N}),l?Object(i.jsx)("div",{className:r.footer}):null,Object(i.jsx)(dt,{component:s,currentForm:c,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!C||v||h||b,forbidDelete:n||!F||v||h||f}),Object(i.jsx)(bt,{open:g,onClose:this.handleConfirmationClose,title:O})]})}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=t.isBlank();return Object(i.jsxs)("span",{className:a.root,children:[!n&&Object(i.jsx)(ge,{component:t,inlineLabel:"true",shrinkLabel:!o}),this.field()]})}}]),n}(s.a.PureComponent);kt=j()((function(e){return{root:{width:"100%"},spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing(1),marginRight:e.spacing(1),animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing(1),animation:"fadeIn 1s infinite alternate"}}}),{withTheme:!0})(kt);var St=kt=G(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order","preventReadAction","preventUpdate","preventDeleteAction","buttonsFactory"])(kt),wt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDelete=function(){e.props.component.emit("delete")},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.help,o=e.disabled,r=e.editable;if(t){var l=t.get("block");return Object(i.jsxs)("span",{children:[Object(i.jsx)(Ie,{component:t,block:!1,disabled:o}),n&&!o&&r?Object(i.jsx)(y.a,{"aria-label":"Delete",onClick:this.handleDelete,children:Object(i.jsx)(S,{icon:"DeleteIcon"})}):null,a&&r?Object(i.jsx)(me,{help:a}):"",l?Object(i.jsx)(Ee,{}):null]})}return null}}]),n}(s.a.PureComponent),Dt=G(["value","disabled","editable"])(wt),Nt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleNew=function(){e.props.component.createField(),e.props.component.set({touched:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.useDisplayValue,o=e.autoCreateFields,r=e.hideLabel,l=e.editable,s=e.canDeleteEmpty,c=e.accessEditable,p=e.disabled,u=e.hideDeleteButton,d=t.getSingularLabel(),h=!1===c||p,m=[],b=!0,f=t.isBlank();return t.eachField((function(e,t){var o=e.isBlank();!b&&a&&o||m.push(Object(i.jsx)(Dt,{component:e,allowDelete:n&&!a&&(s||!o)&&!u,disabled:p},t)),b&&(b=!1)})),o||a||!l||h||m.push(Object(i.jsx)(ie,{"aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(d||""),marginTop:!1},"button")),Object(i.jsxs)("span",{children:[!r&&Object(i.jsx)(ge,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!f}),Object(i.jsx)("div",{children:m})]})}}]),n}(s.a.PureComponent),Tt=G(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Nt),Lt=n(401),Et=n(43),At=n.n(Et),Pt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.component.setValue(t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.editable,a=e.accessEditable,o=e.classes,r=e.useDisplayValue,l=!1!==a&&n&&!t,s=At.a.get("reCAPTCHASiteKey");return l&&!r?Object(i.jsx)("div",{className:o.captcha,children:Object(i.jsx)(Lt.a,{ref:"recaptcha",sitekey:s,onChange:this.handleChange})}):null}}]),n}(s.a.PureComponent);Pt=j()((function(e){return{captcha:{margin:e.spacing(1)}}}))(Pt);var It=G(["disabled","editable","useDisplayValue"])(Pt),Bt=n(971),Vt=n(907),Mt=n(975),Rt=n(400),Wt=n(6),Ut=n(266);function qt(e){var t=e.inputRef,n=Object(Y.a)(e,["inputRef"]);return Object(i.jsx)("div",Object(w.a)({ref:t},n))}var Gt={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),Object(i.jsx)(K.a,Object(w.a)(Object(w.a)({},t),{},{InputProps:{inputComponent:qt,inputProps:Object(w.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children,"aria-label":e.selectProps.ariaLabel},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return Object(i.jsx)(Se.a,Object(w.a)(Object(w.a)({square:!0,className:e.selectProps.classes.paper},e.innerProps),{},{children:e.children}))},MultiValue:function(e){return Object(i.jsx)(Mt.a,{tabIndex:-1,label:e.children,className:J()(e.selectProps.classes.chip,{[e.selectProps.classes.chipFocused]:e.isFocused,[e.selectProps.classes.disabled]:e.selectProps.isDisabled}),onDelete:e.removeProps.onClick,deleteIcon:Object(i.jsx)(S,{icon:"Cancel","aria-label":"Remove",role:"button","aria-hidden":"false"})})},NoOptionsMessage:function(e){return Object(i.jsx)(x.a,Object(w.a)(Object(w.a)({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),{},{children:e.children}))},Option:function(e){return Object(i.jsx)(ft.a,Object(w.a)(Object(w.a)({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),{},{children:e.children}))},SingleValue:function(e){return Object(i.jsx)(x.a,Object(w.a)(Object(w.a)({className:J()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),{},{children:e.children}))},ValueContainer:function(e){return Object(i.jsx)("div",{className:e.selectProps.classes.valueContainer,children:e.children})}},Ht=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.isClearable,o=e.placeholder,r=e.onChange,l=e.onBlur,s=e.onFocus,c=e.onInputChange,p=e.value,u=e.isDisabled,d=e.fullWidth,h=e.isMulti,m=e.id,b={dropdownIndicator:function(e){return Object(w.a)(Object(w.a)({},e),{},{cursor:"pointer"})},clearIndicator:function(e){return Object(w.a)(Object(w.a)({},e),{},{cursor:"pointer"})},menuPortal:function(e){return Object(w.a)(Object(w.a)({},e),{},{zIndex:2e3})}};return Object(i.jsx)(Rt.a,{id:m,className:J()(t.root,d&&t.fullWidth),classes:t,styles:b,options:n,components:Gt,value:p,onChange:r,onBlur:l,onFocus:s,onInputChange:c,placeholder:o,isClearable:a,isDisabled:u,fullWidth:d,isMulti:h,menuPortalTarget:document.body,ariaLabel:this.props["aria-label"]})}}]),n}(s.a.Component),zt=Object(Wt.a)((function(e){return{input:{display:"flex",padding:0,minWidth:240,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:e.spacing(2)+5},chip:{margin:"".concat(e.spacing(1),"px ").concat(e.spacing(.25),"px")},chipFocused:{backgroundColor:Object(Ut.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1)},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}}))(Ht),Kt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={focus:!1},e}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e?e.map((function(e){return e.value})):null):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,n=e.blankString,a=e.value,o=e.multiple;if(t){var r=[];return!o&&n&&r.push(Object(i.jsx)(ft.a,{value:"",children:Object(i.jsx)("em",{children:n})},"")),t.forEach((function(e){if(o){var t=!!a&&-1!==a.indexOf(e.value);r.push(Object(i.jsxs)(ft.a,{value:e.value,children:[Object(i.jsx)(Bt.a,{checked:t}),Object(i.jsx)(A.a,{primary:e.label})]},e.value))}else r.push(Object(i.jsx)(ft.a,{value:e.value,children:e.label},e.value))})),r}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.err,o=t.touched,r=t.disabled,l=t.component,s=t.fullWidth,c=t.classes,p=t.editable,u=t.multiple,d=t.accessEditable,h=t.useDisplayValue,m=t.options,b=t.autocomplete,f=this.state.focus,j=!1===d||r,v=u?[]:"";n&&(v=n);var g=void 0,O=void 0;u&&(g=Object(i.jsx)(Vt.a,{}),O=function(e){return Object(i.jsx)("div",{className:c.chips,children:e.map((function(e){return Object(i.jsx)(Mt.a,{label:l.getOptionLabel(e),className:c.chip},e)}))})});var x={},y=null,C=l.get("label");if(p&&!h)if(b){var F=null;F=u?v.map((function(e){return{value:e,label:l.getOptionLabel(e)}})):{value:v,label:l.getOptionLabel(v)},!f&&l.isValueBlank(v)||(x.shrinkLabel=!0),y=Object(i.jsx)(zt,{id:l.getUniqueId(),options:m,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:F,isDisabled:j,fullWidth:s,isMulti:u,"aria-label":C})}else y=Object(i.jsx)(jt.a,{id:l.getUniqueId(),multiple:u,error:!(!o||!a),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:g,renderValue:O,value:v,disabled:j,fullWidth:s,className:c.formControl,"aria-label":C,children:this.renderOptions()});else{var k=null;k=u&&n?n.map((function(e){return Object(i.jsx)(Mt.a,{label:l.getOptionLabel(e),className:c.chip},e)})):l.getDisplayValue(),y=Object(i.jsx)(ye,{"aria-label":C,children:k})}return Object(i.jsx)(ge,Object(w.a)(Object(w.a)({component:l},x),{},{children:y}))}}]),n}(s.a.PureComponent);Kt=j()((function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing(.25)}}}))(Kt);var $t=G(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(Kt),Jt=n(918),Xt=n(406),_t=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var a=e.props,o=a.component,i=a.items;o.set({value:n});var r=i[n].name;o.emitChange(r)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.value;return Object(i.jsx)(v.a,{position:"static",color:"default",elevation:1,children:Object(i.jsx)(Jt.a,{value:n,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"fullWidth",children:t.map((function(e,t){return Object(i.jsx)(Xt.a,{label:e.label,icon:Object(i.jsx)(S,{icon:e.icon})},t)}))})})}}]),n}(s.a.Component),Zt=_t=G(["items","value"])(_t),Yt=n(967),Qt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.editable,r=e.useDisplayValue,l=e.showSeconds,s=e.fullWidth,c=e.disabled,p=!1===e.accessEditable||c,u=!1,d=null;return o&&!r?(u=!!a,d=Object(i.jsx)(We.a,{utils:Ue.a,children:Object(i.jsx)("span",{children:Object(i.jsx)(Yt.a,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,seconds:l,onClose:this.handleBlur,fullWidth:s,disabled:p,invalidDateMessage:""})})})):d=Object(i.jsx)(ye,{children:t.getDisplayValue()}),Object(i.jsx)(ge,{component:t,shrinkLabel:u,children:d})}}]),n}(s.a.PureComponent);Qt=j()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Qt);var en=G(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(Qt),tn=n(395),nn=n.n(tn),an=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.text;return Object(i.jsx)(x.a,{component:"div",children:Object(i.jsx)(nn.a,{source:e})})}}]),n}(s.a.PureComponent),on=an=G(["text"])(an),rn=n(396),ln=n.n(rn),sn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props.component,n=t.fromUIValue(e.target.value);t.setValue(n)},a.handleBlur=function(){a.props.component.setTouched(!0)},a.handleKeyUp=function(e){13===e.keyCode&&a.props.component.setTouched(!0)},a.TextMaskCustom=function(e){var t=e.inputRef,n=Object(Y.a)(e,["inputRef"]),o=a.props.mask;return Object(i.jsx)(ln.a,Object(w.a)(Object(w.a)({},n),{},{ref:function(e){t(e?e.inputElement:null)},mask:o}))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.err,n=e.maxLength,a=e.touched,o=e.disabled,r=e.component,l=e.fullWidth,s=e.type,c=e.editable,p=e.accessEditable,u=e.multiline,d=e.rows,h=e.rowsMax,m=e.useDisplayValue,b=e.mask,f=e.displayValue,j=!1===p||o,v=null;if(c&&!m){var g={};b&&(g.inputComponent=this.TextMaskCustom);var O=r.getUIValue();v=Object(i.jsx)(Vt.a,Object(w.a)({id:r.getUniqueId(),error:!(!a||!t),inputProps:{maxLength:n},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:O||"",disabled:j,fullWidth:l,type:s,multiline:u,rows:d,rowsMax:h},g))}else v=Object(i.jsx)(ye,{id:r.getUniqueId(),"aria-label":r.get("label"),children:f||r.getDisplayValue()});return Object(i.jsx)(ge,{component:r,children:v})}}]),n}(s.a.PureComponent),cn=G(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(sn),pn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.value,a=e.editable,o=e.useDisplayValue,r=e.newWindow,l=null;if((!a||o)&&n){var s=n;0!==s.indexOf("http")&&(s="http://"+s),l=Object(i.jsx)("a",{href:s,target:r?"_blank":"_self",children:n})}return Object(i.jsx)(cn,{component:t,displayValue:l})}}]),n}(s.a.PureComponent),un=G(["value","editable","useDisplayValue","newWindow"])(pn),dn={ButtonField:le,BooleanField:Fe,Card:De,ChainedSelectField:Ve,ChainedSelectListField:Tt,ComponentField:Te,CompositeField:Ve,DateField:Ge,Field:Ie,Form:$e,FormField:Xe,Fragment:Ze,Grid:tt,GridItem:Qe,CollectionField:St,IdField:cn,IntegerField:cn,ListField:Tt,MoneyField:cn,NumberField:cn,PhoneField:cn,ReCAPTCHAField:It,SelectField:$t,SelectListField:Tt,Tabs:Zt,TimeField:en,Text:on,TextField:cn,TextListField:Tt,URLField:un,User:$e},hn=n(54),mn=n.n(hn),bn=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),n=dn[t];if(void 0!==n)return n;if(mn.a.isCompiled(mn.a.getComponent(t))){var a=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new a)}var o=mn.a.getOldestCompiledAncestor(t),i=mn.a.getComponent(o);return this.getUIComponent(new i)}}]),e}()),fn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var a=e.props,o=a.on,i=a.component;o&&o({name:t,value:n,component:i});var r="on"+t.charAt(0).toUpperCase()+t.slice(1);e.props[r]&&e.props[r]({value:n,component:i})},e}return Object(d.a)(n,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(Y.a)(e,["component"]);if(t){var a=bn.getUIComponent(t);return Object(i.jsx)(a,Object(w.a)({component:t},n))}return null}}]),n}(s.a.PureComponent),jn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={component:null},e}return Object(d.a)(n,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:mn.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),n=Object(Y.a)(e,["definition","component"]),a=t;return t||(a=this.state.component),a&&a.get("hidden")?null:Object(i.jsx)(fn,Object(w.a)({component:a},n))}}]),n}(s.a.PureComponent),vn=G(["hidden"])(jn),gn=n(117),On=n.n(gn),xn=n(410),yn=n(974),Cn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClose=function(t,n){"clickaway"!==n&&e.props.onClose&&e.props.onClose()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.message,a=e.open;return Object(i.jsx)(yn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:Object(i.jsx)("span",{id:"message-id",children:n}),action:[Object(i.jsx)(y.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose,children:Object(i.jsx)(S,{icon:"Close"})},"close")]})}}]),n}(s.a.PureComponent),Fn=j()((function(e){return{close:{padding:e.spacing(.5)}}}))(Cn),kn=n(51),Sn=n.n(kn),wn=n(136),Dn=n.n(wn),Nn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchStringInput:"",showSearch:!1,showSearchOnMobile:!1},a.form=null,a.path=null,a.onNavigate=function(e){var t=a.state.menuItem;t&&t.producedContent.has("dirty")&&t.producedContent.get("dirty")&&!t.fullScreen?At.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.handleNavigate=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push(t.path);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.confirmation).callback&&t&&n.callback(t),a.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.switchContent=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var i,r,l,s,c,p,u,d,h,m,b,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=a.state.currentComponent)&&i.emitUnload(),!(r=t&&t.content)){e.next=20;break}if(l=a.props,s=l.location,c=l.component,p=c.get("menu"),At.a.set({route:p.toRoute({parameters:n,queryString:s.search.substr(1),hash:s.hash.substr(1)})}),u=p.getParent(t.path),!a.requireAccess(t.roles)||u&&!a.requireAccess(u.roles)){e.next=18;break}if(d=null,!(r instanceof Sn.a)){e.next=16;break}return e.next=13,r.run({component:r});case 13:d=e.sent,e.next=17;break;case 16:d=r;case 17:d&&d instanceof On.a&&(t.producedContent=d,(h=d).emitLoad(),m=a.canArchive(h),b=m.canArchive,f=m.canSearch,At.a.set({searchString:null}),a.setState({menuItem:t,showArchived:!1,showArchivedToggle:b,searchStringInput:"",showSearch:f,currentComponent:h}));case 18:e.next=21;break;case 20:a.setState({currentComponent:null});case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onLocation=function(e){At.a.set({path:e.pathname,pathHash:e.hash,pathSearch:e.search})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleArchivedChange=function(e){a.setState({showArchived:e.target.checked});var t=a.state.menuItem;t&&(t.producedContent.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},a.handleSearchStringInputChange=function(e){a.setState({searchStringInput:e})},a.handleSearch=function(e){a.setState({searchStringInput:e},(function(){At.a.set({searchString:e||null})}))},a.toggleShowSearch=function(){a.setState({showSearchOnMobile:!a.state.showSearchOnMobile})},a.setGlobalOnNavigate(),a}return Object(d.a)(n,[{key:"setGlobalOnNavigate",value:function(){At.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;At.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.props.component.get("menu").getItemAndParsePath(e);return this.switchContent(t.item,t.params)}},{key:"canArchive",value:function(e){var t=!1,n=!1;if(e&&e instanceof Dn.a){var a,o=Object(b.a)(e.getFields());try{for(o.s();!(a=o.n()).done;){var i=a.value;i instanceof pt.a&&(t=!i.get("forbidViewArchived")&&ze.a.canArchive(i.get("form")),n=!i.get("forbidSearch"))}}catch(r){o.e(r)}finally{o.f()}}return{canArchive:t,canSearch:n}}},{key:"emitLoggedOut",value:function(){At.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||M.a.client&&M.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentDidUpdate",value:function(e){var t=At.a.get("snackbarMessage");if(t&&(this.displaySnackbar(t),At.a.set({snackbarMessage:null})),this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path===e.path&&this.props.pathHash===e.pathHash&&this.props.pathSearch===e.pathSearch||this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var n=this.state.menuItem;n&&n.producedContent.has("searchString")&&n.producedContent.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),M.a.client&&M.a.client.user.awaitSession(),this.onLocation(this.props.location),window.addEventListener("scroll",(function(t){var n=e.state.menuItem;n&&n.producedContent.emit("scroll",t)})),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"archivedToggle",value:function(){var e=this.state,t=e.showArchived,n=!!t,a=null;return e.showArchivedToggle&&(a=Object(i.jsx)(g.a,{title:t?"Show Active":"Show Deleted",children:Object(i.jsx)(se.a,{onChange:this.handleArchivedChange,checked:n})})),a}},{key:"searchBox",value:function(e){var t=this.props.classes,n=this.state,a=n.searchStringInput,o=null;return n.showSearch&&(o=Object(i.jsx)(_,{fullWidth:e,className:t.alignRight,searchString:a,onChange:this.handleSearchStringInputChange,onSearch:this.handleSearch})),o}},{key:"menuButton",value:function(){var e=this.props.classes,t=this.isResponsive();return Object(i.jsx)(y.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:t?e.navIconHide:"",children:Object(i.jsx)(S,{icon:"Menu"})})}},{key:"title",value:function(){var e=this.state.menuItem;return Object(i.jsx)(x.a,{variant:"h6",color:"inherit",noWrap:!0,children:e?e.label:""})}},{key:"appBar",value:function(){var e=this.props,t=e.classes,n=e.width,a=this.state.showSearchOnMobile,o=Object(xn.b)("sm",n),r=this.isResponsive(),l=null;return l=o?a?Object(i.jsxs)(s.a.Fragment,{children:[Object(i.jsx)(y.a,{color:"inherit","aria-label":"close search",onClick:this.toggleShowSearch,children:Object(i.jsx)(S,{icon:"ArrowBack"})}),this.searchBox(!0)]}):Object(i.jsxs)(s.a.Fragment,{children:[this.menuButton(),this.title(),this.archivedToggle(),Object(i.jsx)(y.a,{color:"inherit","aria-label":"toggle search",onClick:this.toggleShowSearch,className:t.alignRight,children:Object(i.jsx)(S,{icon:"Search"})})]}):Object(i.jsxs)(s.a.Fragment,{children:[this.menuButton(),this.title(),this.archivedToggle(),this.searchBox()]}),Object(i.jsx)(v.a,{elevation:1,className:t.appBar+(r?" ".concat(t.appBarResponsive):""),children:Object(i.jsx)(O.a,{children:l})})}},{key:"isResponsive",value:function(){return!this.props.menuAlwaysTemporary}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=e.confirmation,o=this.state,r=o.mobileOpen,l=o.menuItem,s=o.snackbarOpen,c=o.snackbarMessage,p=o.confirmationOpen,u=o.currentComponent,d=this.isResponsive(),h=n.get("menu"),m=this.props.location.pathname,b=u?Object(i.jsx)(vn,{component:u}):null,f=this.appBar(),j=Object(i.jsx)(z,{component:h,onDrawerToggle:this.handleDrawerToggle,mobileOpen:r,onNavigate:this.handleNavigate,path:m,responsive:d}),v=null;return l&&l.fullScreen&&(v={marginLeft:0,marginTop:0}),Object(i.jsx)("div",{className:t.root,children:Object(i.jsxs)("div",{className:t.appFrame,children:[l&&l.fullScreen?null:f,l&&l.fullScreen?null:j,Object(i.jsxs)("main",{className:t.content+(d?" ".concat(t.contentResponsive):""),style:v,children:[Object(i.jsx)(Z.d,{children:Object(i.jsx)(Z.b,{})}),b,Object(i.jsx)(Fn,{open:s,message:c,onClose:this.handleSnackbarClose}),Object(i.jsx)(bt,{open:p,onClose:this.handleConfirmationClose,title:a?a.title:null,text:a?a.text:null,alert:a?a.alert:null})]})]})})}}]),n}(s.a.PureComponent);Nn=j()((function(e){return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:{[e.breakpoints.up("md")]:{width:"calc(100% - ".concat(240,"px)")}},navIconHide:{[e.breakpoints.up("md")]:{display:"none"}},content:{backgroundColor:e.palette.background.default,width:"100%",padding:e.spacing(3),height:"calc(100% - 56px)",marginTop:56,[e.breakpoints.up("sm")]:{height:"calc(100% - 64px)",marginTop:64},overflowAnchor:"none"},contentResponsive:{[e.breakpoints.up("md")]:{marginLeft:240}},alignRight:{marginLeft:"auto"}}}),{withTheme:!0})(Nn),Nn=Object(xn.a)()(Nn),Nn=Object(Z.g)(Nn),Nn=G(["menuAlwaysTemporary"])(Nn);var Tn=Nn=G(["path","pathHash","pathSearch","redirectPath","snackbarMessage","confirmation","searchString"],At.a)(Nn),Ln=n(968),En=n(953),An=n(265),Pn=n.n(An),In=n(397),Bn=n.n(In),Vn=n(398),Mn=n.n(Vn),Rn=n(269),Wn=Pn()({palette:{primary:Bn.a,secondary:Mn.a},typography:{useNextVariants:!0}}),Un=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onNavigate=function(e,t){At.a.onNavigate(e,t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.basename;return Object(i.jsxs)(En.a,{theme:Wn,children:[Object(i.jsx)(Ln.a,{}),Object(i.jsx)(Rn.a,{getUserConfirmation:this.onNavigate,basename:n,children:Object(i.jsxs)("div",{children:[Object(i.jsx)(Tn,{component:t}),Object(i.jsx)(Z.a,{message:"foo"})]})})]})}}]),n}(s.a.Component),qn=G(["basename"])(Un),Gn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Hn(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mson-react","/service-worker.js");Gn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):zn(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):zn(e)}))}}function zn(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Kn=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.a.client){e.next=3;break}return e.next=3,M.a.client.user.awaitSession();case 3:p.a.render(Object(i.jsx)(qn,{component:t}),document.getElementById("root")),Hn();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$n=(n(897),{name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-builder",label:"Form Builder",content:{component:"app.FormBuilder"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}},{path:"/grid",label:"Grid",content:{component:"app.Grid"}},{path:"/router",label:"Router",items:[{path:"/router/redirect",label:"Redirect",content:{component:"Action",actions:[{component:"Redirect",path:"/router/person/p123/message/m456?first=Trevor&last=Noah#hash123"}]}},{path:"/router/generate-component",label:"Generate Component",content:{component:"app.GenerateComponent"}}]},{path:"/router/person/:personId/message/:messageId",label:"Router",content:{component:"app.Router"},hidden:!0}]}}),Jn=n(403),Xn=n(118),_n=n(122),Zn=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_create",value:function(e){var t=this;Object(Jn.a)(Object(Xn.a)(n.prototype),"_create",this).call(this,e),this.set({fields:[new _n.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new _n.TextField({name:"lastName",label:"Last Name",required:!0}),new _n.EmailField({name:"email",label:"Email"}),new _n.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new _n.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new _n.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",(function(){t.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})})),this.on("submit",(function(){var e=t.getValues();console.log("submitting",e),At.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName)),t.reset()})),this.on("cancel",(function(){At.a.redirect("/")}))}}]),n}(Dn.a);mn.a.registerComponent("app.ContactNoMSON",Zn);var Yn=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],Qn={App:$n,Contacts:{name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},ContactsLocalStorage:{name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},ContactsFirebase:{name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},EditContact:{name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},FieldsScreen:{name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/coxgeoffrey"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},Fields:{name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:Yn},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:Yn},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},FormBuilder:{name:"app.FormBuilder",component:"FormBuilder","fields.form.form.fields.fields.store":{component:"LocalStorageStore",storeName:"myForm"}},GenerateComponent:{name:"app.GenerateComponent",component:"Action",schema:{component:"Form",fields:[{name:"componentType",component:"TextField"}]},actions:[{component:"Action",if:{"globals.route.query.type":null},actions:[{component:"Set",name:"componentType",value:"CountryField"}],else:[{component:"Set",name:"componentType",value:"{{globals.route.query.type}}"}]},{component:"GenerateComponent",definition:JSON.stringify({component:"Form",fields:[{name:"type",component:"SelectField",label:"Field Type",options:[{value:"TextField",label:"TextField"},{value:"PersonFullNameField",label:"PersonFullNameField"},{value:"CountryField",label:"CountryField"}],value:"{{componentType}}",autocomplete:!1},{name:"generatedField",component:"{{componentType}}",label:"Generated Field"}],listeners:[{event:"fields.type.value",actions:[{component:"Redirect",path:"/router/generate-component?type={{fields.type.value}}"}]}]})}]},Grid:{name:"app.Grid",component:"Grid",items:[{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# A"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# B"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# C"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# D"}},{component:"GridItem",md:6,xs:12,content:{name:"toggleA",component:"ButtonField",label:"Toggle A",listeners:[{event:"click",actions:[{component:"Action",if:{"parent.parent.items.0.hidden":!0},actions:[{component:"Set",name:"parent.parent.items.0.hidden",value:!1}],else:[{component:"Set",name:"parent.parent.items.0.hidden",value:!0}]}]}]}}]},Home:{name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},Tasks:{name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},TasksLocalStorage:{name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},TasksFirebase:{name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},Router:{name:"app.Router",component:"Form",fields:[{component:"TextField",name:"personId",label:"personId",block:!1},{component:"TextField",name:"messageId",label:"messageId"},{component:"TextField",name:"first",label:"first",block:!1},{component:"TextField",name:"last",label:"last"},{component:"TextField",name:"hash",label:"hash"},{component:"ButtonField",name:"submit",label:"Go",type:"submit",icon:"Send"}],listeners:[{event:"load",actions:[{component:"Set",name:"value",value:{personId:"{{globals.route.parameters.personId}}",messageId:"{{globals.route.parameters.messageId}}",first:"{{globals.route.query.first}}",last:"{{globals.route.query.last}}",hash:"{{globals.route.hash}}"}}]},{event:"submit",actions:[{component:"Set",name:"pristine",value:!0},{component:"Redirect",path:"/router/person/{{fields.personId.value}}/message/{{fields.messageId.value}}?first={{fields.first.value}}&last={{fields.last.value}}#{{fields.hash.value}}"}]}]}},ea=n(270),ta=n.n(ea),na=n(969),aa=n(970),oa=n(204),ia=n.n(oa),ra=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={field:null},e.handleValueChange=function(t){var n=e.props.component,a=e.state.field,o=null;if(!a||t.componentName!==a.getClassName())if(a&&a.destroy(),t.componentName){o=mn.a.newComponent({component:t.componentName});var i=function(){a.clearErr(),a.validate()};(a=o.isField?o:new ia.a({content:o})).on("value",i),a.on("touched",i)}else a=null;if(a){var r=n.getValues({default:!1});o="ComponentField"===a.getClassName()?a.get("content"):a,B()(r,(function(e,t){o.has(t)&&o.set({[t]:e})}))}e.setState({field:a})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.formTag,o=e.mode,r=this.state.field,l=null;return r&&"read"!==o&&(l=Object(i.jsx)(na.a,{className:n.card,children:Object(i.jsxs)(aa.a,{children:[Object(i.jsx)(x.a,{color:"textSecondary",gutterBottom:!0,children:"Preview"}),Object(i.jsx)(Ie,{component:r})]})})),"read"!==o?Object(i.jsxs)(s.a.Fragment,{children:[Object(i.jsx)("div",{className:n.preview,children:l}),Object(i.jsx)("div",{className:n.form,children:Object(i.jsx)($e,{component:t,formTag:a,mode:o})})]}):r?Object(i.jsx)(Ie,{component:r,disabled:!0}):null}}]),n}(s.a.PureComponent);ra=j()((function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:e.spacing(3)}}}))(ra);var la=ra=G(["mode"])(ra),sa=n(271),ca=n.n(sa),pa=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.component;if(!1!==t)return Object(i.jsx)($e,Object(w.a)({},this.props));var a=n.get("definition");return Object(i.jsx)(vn,{definition:a,formTag:!1})}}]),n}(s.a.Component),ua=pa=G(["editable"])(pa),da=n(399),ha=n.n(da);for(var ma in At.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),mn.a.registerComponent("FieldEditorForm",ta.a),dn.FieldEditorForm=la,mn.a.registerComponent("FormEditor",ca.a),dn.FormEditor=ua,mn.a.registerComponent("FormBuilder",ha.a),Qn){var ba=Qn[ma];mn.a.registerComponent(ba.name,ba)}Kn(mn.a.newComponent({component:"app.App"}))}},[[899,1,2]]]);
//# sourceMappingURL=main.0e806b1e.chunk.js.map