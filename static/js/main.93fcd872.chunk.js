(this["webpackJsonpmson-react"]=this["webpackJsonpmson-react"]||[]).push([[0],{101:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","FormField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"form",component:"Field",required:!0},{name:"pristine",component:"BooleanField"},{name:"elevate",component:"BooleanField"}]}}),this._listenForLoad()}},{key:"_listenToForm",value:function(e){var t=this;this._bubbleUpEvents(e,["dirty","touched"]),e.on("value",(function(){return t._set("value",t.getValues())}))}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){e.get("form").emitLoad()}}},{key:"_listenForLoad",value:function(){this.on("load",this._handleLoadFactory())}},{key:"_setForm",value:function(e){var t=this.get("form");t&&t.removeAllListeners(),this._set("form",e),this._listenToForm(e)}},{key:"set",value:function(e){var t=Object.assign({},e,{form:void 0});(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,t),void 0!==e.form&&this._setForm(e.form),null===e.err&&this._setOnForm({err:null}),this._form&&this._setOn(this._form,t,["value","dirty","disabled","editable","touched","pristine","useDisplayValue","fullWidth"])}},{key:"getOne",value:function(e){var t=this._getFrom(this._form,e,["dirty","disabled","editable","touched","pristine"]);return void 0!==t?t:(0,l.default)((0,c.default)(n.prototype),"getOne",this).call(this,e)}},{key:"validate",value:function(){var e=this.get("form");e.validate(),e.hasSetErrors()?this.setErr(e.getErrs()):((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.hasErr()&&e.hasErr()&&this.setErr(e.getErrs()))}},{key:"getForm",value:function(){return this.get("form")}},{key:"getValues",value:function(){return this.get("form").get("value")}},{key:"setValues",value:function(e){this.get("form").setValues(e)}},{key:"getField",value:function(e){return this.get("form").getField(e)}},{key:"isBlank",value:function(){return this.get("form").isBlank()}},{key:"_setOnForm",value:function(e){this.get("form").set(e)}}]),n}(a(n(52)).default);t.default=h},102:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(234)).default;t.default=r},107:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ButtonField",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"DateField",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"FormField",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"CollectionField",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"IdField",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"IntegerField",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"ListField",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"NumberField",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"SelectField",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"TextField",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"TextListField",{enumerable:!0,get:function(){return v.default}}),t.PersonNameField=t.PersonFullNameField=t.PasswordField=t.EmailField=void 0;var r=a(n(43)),o=a(n(155)),i=a(n(152)),l=a(n(52)),u=a(n(101)),s=a(n(50)),c=a(n(189)),d=a(n(341)),f=a(n(115)),h=a(n(151)),p=a(n(150)),m=a(n(92)),v=a(n(248)),y=r.default.getCompiledComponent.bind(r.default),b=y("EmailField");t.EmailField=b;var g=y("PersonFullNameField");t.PersonFullNameField=g;var _=y("PersonNameField");t.PersonNameField=_;var F=y("PasswordField");t.PasswordField=F},115:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(17)),i=a(n(12)),l=a(n(14)),u=a(n(15)),s=a(n(18)),c=a(n(13)),d=a(n(16)),f=a(n(328)),h=a(n(68));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var b=function(e){(0,l.default)(n,e);var t=y(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,d.default)((0,o.default)(a),"_className","ListField"),a.get("startWithField")&&a._createNewField(),a}return(0,i.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this._nextFieldName=0,this.set({schema:{component:"Form",fields:[{name:"allowDelete",component:"BooleanField"},{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"fieldFactory",component:"Field",required:!0},{name:"allowScalar",component:"BooleanField"},{name:"singularLabel",component:"TextField",label:"Singular Label",docLevel:"basic"},{name:"autoCreateFields",component:"BooleanField"},{name:"startWithField",component:"BooleanField"},{name:"canDeleteEmpty",component:"BooleanField"},{name:"hideDeleteButton",component:"BooleanField"}]}}),this._setDefaults(e,{allowDelete:!0,startWithField:e.fieldFactory,canDeleteEmpty:!0})}}]),(0,i.default)(n,[{key:"_createNewField",value:function(){this.createField()}},{key:"_getValue",value:function(){var e=[];return this.eachField((function(t){var n=t.getValue();n&&e.push(n)})),e.length>0?e:null}},{key:"_isLastFieldBlank",value:function(){return this._fields.last().isBlank()}},{key:"_removeField",value:function(e){if(1===this._fields.length())e.clearValue();else{var t=e.get("name");this._removeFieldByName(t),e.destroy()}this.emitChangeToField(e),this._calcValue(),this.get("autoCreateFields")&&!this._isLastFieldBlank()&&this.canAddMoreFields()&&this.createField()}},{key:"_hasField",value:function(e){return this._fields.has(e)}},{key:"_clearFieldIfExists",value:function(e){this._hasField(e)&&this._getField(e).clearValue()}},{key:"_shouldRemoveField",value:function(){return!0}},{key:"_getField",value:function(e){return this._fields.get(e)}},{key:"_removeFieldByName",value:function(e){return this._fields.delete(e)}},{key:"_onFieldCreated",value:function(e){var t=this;e.on("value",(function(e){t._calcValue()}))}},{key:"_getNextFieldName",value:function(){return this._nextFieldName++}},{key:"_handleDirtyFactory",value:function(){var e=this;return function(t){t&&e.set({dirty:!0})}}},{key:"createField",value:function(){var e=this,t=this._getNextFieldName(),n=this._newField(t),a=function(){e._removeField(n)};return n.on("delete",a),n.on("dirty",this._handleDirtyFactory()),this._onFieldCreated(n,a),this._addField(n,t),n}},{key:"_getOrCreateField",value:function(e){return this._hasField(e)?this._getField(e):this.createField()}},{key:"_calcValue",value:function(){this.set({dirty:!0}),this._value=this._getValue(),this.emitChange("value",this._value)}},{key:"_listenForChangesToField",value:function(e){this._bubbleUpTouches(e)}},{key:"_isLastField",value:function(e){return e.get("name")===this._fields.lastKey()}},{key:"_cleanUpNextFields",value:function(e){var t=null===e?this._fields.firstKey():this._fields.nextKey(e);if(null!==t){var n,a=!0,r=m(this._fields.values(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;a||!this._shouldRemoveField(o)?(o.clearValue(),a=!1):this._removeField(o)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"_validateValueType",value:function(e){var t=!1;null===e||Array.isArray(e)||this.get("allowScalar")||(t=!0),this._hasTypeError=t}},{key:"_setValue",value:function(e){var t=this;(0,s.default)((0,c.default)(n.prototype),"_setValue",this).call(this,e),this._validateValueType(e);var a=null;if(!this._hasTypeError){var r=this._fields.values(),o=null;Array.isArray(e)?o=e:this.get("allowScalar")&&(o=[e]),null!==o&&o.forEach((function(e){var n=r.next().value;n||(n=t.createField()),n.setValue(e),a=n.get("name")}))}this._cleanUpNextFields(a)}},{key:"_setDirty",value:function(e){(0,s.default)((0,c.default)(n.prototype),"_setDirty",this).call(this,e),this.eachField((function(t){return t.set({dirty:e})}))}},{key:"setTouched",value:function(e){(0,s.default)((0,c.default)(n.prototype),"setTouched",this).call(this,e),this.eachField((function(t){return t.setTouched(e)}))}},{key:"set",value:function(e){(0,s.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.block&&this.eachField((function(t){return t.set({block:e.block})}))}},{key:"validate",value:function(){this.clearErr(),(0,s.default)((0,c.default)(n.prototype),"validate",this).call(this);var e=[];if(this._hasTypeError)e.push({error:"must be an array"});else{var t,a=m(this._fields.values());try{for(a.s();!(t=a.n()).done;){var r=t.value;r.validate(),r.hasErr()&&e.push({field:r.get("name"),error:r.getErr()})}}catch(u){a.e(u)}finally{a.f()}var o=this.getValue();if(o){var i=this.get("minSize"),l=this.get("maxSize");null!==i&&o.length<i?e.push({error:"".concat(i," or more")}):null!==l&&o.length>l&&e.push({error:"".concat(l," or less")})}}e.length>0&&this.setErr(e)}},{key:"canAddMoreFields",value:function(e){var t=this.get("maxSize"),n=this.getValue(),a=n?n.length:0;return e&&a++,!(null!==t&&n&&a>=t)}},{key:"produce",value:function(){return this.get("fieldFactory").produce()}},{key:"_newField",value:function(e){var t=this.produce();return t.set(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e},this.get(["required","block","fullWidth","useDisplayValue","editable"]))),t}},{key:"_clearFields",value:function(){this._fields.clear(),this._nextFieldName=0}},{key:"getSingularLabel",value:function(){return this.get("singularLabel")?this.get("singularLabel"):this.get("label")?h.default.toSingular(this.get("label")):null}}]),n}(f.default);t.default=b},118:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(85)).default;t.default=r},149:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Reorder=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(16)),l=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"_handleReorder",value:function(e,t,n){if(e.order!==t)return n(e,t)}},{key:"reorderItem",value:function(e,t,n,a,r,o){var i=null;return a===n&&n!==this.constructor.DEFAULT_ORDER&&(a++,r=e.id),e.id===t?i=this._handleReorder(e,n,o):e.order===this.constructor.DEFAULT_ORDER&&e.archivedAt||(i=this._handleReorder(e,a,o),a++),{i:a,destinationKey:r,afterReordered:i}}},{key:"reorder",value:function(e,t,n,a){var r=this,o=0,i=null;return e.forEach((function(e){var l=r.reorderItem(e,t,n,o,i,a);o=l.i,i=l.destinationKey})),{destinationKey:i}}}]),e}();t.Reorder=l,(0,i.default)(l,"DEFAULT_ORDER",-1);var u=new l;t.default=u},150:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(712)),h=a(n(113));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","SelectField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"options",component:"OptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"ensureInList",component:"BooleanField"},{name:"multiple",component:"BooleanField"},{name:"removeIfNotInList",component:"BooleanField"},{name:"autocomplete",component:"BooleanField"}]}}),this._setDefaults(e,{ensureInList:!0,multiple:!1,removeIfNotInList:!0,autocomplete:!0})}},{key:"_setProperty",value:function(e,t){(0,l.default)((0,c.default)(n.prototype),"_setProperty",this).call(this,e,t),"multiple"===e&&this.set({allowScalar:!t})}},{key:"getOne",value:function(e){return"value"===e&&this.isValueBlank(this._value)?null:(0,l.default)((0,c.default)(n.prototype),"getOne",this).call(this,e)}},{key:"getOptionLabel",value:function(e){var t=null;return this._options&&this._options.forEach((function(n){n.value===e&&(t=n.label)})),t}},{key:"validate",value:function(){var e=this;if((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.isBlank()&&this.get("ensureInList")){var t=this.get("value"),a=this.get("multiple")?t:[t],r=[];a.forEach((function(t){null===e.getOptionLabel(t)&&r.push({error:"".concat(t," is not an option")})})),r.length>0&&this.setErr(r)}}},{key:"_setValue",value:function(e){var t=this;if(this.get("removeIfNotInList")&&e){e=(0,h.default)(e);var a=this.get("multiple")?e:[e],r=[];a.forEach((function(e,n){null!==t.getOptionLabel(e)&&r.push(e)})),(0,l.default)((0,c.default)(n.prototype),"_setValue",this).call(this,this.get("multiple")?r:r[0])}else(0,l.default)((0,c.default)(n.prototype),"_setValue",this).call(this,e)}},{key:"getDisplayValue",value:function(){var e=this,t=this.get("value");return this.isBlank()?t:this.get("multiple")?t.map((function(t){return e.getOptionLabel(t)})):this.getOptionLabel(t)}},{key:"isValueBlank",value:function(e){return!!(0,l.default)((0,c.default)(n.prototype),"isValueBlank",this).call(this,e)||(""===e||!!this.get("multiple")&&(Array.isArray(e)&&0===e.length))}}]),n}(f.default);t.default=m},151:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(246)),h=a(n(729));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=["prefix","suffix","includeThousandsSeparator","thousandsSeparatorSymbol","allowDecimal","decimalSymbol","decimalLimit","allowNegative"],v=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","NumberField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this._requireString=!1,this.set({schema:{component:"Form",fields:[{name:"minValue",component:"NumberField",label:"Min Value",docLevel:"basic",thousandsSeparatorSymbol:","},{name:"maxValue",component:"NumberField",label:"Max Value",docLevel:"basic",thousandsSeparatorSymbol:","},{name:"prefix",component:"TextField",label:"Prefix",docLevel:"basic"},{name:"suffix",component:"TextField"},{name:"includeThousandsSeparator",component:"BooleanField"},{name:"thousandsSeparatorSymbol",component:"TextField"},{name:"allowDecimal",component:"BooleanField"},{name:"decimalSymbol",component:"TextField"},{name:"decimalLimit",component:"IntegerField"},{name:"allowNegative",component:"BooleanField"}]}}),this._setDefaults(e,{unmask:/[^\d\\.]/g})}},{key:"_validateLengths",value:function(){if(!this.isBlank()){var e=this.getValue(),t=this.get("minValue"),n=this.get("maxValue");null!==t&&e<t?this.setErr("must be ".concat(t," or greater")):null!==n&&e>n&&this.setErr("must be ".concat(n," or less"))}}},{key:"validate",value:function(){(0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),this._validateWithRegExp(/^([+-]?\d*\.?\d*)$/,"not a number"),this.hasErr()||this._validateLengths()}},{key:"_shouldCreateMask",value:function(e){var t=this,n=!1;return m.forEach((function(a){void 0!==e[a]&&e[a]!==t._getProperty(a)&&(n=!0)})),n}},{key:"_createMask",value:function(e){var t={prefix:"",allowDecimal:!0,decimalLimit:null,allowNegative:!0};m.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),this.set({mask:(0,h.default)(t)})}},{key:"set",value:function(e){this._shouldCreateMask(e)&&this._createMask(e),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e)}},{key:"fromUIValue",value:function(e){var t=this.get("decimalSymbol");if(t&&"."!==t&&!this.isValueBlank(e)){e=(e=(e=e.replace(t,"A")).replace(/[^\d-A]/g,"")).replace("A",".")}return(0,l.default)((0,c.default)(n.prototype),"fromUIValue",this).call(this,e)}},{key:"getUIValue",value:function(){var e=(0,l.default)((0,c.default)(n.prototype),"getUIValue",this).call(this),t=this.get("decimalSymbol");return t&&"."!==t&&!this.isBlank()?e.replace(".",t):e}}]),n}(f.default);t.default=v},152:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(52)),h=a(n(348));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","DateField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"now",component:"BooleanField"},{name:"includeTime",component:"BooleanField",label:"Include Time",docLevel:"basic"},{name:"minDate",component:"DateField",label:"Min Date",docLevel:"basic"},{name:"maxDate",component:"DateField",label:"Max Date",docLevel:"basic"}]}})}},{key:"now",value:function(){this.set({value:new Date})}},{key:"set",value:function(e){var t=Object.assign({},e);void 0!==e.now&&(this.now(),delete t.now),void 0!==t.value&&"number"!==typeof t.value&&(t.value=this.constructor.toEpochTime(e.value)),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,t)}},{key:"_toLocaleString",value:function(e){return this.get("includeTime")?e.toLocaleString():e.toLocaleDateString()}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this._toLocaleString(new Date(this.getValue()))}},{key:"validate",value:function(){if((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue(),t=new Date(e),a=this.get("minDate")?new Date(this.get("minDate")):null,r=this.get("maxDate")?new Date(this.get("maxDate")):null;(0,h.default)(t)?null!==a&&t.getTime()<a.getTime()?this.setErr("must be after ".concat(this._toLocaleString(a))):null!==r&&t.getTime()>r.getTime()&&this.setErr("must be before ".concat(this._toLocaleString(r))):this.setErr("invalid")}}}],[{key:"toEpochTime",value:function(e){return e instanceof Date?e.getTime():"string"===typeof e?(isNaN(e)||(e=parseInt(e)),new Date(e).getTime()):e}}]),n}(f.default);t.default=m},155:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ButtonField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"type",component:"SelectField",label:"Type",options:[{value:"submit",label:"Submit"}],docLevel:"basic"},{name:"icon",component:"TextField",label:"Icon",docLevel:"basic"},{name:"variant",component:"TextField",hidden:!0},{name:"tooltip",component:"TextField",label:"Tooltip",docLevel:"basic"}]}}),this._setDefaults(e,{block:!1,out:!1})}},{key:"emitClick",value:function(){this.emitChange("click"),"submit"===this.get("type")&&this.set({disabled:!0})}}]),n}(a(n(52)).default);t.default=h},184:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(9)),i=a(n(12)),l=a(n(14)),u=a(n(15)),s=a(n(13));function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,l.default)(n,e);var t=f(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).clear(),e}return(0,i.default)(n,[{key:"clear",value:function(){this._firstKey=null,this._lastKey=null,this._length=0,this._items={}}},{key:"has",value:function(e){return void 0!==this._items[e]}},{key:"_nullOrUndefined",value:function(e){return void 0===e||null===e}},{key:"_insertBefore",value:function(e,t,n){var a=this._lastKey;this._nullOrUndefined(n)?n=null:(this._throwIfMissing(n),a=this._items[n].prevKey);var r={key:e,prevKey:a,nextKey:n,value:t};return null===n?(null!==this._lastKey&&(this._items[this._lastKey].nextKey=e),this._lastKey=e):(this._items[n].prevKey=e,null!==a&&(this._items[a].nextKey=e)),this._items[e]=r,null!==this._firstKey&&n!==this._firstKey||(this._firstKey=e),this._length++,r}},{key:"_insertAfter",value:function(e,t,n){var a=this._firstKey;this._nullOrUndefined(n)?n=null:(this._throwIfMissing(n),a=this._items[n].nextKey);var r={key:e,prevKey:n,nextKey:a,value:t};return null===n?(null!==this._firstKey&&(this._items[this._firstKey].prevKey=e),this._firstKey=e):(this._items[n].nextKey=e,null!==a&&(this._items[a].prevKey=e)),this._items[e]=r,null!==this._lastKey&&n!==this._lastKey||(this._lastKey=e),this._length++,r}},{key:"_insert",value:function(e,t,n,a){if(void 0!==n&&void 0!==a)throw new Error("cannot specify both beforeKey and afterKey");return void 0!==a?this._insertAfter(e,t,a):this._insertBefore(e,t,n)}},{key:"_update",value:function(e,t,n,a){var r=this._items[e];return void 0!==n&&r.nextKey!==n&&n!==e||void 0!==a&&r.prevKey!==a&&a!==e?(this._delete(e),r=this._insert(e,t,n,a)):r.value=t,r}},{key:"set",value:function(e,t,n,a){var r=null;if(this._nullOrUndefined(e))throw new Error("key cannot be null or undefined");return this.has(e)?(r=this._update(e,t,n,a),this.emitChange("update",r)):(r=this._insert(e,t,n,a),this.emitChange("create",r)),r}},{key:"_throwIfMissing",value:function(e){if(!this.has(e))throw new Error("value is missing for key "+e)}},{key:"get",value:function(e){return this._throwIfMissing(e),this._items[e].value}},{key:"walkForward",value:r.default.mark((function e(t,n){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=11;break}if(a=this._items[t],!n){e.next=7;break}return e.next=5,[t,a.value];case 5:e.next=9;break;case 7:return e.next=9,a.value;case 9:if(null===a.nextKey){e.next=11;break}return e.delegateYield(this.walkForward(a.nextKey,n),"t0",11);case 11:case"end":return e.stop()}}),e,this)}))},{key:"walkBackward",value:r.default.mark((function e(t,n){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=11;break}if(a=this._items[t],!n){e.next=7;break}return e.next=5,[t,a.value];case 5:e.next=9;break;case 7:return e.next=9,a.value;case 9:if(null===a.prevKey){e.next=11;break}return e.delegateYield(this.walkBackward(a.prevKey,n),"t0",11);case 11:case"end":return e.stop()}}),e,this)}))},{key:"values",value:r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.delegateYield(this.walkBackward(t||this._lastKey),"t0",2);case 2:e.next=5;break;case 4:return e.delegateYield(this.walkForward(t||this._firstKey),"t1",5);case 5:case"end":return e.stop()}}),e,this)}))},{key:"entries",value:r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.delegateYield(this.walkBackward(t||this._lastKey,!0),"t0",2);case 2:e.next=5;break;case 4:return e.delegateYield(this.walkForward(t||this._firstKey,!0),"t1",5);case 5:case"end":return e.stop()}}),e,this)}))},{key:"forEach",value:function(e){var t,n=c(this.entries());try{for(n.s();!(t=n.n()).done;){var a=t.value,r=a[0]===this._lastKey;if(!1===e(a[1],a[0],r))break}}catch(o){n.e(o)}finally{n.f()}}},{key:"each",value:function(e){this.forEach(e)}},{key:"map",value:function(e){var t=[];return this.forEach((function(n,a){t.push(e(n,a))})),t}},{key:"_delete",value:function(e){this._throwIfMissing(e);var t=this._items[e];if(null!==t.prevKey&&null!==t.nextKey){var n=this._items[t.prevKey],a=this._items[t.nextKey];n.nextKey=t.nextKey,a.prevKey=t.prevKey}else{if(null===t.prevKey){if(null!==t.nextKey)this._items[t.nextKey].prevKey=null;this._firstKey=t.nextKey}if(null===t.nextKey){if(null!==t.prevKey)this._items[t.prevKey].nextKey=null;this._lastKey=t.prevKey}}return this._length--,delete this._items[e],t}},{key:"emitChange",value:function(e,t){this.emit(e,t),this.emit("$change",e,t)}},{key:"delete",value:function(e){var t=this._delete(e);return this.emitChange("delete",t),t}},{key:"length",value:function(){return this._length}},{key:"previousKey",value:function(e){return this._throwIfMissing(e),this._items[e].prevKey}},{key:"previous",value:function(e){return this.get(this.previousKey(e))}},{key:"first",value:function(){return this.get(this._firstKey)}},{key:"firstKey",value:function(){return this._firstKey}},{key:"hasFirst",value:function(){return this.has(this._firstKey)}},{key:"isEmpty",value:function(){return!this.hasFirst()}},{key:"nextKey",value:function(e){return this._throwIfMissing(e),this._items[e].nextKey}},{key:"next",value:function(e){return this.get(this.nextKey(e))}},{key:"last",value:function(){return this.get(this._lastKey)}},{key:"lastKey",value:function(){return this._lastKey}},{key:"hasLast",value:function(){return this.has(this._lastKey)}}]),n}(a(n(305)).default.EventEmitter);t.default=h},186:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(238)),l=function(){function e(t){(0,r.default)(this,e),this.setProps(t)}return(0,o.default)(e,[{key:"setProps",value:function(e){this._props=e}},{key:"_getTemplateName",value:function(e){var t=e.match(/^{{([^{}]*)}}$/);if(t)return t[1]}},{key:"_getPropFromObj",value:function(e,t){try{var n,a=t.split(".");return n=e.get&&"function"===typeof e.get?e.get(a[0]):e[a[0]],a.length>1?(a.shift(),this._getPropFromObj(n,a.join("."))):n}catch(r){return}}},{key:"_getProp",value:function(e){return this._getPropFromObj(this._props,e)}},{key:"_getPropOrOriginalString",value:function(e,t){var n=this._getProp(e);return void 0===n?t:n}},{key:"fillString",value:function(e){var t=this;if("string"===typeof e){var n=this._getTemplateName(e);return void 0!==n?this._getPropOrOriginalString(n,e):e.replace(/{{([^{}]*)}}/g,(function(e,n){return t._getPropOrOriginalString(n,e)}))}return e}},{key:"fillAll",value:function(e){var t=this;return(0,i.default)(e,(function(e){return e&&e._className?e:"string"===typeof e?t.fillString(e):void 0}))}},{key:"fill",value:function(e){return"string"===typeof e?this.fillString(e):this.fillAll(e)}}]),e}();t.default=l},189:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(331)),o=a(n(9)),i=a(n(12)),l=a(n(17)),u=a(n(18)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(16));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;(0,o.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,l.default)(e),"_className","IdField"),e}return(0,i.default)(n,[{key:"_create",value:function(e){(0,u.default)((0,d.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:(0,r.default)(this.getHiddenFieldDefinitions(["minWords","maxWords","invalidRegExp","multiline"]))}})}}]),n}(a(n(92)).default);t.default=p},191:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(52)),h=a(n(68));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ComponentField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"content",component:"Field",required:!0}]}});var t=void 0===e.name?h.default.uuid():e.name;this._setDefaults(e,{in:!1,out:!1,name:t})}}]),n}(f.default);t.default=m},234:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(235)).default;t.default=r},235:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(575)),h=a(n(68));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","WrappedComponent"),e}return(0,o.default)(n,[{key:"_getWrappedComponentSchema",value:function(){return{component:"Form",fields:[{name:"componentToWrap",component:"Field"}]}}},{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this._preserveClassName=!0,this.set({schema:this._getWrappedComponentSchema()}),void 0!==e.componentToWrap&&this.setComponentToWrap(e.componentToWrap)}},{key:"setComponentToWrap",value:function(e){"string"!==typeof e&&(this._componentToWrap=e,this._wrapComponent())}},{key:"_getAllMethodOrFunctionNames",value:function(){return h.default.getAllMethodNames(this._componentToWrap).concat(h.default.getAllFunctionNames(this._componentToWrap))}},{key:"_wrapComponent",value:function(){var e=this;this._getAllMethodOrFunctionNames().forEach((function(t){if(-1===["caller","callee","arguments","constructor"].indexOf(t)&&-1===t.indexOf("__")){var n=e._componentToWrap[t];e[t]=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n.apply(e._componentToWrap,a)}}})),this._preserveClassName&&(this.getClassName=this._componentToWrap.getClassName.bind(this))}}]),n}(f.default);t.default=m},246:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","TextFieldHiddenSchema"),e}return(0,o.default)(n,[{key:"_create",value:function(e){this._hideTextFieldSchema=!0,(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e)}}]),n}(a(n(92)).default);t.default=h},247:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16)),p=a(n(337)),m=a(n(316)),v=a(n(238)),y=a(n(113)),b=a(n(739)),g=a(n(185)),_=n(149);function F(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var O=function(e){(0,c.default)(n,e);var t=w(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","MemoryStore"),e}return(0,l.default)(n,[{key:"_create",value:function(e){var t=this;(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this._docs=new m.default,this._docs.on("$change",(function(e,n){t.emitChange(e+"Doc",n)}))}},{key:"_numUnarchived",value:function(){var e,t=0,n=F(this._docs.values());try{for(n.s();!(e=n.n()).done;){e.value.archivedAt||t++}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"_createDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i,l,u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fieldValues,a=t.id,o=t.order,i=t.reorder,this._shouldSetToLastOrder(o,i)&&(o=this._numUnarchived()),l=this._getUserId(),u=this._buildDoc({fieldValues:n,id:a,order:o,userId:l}),this._docs.set(u.id,u,void 0,void 0,!0),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_toSiftWhere",value:function(e){return(0,v.default)(e,(function(e){if(e&&e.$iLike)return{$regex:"^"+e.$iLike.replace(/%/,""),$options:"i"}}))}},{key:"_hasDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",this._docs.has(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",this._docs.get(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllDocs",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i,l,u,s,c,d,f;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.where,a=t.showArchived,o=t.order,n&&(n=this._toSiftWhere(n)),i={pageInfo:{hasNextPage:!1},edges:[]},l=F(this._docs.values());try{for(l.s();!(u=l.n()).done;)s=u.value,c=void 0===n?null:[s].filter((0,g.default)(n)),null!==a&&void 0!==a&&!!s.archivedAt!==a||void 0!==n&&0===c.length||i.edges.push({node:s})}catch(r){l.e(r)}finally{l.f()}return o&&(d=[],f=[],o.forEach((function(e){d.push("node."+e[0]),f.push(e[1].toLowerCase())})),i.edges=(0,b.default)(i.edges,d,f)),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.fieldValues,o=t.order,i=(0,y.default)(this._docs.get(n)),i=this._setDoc({doc:i,fieldValues:a,order:o}),this._docs.set(n,i,void 0,void 0,!0),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=(0,y.default)(this._docs.get(n)),a=this._setDoc({doc:a,archivedAt:this._now(),order:_.Reorder.DEFAULT_ORDER}),this._docs.set(n,a,void 0,void 0,!0),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.reorder,o=t.order,this._shouldSetToLastOrder(o,a)&&(o=this._numUnarchived()),i=(0,y.default)(this._docs.get(n)),i=this._setDoc({doc:i,archivedAt:null,order:o}),this._docs.set(n,i,void 0,void 0,!0),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p.default);t.default=O},248:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(115)),h=a(n(92));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","TextListField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"minLength",component:"IntegerField",label:"Min Length",docLevel:"basic"},{name:"maxLength",component:"IntegerField",label:"Max Length",docLevel:"basic"},{name:"minWords",component:"IntegerField",label:"Min Words",docLevel:"basic"},{name:"maxWords",component:"IntegerField",label:"Max Words",docLevel:"basic"},{name:"invalidRegExp",component:"TextField",label:"Invalid RegExp",docLevel:"basic"},{name:"multiline",component:"BooleanField",label:"Multiline",docLevel:"basic"}]}}),this._setDefaults(e,{startWithField:!0})}},{key:"_newField",value:function(e){return new h.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e,required:!1},this.get(["block","fullWidth","minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])))}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),this._setForAllFields(e,["minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])}}]),n}(f.default);t.default=v},254:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(85)),h=a(n(150)),p=a(n(61));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","FieldEditorForm"),e}return(0,o.default)(n,[{key:"_namesToOptions",value:function(){return this.constructor.componentNames.map((function(e){return{value:e,label:e}}))}},{key:"_clearFields",value:function(){var e=this;this.eachField((function(t){var n=t.get("name");e.isDefaultField(n)||"componentName"===n||e.removeField(n)})),this._emitChangeToFields(null)}},{key:"_copySchemaFields",value:function(e){var t=this,n=[];e.eachField((function(a){var r=a.get("name");e.isDefaultField(r)||"basic"!==a.get("docLevel")||(t.addField(a),n.push(a))})),this._emitChangeToFields(n)}},{key:"_adjustFields",value:function(e){var t=this;if(this._clearFields(),e.componentName){var n=this._registrar.compiler;this._component=n.newComponent({component:e.componentName});var a=new f.default;this._component.buildSchemaForm(a,n),this._copySchemaFields(a),(0,p.default)(e,(function(e,n){t.hasField(n)&&t.getField(n).setValue(e)}))}}},{key:"_create",value:function(e){var t=this;(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({fields:[new h.default({name:"componentName",label:"Field",options:this._namesToOptions()})]}),this.getField("componentName").on("value",(function(){return t._adjustFields(t.getValues())}))}},{key:"setValues",value:function(e){(!this._component||e.componentName&&this._component.getClassName()!==e.componentName)&&this._adjustFields(Object.assign({},this.getValues(),{componentName:e.componentName})),(0,l.default)((0,c.default)(n.prototype),"setValues",this).call(this,e)}}]),n}(f.default);t.default=v,(0,d.default)(v,"componentNames",["AddressField","BooleanField","ButtonField","ChainedSelectField","ChainedSelectListField","CityField","CountryField","DateField","EmailField","IdField","IntegerField","MoneyField","NumberField","PasswordField","PersonFullNameField","PersonNameField","PhoneField","ProvinceField","ReCAPTCHAField","SelectField","SelectListField","StateField","Text","TextField","TextListField","TimeField","URLField"])},255:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(85)),h=a(n(50)),p=a(n(336)),m=a(n(254)),v=a(n(68));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,u.default)(n,e);var t=g(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","FormEditor"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"definition",component:"Field"}]},fields:[new h.default({name:"fields",label:"Fields",hideLabel:!0,maxColumns:1,skipRead:!0,includeExtraneous:!0,forbidOrder:!1,formFactory:new p.default({product:function(){return new m.default({value:{id:v.default.uuid()},validators:[{where:{"parent.value":{$elemMatch:{$and:[{id:{$ne:"{{fields.id.value}}"}},{name:"{{fields.name.value}}"}]}}},error:{field:"name",error:"must be unique"}}]})}})})]})}},{key:"_setDefinition",value:function(e){var t=e.fields.map((function(e){var t=b(b({},e),{},{componentName:e.component});return delete t.component,t}));this.get("fields.fields").setValue(t)}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,b(b({},e),{},{definition:void 0})),void 0!==e.definition&&this._setDefinition(e.definition)}},{key:"_getDefinition",value:function(){return{component:"Form",fields:this.get("fields.fields").mapForms((function(e){return b(b({},e.getValues({default:!1})),{},{component:e.getValue("componentName"),componentName:void 0})}))}}},{key:"getOne",value:function(e){return"definition"===e?this._getDefinition():(0,l.default)((0,c.default)(n.prototype),"getOne",this).call(this,e)}}]),n}(f.default);t.default=_},303:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=function e(){(0,r.default)(this,e)};o.RESERVED={[o.OWNER="owner"]:o.ID_OWNER=1},o.isReserved=function(e){return!!o.RESERVED[e]},o.getId=function(e){return o.RESERVED[e]};var i=o;t.default=i},313:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(14)),i=a(n(15)),l=a(n(13));function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,i.default)(this,n)}}var s=function(e){(0,o.default)(n,e);var t=u(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).name="PropertyNotDefinedError",e}return n}((0,a(n(239)).default)(Error));t.default=s},314:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(61)),l=a(n(113)),u=a(n(185)),s=a(n(186)),c=a(n(315)),d=function(){function e(t){(0,r.default)(this,e),this._props=t,this._propFiller=new s.default(t)}return(0,o.default)(e,[{key:"_fillProps",value:function(e){return this._propFiller.fillString(e)}},{key:"_fillWhere",value:function(e){var t=this;(0,i.default)(e,(function(n,a){"string"===typeof n?e[a]=t._fillProps(n):t._fillWhere(n)}))}},{key:"_fillErrorProps",value:function(e){return"string"===typeof e?this._fillProps(e):(e.error=this._fillProps(e.error),e)}},{key:"_getWhereProps",value:function(e){return(0,c.default)(e,this._props)}},{key:"_validateWithRule",value:function(e){var t=(0,l.default)(e.where);if(this._fillWhere(t),[this._getWhereProps(t)].filter((0,u.default)(t)).length>0)return this._fillErrorProps(e.error)}},{key:"validate",value:function(e,t){for(var n=[],a=0;a<e.length;a++){var r=this._validateWithRule(e[a]);if(void 0!==r&&(n.push(r),!t))break}return n}}]),e}();t.default=d},315:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.throwIfNotPropertyNotDefinedError=t.queryToPropNames=void 0;var r=a(n(285)),o=a(n(616)),i=a(n(313)),l=function e(t,n,a){null!==t&&"object"===typeof t?Array.isArray(t)?t.forEach((function(t){return e(t,n,a)})):(0,r.default)(t,(function(t,r){var o=a;"$"!==r.charAt(0)&&(o=void 0===a?r:a+"."+r),"$elemMatch"===r?n[o]=!0:e(t,n,o)})):n[a]=!0};t.queryToPropNames=l;var u=function(e){if(!(e instanceof i.default))throw e};t.throwIfNotPropertyNotDefinedError=u;var s=function(e,t){var n={},a={};return l(e,a),(0,r.default)(a,(function(e,a){try{(0,o.default)(n,a,t.get(a))}catch(r){u(r)}})),n};t.default=s},316:function(e,t,n){"use strict";var a=n(317),r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9)),i=r(n(12)),l=r(n(18)),u=r(n(14)),s=r(n(15)),c=r(n(13)),d=r(n(184)),f=a(n(149));function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"_getProp",value:function(e,t){return e[t]}},{key:"_setProp",value:function(e,t,n){return e[t]=n}},{key:"_findIdAfter",value:function(e){var t,n=h(this.entries());try{for(n.s();!(t=n.n()).done;){var a=t.value,r=this._getProp(a[1],"order");if(void 0===r||null===r||r>e)return a[0]}}catch(o){n.e(o)}finally{n.f()}return null}},{key:"getBeforeId",value:function(e){return this._getProp(e,"archivedAt")?null:null===this._getProp(e,"order")||void 0===this._getProp(e,"order")?void 0:this._findIdAfter(this._getProp(e,"order"))}},{key:"_createInDocs",value:function(e,t){var a=this.getBeforeId(t);return(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e,t,a)}},{key:"_createInDocsAndReorder",value:function(e,t,n){var a=this._getProp(t,"order");return a===f.Reorder.DEFAULT_ORDER||void 0===a?this._createInDocs(e,t):this._reorder(e,t,a,n)}},{key:"_updateInDocs",value:function(e,t){var a=void 0,r=this.get(e);return this._getProp(t,"order")!==this._getProp(r,"order")&&(a=this.getBeforeId(t)),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e,t,a)}},{key:"keysAtIndexes",value:function(e){var t,n=Object.assign([],e),a=0,r={},o=h(this.entries());try{for(o.s();!(t=o.n()).done;){var i=t.value,l=n.indexOf(a);if(-1!==l){if(r[n[l]]=i[0],1===n.length)break;n.splice(l,1)}a++}}catch(u){o.e(u)}finally{o.f()}return r}},{key:"_reorder",value:function(e,t,a,r){var o=this,i={forEach:function(e){o.forEach((function(t,n){e({id:n,order:o._getProp(t,"order"),archivedAt:o._getProp(t,"archivedAt")})}))}},u=f.default.reorder(i,e,a,(function(t,a){var i=o._getProp(t,"id");if(i!==e){var u=o.get(i);o._setProp(u,"order",a),(0,l.default)((0,c.default)(n.prototype),"set",o).call(o,i,u),r&&r(i,u)}}));return this._setProp(t,"order",a),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e,t,u.destinationKey)}},{key:"_updateInDocsAndReorder",value:function(e,t,n){var a=this.get(e),r=this._getProp(a,"order"),o=this._getProp(t,"order");return r===o?this._updateInDocs(e,t):this._reorder(e,t,o,n)}},{key:"set",value:function(e,t,a,r,o,i){return void 0!==a||void 0!==r?(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e,t,a,r):this.has(e)?o?this._updateInDocsAndReorder(e,t,i):this._updateInDocs(e,t):o?this._createInDocsAndReorder(e,t,i):this._createInDocs(e,t)}}]),n}(d.default);t.default=v},326:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Getter=void 0;var r=a(n(16)),o=a(n(9)),i=a(n(12)),l=a(n(33)),u=a(n(39)),s=a(n(315)),c=a(n(176));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var f=function(){function e(t){var n=t.action,a=t.component,r=t.args,i=t.globals;(0,o.default)(this,e),this._action=n,this._component=a,this._args=r,this._globals=i}return(0,i.default)(e,[{key:"get",value:function(e){var t,n=e.split("."),a=!1;switch(n[0]){case"action":t=this._action;break;case"arguments":t=this._args;break;case"globals":t=this._globals;break;default:a=!0,t=this._component}if(void 0!==t){if(n.length>1||a){var r=e;return a||(n.shift(),r=n.join(".")),t.get&&"function"===typeof t.get?t.get(r):(0,c.default)(t,r)}return t}}}]),e}();t.Getter=f;var h=function(){function e(){(0,o.default)(this,e),this._registrar=u.default}return(0,i.default)(e,[{key:"_getSession",value:function(){var e=this._registrar;return e.client?e.client.user.getSession():void 0}},{key:"_getGlobals",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({session:this._getSession()},l.default.get())}},{key:"getFillerProps",value:function(e){return new f({action:e&&e.parent,component:e&&e.component,args:e&&e.arguments,globals:this._getGlobals()})}},{key:"getWhereProps",value:function(e,t){var n=new f({action:t.parent,component:t.component,args:t.arguments,globals:this._getGlobals()});return(0,s.default)(e,n)}}]),e}();t.default=h},327:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(115)),h=a(n(711)),p=a(n(150));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=v(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ChainedSelectField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"ChainedSelectOptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"multiline",component:"BooleanField"}]}}),this._setDefaults(e,{autoCreateFields:!0,startWithField:!1})}},{key:"_getValue",value:function(){var e=[];return this.eachField((function(t){var n=t.getValue();if(!n)return!1;e.push(n)})),e.length>0?e:null}},{key:"_newField",value:function(e){return new p.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e,label:0===e?this.get("label"):void 0,required:0===e?this.get("required"):void 0,block:!!this.get("multiline"),autoHideLabel:!1,autocomplete:!1},this.get(["blankString","fullWidth","hideLabel","useDisplayValue","editable"])))}},{key:"_onFieldCreated",value:function(e,t){var n=this;e.on("value",(function(t){var a=e.get("name");t?(n._setFieldOptions(e.getValue(),a+1),n._clearFieldIfExists(a+1),n._clearAndHideNextFieldsIfExist(a+2)):n._clearAndHideNextFieldsIfExist(a+1),n._calcValue()}))}},{key:"_getChildOptions",value:function(e,t){return this._indexedOptions.mapByParent(e,(function(e){return{value:e.id,label:e.label}}))}},{key:"_setFieldOptions",value:function(e,t){var n=this._getChildOptions(e,t);if(n.length>0){var a=this._getOrCreateField(t);a.set({options:n}),a.set({hidden:!1})}}},{key:"_clearAndHideNextFieldsIfExist",value:function(e){if(this._hasField(e)){var t=this._getField(e);t.clearValue(),t.set({hidden:!0}),this._clearAndHideNextFieldsIfExist(e+1)}}},{key:"_cleanUpNextFields",value:function(e,t){null===e&&this._fields.first().clearValue()}},{key:"_indexOptions",value:function(e){var t=this;this._indexedOptions=new h.default,e.forEach((function(e){t._indexedOptions.add({id:e.value,parentId:e.parentValue,label:e.label})}))}},{key:"_setOptions",value:function(e){this._indexOptions(e),this._setFieldOptions(null,0),this._clearFieldIfExists(1)}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.options&&this._setOptions(e.options)}},{key:"clone",value:function(){var e=(0,l.default)((0,c.default)(n.prototype),"clone",this).call(this);return e._fields.clear(),e._setOptions(this.get("options")),e.setValue(this.getValue()),e}}]),n}(f.default);t.default=y},328:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(52)),h=a(n(184)),p=a(n(225)),m=a(n(710));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=v(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","CompositeField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){this._fields=new h.default,(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fields",component:"Field"},{name:"change",component:"Field"}]}})}},{key:"_bubbleUpTouches",value:function(e){var t=this;e.on("touched",(function(e){if(e){var n=!0;t.eachField((function(e){if(!e.get("touched"))return n=!1,!1})),n&&t._set("touched",e)}}))}},{key:"_setParentValue",value:function(e,t){var n=this._value?(0,p.default)(this._value):{};null===t?delete n[e.get("name")]:n[e.get("name")]=t,this.setValue((0,m.default)(n)?null:n)}},{key:"_listenForChangesToField",value:function(e){var t=this;e.on("value",(function(n){return t._setParentValue(e,n)})),this._setParentValue(e,e.getValue()),this._bubbleUpTouches(e)}},{key:"emitChangeToField",value:function(e){this.set({change:e.get()})}},{key:"_addField",value:function(e,t){void 0===t&&(t=e.get("name")),this._fields.set(t,e),this.emitChangeToField(e),this._listenForChangesToField(e)}},{key:"_setFields",value:function(e){var t=this;e.forEach((function(e){return t._addField(e)}))}},{key:"_setForAllFields",value:function(e,t){var n=null;t?(n={},t.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])}))):n=e,(0,m.default)(n)||this.eachField((function(e){return e.set(n)}))}},{key:"_setValue",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_setValue",this).call(this,e),this.eachField((function(t){return t.setValue(e&&e[t.get("name")]?e[t.get("name")]:null)}))}},{key:"_setRequired",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_setRequired",this).call(this,e),this._setForAllFields({required:e})}},{key:"_setDisabled",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_setDisabled",this).call(this,e),this._setForAllFields({disabled:e})}},{key:"_setEditable",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_setEditable",this).call(this,e),this._setForAllFields({editable:e})}},{key:"_setDirty",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_setDirty",this).call(this,e),this._setForAllFields({dirty:e})}},{key:"_setTouchedForAllFields",value:function(e){this._setForAllFields({touched:e})}},{key:"setTouched",value:function(e){(0,l.default)((0,c.default)(n.prototype),"setTouched",this).call(this,e),this._setTouchedForAllFields(e)}},{key:"setFullWidth",value:function(e){(0,l.default)((0,c.default)(n.prototype),"setFullWidth",this).call(this,e),this._setForAllFields({fullWidth:e})}},{key:"setUseDisplayValue",value:function(e){(0,l.default)((0,c.default)(n.prototype),"setUseDisplayValue",this).call(this,e),this._setForAllFields({useDisplayValue:e})}},{key:"setHideLabel",value:function(e){(0,l.default)((0,c.default)(n.prototype),"setHideLabel",this).call(this,e),this._setForAllFields({hideLabel:e})}},{key:"set",value:function(e){var t=this;(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,Object.assign({},e,{fields:void 0})),void 0!==e.fields&&this._setFields(e.fields),this.eachField((function(n){var a=n.get("name");t._setIfDefined(a,e[a])}))}},{key:"getField",value:function(e){return this._fields.get(e)}},{key:"_getFieldIfExists",value:function(e){if(this._fields.has(e))return this.getField(e)}},{key:"has",value:function(e){return(0,l.default)((0,c.default)(n.prototype),"has",this).call(this,e)||this._fields.has(e)}},{key:"getOne",value:function(e){var t=this._getFieldIfExists(e);return void 0===t?(0,l.default)((0,c.default)(n.prototype),"getOne",this).call(this,e):t}},{key:"eachField",value:function(e){this._fields.each((function(t,n,a){return e(t,n,a)}))}},{key:"mapFields",value:function(e){return this._fields.map((function(t,n,a){return e(t,n,a)}))}},{key:"clearErr",value:function(){(0,l.default)((0,c.default)(n.prototype),"clearErr",this).call(this),this.eachField((function(e){return e.clearErr()}))}},{key:"_validateField",value:function(e){e.validate()}},{key:"validate",value:function(){var e=this;(0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),this.eachField((function(t,n,a){return e._validateField(t,n,a)}))}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this.mapFields((function(e){return e.getDisplayValue()}))}},{key:"isBlank",value:function(){if((0,l.default)((0,c.default)(n.prototype),"isBlank",this).call(this))return!0;var e=this.getValue();return Array.isArray(e)&&0===e.length}},{key:"destroy",value:function(){(0,l.default)((0,c.default)(n.prototype),"destroy",this).call(this),this.eachField((function(e){return e.destroy()}))}}]),n}(f.default);t.default=y},33:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Globals=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Globals"),(0,d.default)((0,i.default)(e),"_onNavigate",null),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"path",component:"TextField"},{name:"pathHash",component:"TextField"},{name:"pathSearch",component:"TextField"},{name:"redirectPath",component:"TextField"},{name:"snackbarMessage",component:"TextField"},{name:"appId",component:"TextField"},{name:"confirmation",component:"TextField"},{name:"searchString",component:"TextField"},{name:"redirectAfterLogin",component:"TextField"},{name:"reCAPTCHASiteKey",component:"TextField"},{name:"route",component:"Field"}]}})}},{key:"redirect",value:function(e){this.set({redirectPath:e})}},{key:"displaySnackbar",value:function(e){this.set({snackbarMessage:e})}},{key:"setOnNavigate",value:function(e){this._onNavigate=e}},{key:"onNavigate",value:function(e,t){this._onNavigate&&this._onNavigate(t)}},{key:"displayConfirmation",value:function(e){var t=e.title,n=e.text,a=e.callback,r=e.alert;this.set({confirmation:{title:t,text:n,callback:a,alert:r}})}},{key:"displayAlert",value:function(e){var t=e.title,n=e.text,a=e.callback;this.displayConfirmation({title:t,text:n,callback:a,alert:!0})}}]),n}(a(n(102)).default);t.Globals=h;var p=new h;t.default=p},334:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ExtendedField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"properties",component:"Field",required:!0}]}})}}]),n}(a(n(52)).default);t.default=h},335:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Emit"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"event",component:"TextField"},{name:"value",component:"Field"}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.component.emitChange(this.get("event"),this.get("value"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},336:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(18)),l=a(n(14)),u=a(n(15)),s=a(n(13));function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,l.default)(n,e);var t=c(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"_create",value:function(e){(0,i.default)((0,s.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"product",component:"Field",required:!0},{name:"properties",component:"Field"}]}})}},{key:"produce",value:function(e){var t=this.get("product")(),n=this.get("properties");return n&&t.set(n),e&&t.set(e),t}}]),n}(a(n(234)).default);t.default=d},337:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16)),p=a(n(67)),m=a(n(71)),v=a(n(68)),y=a(n(338)),b=a(n(152)),g=n(149),_=a(n(33)),F=a(n(39));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var E=function(e){(0,c.default)(n,e);var t=O(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Store"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"where",component:"Field"}]}}),this._access=m.default,this._globals=_.default,this._registrar=F.default,e&&e.muteDidLoad||this._emitDidLoad()}},{key:"_tryAndHandleError",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.default.tryAndDisplayErrorIfAPIError(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_shouldSetToLastOrder",value:function(e,t){return(null===e||void 0===e)&&t}},{key:"createDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){var e=n._access.valuesCanCreate(t.form,{default:!1}),a=t.form.getValue("id"),r=t.form.getValue("order");return null!==r&&void 0!==r||t.reorder||(r=g.Reorder.DEFAULT_ORDER),n._createDoc(w(w({},t),{},{fieldValues:e,id:a,order:r}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((0,o.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",n._getDoc(t));case 4:return e.next=6,n._getAllDocs(w(w({},t),{},{showArchived:null}));case 6:return a=e.sent,e.abrupt("return",a.edges.length>0?a.edges[0].node:null);case 8:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDocs",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){return n._getAllDocs(t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_upsertDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=!1,!n){e.next=6;break}return e.next=5,this._hasDoc({id:n});case 5:a=e.sent;case 6:if(!a){e.next=10;break}return e.abrupt("return",this.updateDoc(t));case 10:return e.abrupt("return",this.createDoc(t));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upsertDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){var e=t.form.getValue("id");return n._upsertDoc(w(w({},t),{},{id:e}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){var e=n._access.valuesCanUpdate(t.form,{default:!1}),a=t.form.getValue("id"),r=t.form.getValue("order");return n._updateDoc(w(w({},t),{},{fieldValues:e,id:a,order:r}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"archiveDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){return n._archiveDoc(t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){return n._restoreDoc(t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_emitError",value:function(e){this.emitChange("err",e)}},{key:"_now",value:function(){return new b.default({now:!0}).getValue()}},{key:"_buildDoc",value:function(e){var t=e.fieldValues,n=e.id,a=e.userId,r=e.order,o=this._now();return{id:n||v.default.uuid(),archivedAt:null,createdAt:o,updatedAt:o,userId:a||null,order:r,fieldValues:t}}},{key:"_setDoc",value:function(e){var t=e.doc,n=e.fieldValues,a=e.archivedAt,r=e.order;return void 0!==n&&(t.fieldValues=Object.assign(t.fieldValues,n)),void 0!==a&&(t.archivedAt=a),t.updatedAt=this._now(),t.order=void 0===r?g.Reorder.DEFAULT_ORDER:r,t}},{key:"_getUserId",value:function(){if(this._registrar.client){var e=this._registrar.client.user.getSession();if(e)return e.user.id}}}]),n}(p.default);t.default=E},338:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UberUtils=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(33)),s=function(){function e(){(0,i.default)(this,e),this._globals=u.default}return(0,l.default)(e,[{key:"displayError",value:function(e){this._globals.displayAlert({title:"Unexpected Error",text:e})}},{key:"setFormErrorsFromAPIError",value:function(e,t){try{JSON.parse(e.graphQLErrors[0].message).error.forEach((function(e){t.getField(e.field).setErr(e.error)}))}catch(n){this.displayError(e.toString())}}},{key:"tryAndSetFormErrorsIfAPIError",value:function(){var e=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.setFormErrorsFromAPIError(e.t0,n),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tryAndDisplayErrorIfAPIError",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.displayError(e.t0.toString()),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.UberUtils=s;var c=new s;t.default=c},339:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(17)),o=a(n(16)),i=a(n(9)),l=a(n(12)),u=a(n(18)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(101)),h=a(n(185));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"validate",value:function(){if((0,u.default)((0,d.default)(n.prototype),"validate",this).call(this),this._valueSet)try{(0,h.default)(this._valueSet)}catch(e){this._errorFromSet=e.message,this.set({err:!0})}}}]),n}(a(n(340)).default),v=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),(0,o.default)((0,r.default)(e),"_className","WhereField"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,u.default)((0,d.default)(n.prototype),"_create",this).call(this,e),this._setDefaults(e,{form:new m})}}]),n}(f.default);t.default=v},340:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,d.default)((0,i.default)(a),"_className","ObjectForm"),a._errorFromSet=null,a}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,Object.assign(e,{omitDefaultFields:!0})),this._set("reportUndefined",!1)}},{key:"setValues",value:function(e){(0,l.default)((0,c.default)(n.prototype),"setValues",this).call(this,e),this._errorFromSet=null,this._valueSet=e}},{key:"isBlank",value:function(){return!this._valueSet}},{key:"getErrs",value:function(){var e=(0,l.default)((0,c.default)(n.prototype),"getErrs",this).call(this);return null!==this._errorFromSet&&(e=e.concat({error:this._errorFromSet})),e}}]),n}(a(n(118)).default);t.default=h},341:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","IntegerField"),e}return(0,o.default)(n,[{key:"validate",value:function(){(0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),this._validateWithRegExp(/^([+-]?[1-9]\d*|0)$/,"not an integer")}}]),n}(a(n(151)).default);t.default=h},342:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(235)),h=a(n(39));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","MSONComponent"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"definition",component:"Field",required:!0}]}}),this._preserveClassName=!1,this._registrar=h.default}},{key:"_setCompiler",value:function(e){this._compiler=e}},{key:"_getCompiler",value:function(){var e=this._compiler?this._compiler:this._registrar.compiler;if(e)return e;throw new Error("compiler has not been registered with registrar")}},{key:"set",value:function(e){if((0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.definition){var t=this._getCompiler().newComponent(e.definition);this.setComponentToWrap(t)}}}]),n}(f.default);t.default=m},343:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Vault"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({backEndOnly:!0})}}]),n}(a(n(102)).default);t.default=h},344:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Set"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"name",component:"TextField"},{name:"value",component:"Field"},{name:"target",component:"Field"}]}})}},{key:"_setProp",value:function(e){var t=this.get("name"),n=t?t.split("."):[],a=this.get("value"),r=void 0===a?e.arguments:a,o=this.get("target"),i=void 0===o?e.component:o;return t?("globals"===n[0]||"component"===n[0]?"globals"===n.splice(0,1)[0]?this._globals.set({[n.join(".")]:r}):i.set(r):i.set({[t]:r}),e.arguments):r}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setProp(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},345:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Tabs"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"CollectionField",formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"name",component:"TextField",label:"Name",required:!0},{name:"label",component:"TextField",label:"Label",required:!0},{name:"icon",component:"TextField",label:"Icon",docLevel:"basic"}]}}},{name:"value",component:"NumberField",help:"The index of the tab selected"}]}}),this._setDefaults(e,{value:0})}}]),n}(a(n(67)).default);t.default=h},346:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Text"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"text",component:"TextField",label:"Text",multiline:!0,docLevel:"basic",help:"Any markdown. See markdownguide.org"}]}})}}]),n}(a(n(67)).default);t.default=h},359:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(85)),h=a(n(255)),p=a(n(345)),m=a(n(101)),v=a(n(344)),y=a(n(335)),b=a(n(802)),g=a(n(346));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var w=function(e){(0,u.default)(n,e);var t=k(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","FormBuilder"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"formName",component:"TextField"},{name:"definition",component:"Field"}]},fields:[new p.default({name:"tabs",items:[{name:"edit",label:"Edit",icon:"Edit"},{name:"preview",label:"Preview",icon:"ViewCompact"},{name:"export",label:"Export",icon:"code"}]}),new g.default({name:"definition",hidden:!0}),new m.default({name:"form",form:new h.default})],listeners:[{event:"fields.tabs.content.edit",actions:[new v.default({name:"fields.form.form.editable",value:!0}),new y.default({event:"hideCode"})]},{event:"fields.tabs.content.preview",actions:[new v.default({name:"fields.form.form.editable",value:!1}),new y.default({event:"hideCode"})]},{event:"fields.tabs.content.export",actions:[new b.default({value:"{{definition}}",space:2}),new v.default({name:"fields.definition.content.text",value:"```js\n{{arguments}}\n```\n"}),new y.default({event:"setCodeHidden",value:{hideCode:!1,hideForm:!0}})]},{event:"setCodeHidden",actions:[new v.default({name:"fields.definition.content.hidden",value:"{{arguments.hideCode}}"}),new v.default({name:"fields.form.hidden",value:"{{arguments.hideForm}}"})]},{event:"hideCode",actions:[new y.default({event:"setCodeHidden",value:{hideCode:!0,hideForm:!1}})]}]})}},{key:"_setDefinition",value:function(e){var t=e.fields.map((function(e){var t=F(F({},e),{},{componentName:e.component});return delete t.component,t}));this.get("fields.form.form.fields.fields").setValue(t),this.set({formName:e.name})}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,F(F({},e),{},{definition:void 0})),void 0!==e.definition&&this._setDefinition(e.definition),void 0!==e.value&&void 0!==e.value.definition&&this._setDefinition(e.value.definition)}},{key:"_getDefinition",value:function(){return{name:this.get("formName"),component:"Form",fields:this.get("fields.form.form.fields.fields").mapForms((function(e){return F(F({},e.getValues({default:!1})),{},{component:e.getValue("componentName"),componentName:void 0})}))}}},{key:"getOne",value:function(e){return"definition"===e?this._getDefinition():(0,l.default)((0,c.default)(n.prototype),"getOne",this).call(this,e)}}]),n}(f.default);t.default=w},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={};t.default=a},392:function(e,t,n){e.exports=n(803)},41:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16)),p=a(n(102)),m=a(n(185)),v=a(n(186)),y=a(n(326)),b=a(n(39)),g=a(n(33)),_=a(n(71));function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var O=function(e){(0,c.default)(n,e);var t=w(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Action"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this._registrar=b.default,this._globals=g.default,this._access=_.default,this._componentFillerProps=new y.default,this._fillerProps=null,this.set({schema:{component:"Form",fields:[{name:"if",component:"WhereField"},{name:"actions",component:"Field"},{name:"else",component:"Field"},{name:"layer",component:"TextField"},{name:"detached",component:"BooleanField"}]}})}},{key:"_fill",value:function(e){var t=new v.default(this._fillerProps);return e=t.fill(e),e=t.fill(e)}},{key:"_getFilled",value:function(e){var t=(0,s.default)((0,f.default)(n.prototype),"get",this).call(this,e);return void 0===t?void 0:this._fill(t)}},{key:"get",value:function(e){return this._getFilled(e)}},{key:"_setFillerProps",value:function(e){this._fillerProps=this._componentFillerProps.getFillerProps(e)}},{key:"_setWhereProps",value:function(e,t){this._whereProps=this._componentFillerProps.getWhereProps(e,t)}},{key:"run",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._setFillerProps(t),n=this.get("if"),a=!0,o=null,n?(this._setWhereProps(n,t),0===[this._whereProps].filter((0,m.default)(n)).length?this.get("else")?o=this.get("else"):a=!1:o=this.get("actions")):o=this.get("actions"),!a){e.next=21;break}if(!o){e.next=20;break}i=null,e.t0=r.default.keys(o);case 9:if((e.t1=e.t0()).done){e.next=17;break}return l=e.t1.value,!i&&t&&t.arguments&&(i=t.arguments),e.next=14,o[l].run(k(k({},t),{},{arguments:i,parent:this,context:t&&t.context}));case 14:i=e.sent,e.next=9;break;case 17:return e.abrupt("return",i);case 20:return e.abrupt("return",this.act(t));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p.default);t.default=O},43:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(702)).default;t.default=r},50:function(e,t,n){"use strict";(function(e){var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16)),p=a(n(52)),m=a(n(33)),v=a(n(618)),y=a(n(619)),b=a(n(102)),g=a(n(68)),_=a(n(61));function F(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var S=function(t){(0,c.default)(a,t);var n=E(a);function a(){var e;(0,i.default)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","CollectionField"),e}return(0,l.default)(a,[{key:"_create",value:function(t){(0,s.default)((0,f.default)(a.prototype),"_create",this).call(this,t);var n=this.constructor;this._window=e.window,this._document=e.document,this._globals=m.default,this.set({schema:{component:"Form",fields:[{name:"formFactory",component:"Field",required:!0},{name:"form",component:"Field"},{name:"forbidCreate",component:"BooleanField"},{name:"forbidUpdate",component:"BooleanField"},{name:"forbidDelete",component:"BooleanField"},{name:"forbidViewArchived",component:"BooleanField"},{name:"forbidSearch",component:"BooleanField"},{name:"forbidSort",component:"BooleanField"},{name:"forbidOrder",component:"BooleanField"},{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"singularLabel",component:"TextField"},{name:"store",component:"Field"},{name:"scrollThreshold",component:"IntegerField"},{name:"itemsPerPage",component:"IntegerField"},{name:"maxBufferPages",component:"IntegerField"},{name:"spacerHeight",component:"IntegerField"},{name:"spacerId",component:"TextField"},{name:"bufferTopId",component:"TextField"},{name:"isLoading",component:"BooleanField"},{name:"order",component:"Field"},{name:"currentForm",component:"Field"},{name:"mode",component:"TextField"},{name:"noResults",component:"BooleanField"},{name:"pristine",component:"BooleanField"},{name:"change",component:"Field"},{name:"maxColumns",component:"IntegerField"},{name:"skipRead",component:"BooleanField"},{name:"includeExtraneous",component:"BooleanField"},{name:"preventCreateAction",component:"BooleanField"},{name:"preventReadAction",component:"BooleanField"},{name:"preventUpdate",component:"BooleanField"},{name:"preventDeleteAction",component:"BooleanField"},{name:"buttonsFactory",component:"Field"}]}}),this._setDefaults(t,{scrollThreshold:n.SCROLLTHRESHOLD_DEFAULT,itemsPerPage:n.ITEMS_PER_PAGE_DEFAULT,maxBufferPages:n.MAX_BUFFER_PAGES_DEFAULT,spacerHeight:0,spacerId:b.default.getNextUniqueId(),order:null,mode:null,showArchived:!1,searchString:null,maxColumns:2,forbidOrder:!0}),this._createInfiniteLoader(),this._forms=new v.default,this._formExtras={},this._listenForLoaded(),this._listenForUnload(),this._listenForShowArchived(),this._listenForSearchString(),this._listenForOrder(),this._listenForScroll()}},{key:"_generateFormAndEmitLoad",value:function(){this._generateForm(this.get("formFactory"));var e=this.get("form");return e.emitLoad(),e}},{key:"_listenForLoaded",value:function(){var e=this;this.on("didLoad",(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.get("formFactory")&&e._generateFormAndEmitLoad(),e._resetInfiniteLoader(),e._updateInfiniteLoader(),t.next=5,e._infiniteLoader.getAll();case 5:case"end":return t.stop()}}),t)}))))}},{key:"_onUnload",value:function(){(this.set({order:null,mode:null,showArchived:!1,searchString:null}),this.get("formFactory"))&&this.get("form").emitUnload()}},{key:"_listenForUnload",value:function(){var e=this;this.on("unload",(function(){e._onUnload()}))}},{key:"_resetInfiniteLoader",value:function(){this._infiniteLoader.reset()}},{key:"_getOrder",value:function(){return this.get("order")?this.get("order"):[["order","ASC"]]}},{key:"_getWhere",value:function(){return this.get("searchString")?this._toWhereFromSearchString():void 0}},{key:"_updateInfiniteLoader",value:function(){this._infiniteLoader.setShowArchived(this.get("showArchived"))}},{key:"_handleStoreChangeFactory",value:function(){var e=this;return function(){var t=(0,o.default)(r.default.mark((function t(n,a){var o,i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=!1,i=a&&a.value,t.t0=n,t.next="createDoc"===t.t0||"updateDoc"===t.t0?5:"deleteDoc"===t.t0?12:13;break;case 5:if(!e._forms.has(i.id)||i.archivedAt===e._forms.get(i.id).getValue("archivedAt")){t.next=9;break}return t.abrupt("return",e.removeForm(i.id,o));case 9:if(!!i.archivedAt!==e.get("showArchived")){t.next=11;break}return t.abrupt("return",e.upsertForm({values:O(O({},i.fieldValues),{},{id:i.id,archivedAt:i.archivedAt,userId:i.userId,order:i.order}),muteChange:o,cursor:i.cursor}));case 11:return t.abrupt("break",14);case 12:return t.abrupt("return",e.removeFormIfExists(i.id,o));case 13:return t.abrupt("break",14);case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},{key:"_setStore",value:function(e){var t=this.get("store");e!==t&&(t&&t.removeAllListeners(),e&&"string"!==typeof e&&e.on("$change",this._handleStoreChangeFactory()),this._set("store",e))}},{key:"_clearForms",value:function(){this._forms.clear(),this._formExtras={}}},{key:"_clearAndGetAll",value:function(){var e=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._clearForms(),this._resetInfiniteLoader(),this._updateInfiniteLoader(),e.next=5,this._infiniteLoader.getAll();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_handleShowArchivedFactory",value:function(){var e=this;return function(){var t=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.set({showArchived:n}),t.next=3,e._clearAndGetAll();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForShowArchived",value:function(){this.on("showArchived",this._handleShowArchivedFactory())}},{key:"_toWhereFromSearchString",value:function(){if(this.get("searchString")){var e=this.get("form"),t=[];return e.eachField((function(n){n.get("hidden")||e.isDefaultField(n.get("name"))||t.push("fieldValues."+n.get("name"))})),g.default.toWhereFromSearchString(t,this.get("searchString"))}return null}},{key:"_handleSearchStringFactory",value:function(){var e=this;return function(){var t=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set({searchString:n}),!e.isLoaded()){t.next=4;break}return t.next=4,e._clearAndGetAll();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForSearchString",value:function(){this.on("searchString",this._handleSearchStringFactory())}},{key:"_handleOrderFactory",value:function(){var e=this;return function(){var t=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set({order:n}),!e.isLoaded()){t.next=4;break}return t.next=4,e._clearAndGetAll();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForOrder",value:function(){this.on("order",this._handleOrderFactory())}},{key:"_handleScrollFactory",value:function(){var e=this;return function(){e._infiniteLoader.scroll({scrollY:e._window.scrollY})}}},{key:"_listenForScroll",value:function(){this.on("scroll",this._handleScrollFactory())}},{key:"_onRemoveItems",value:function(e,t,n){var a,r=0,o=null,i=F(this._forms.entries(e,n));try{for(i.s();!(a=i.n()).done;){if(o=a.value[0],r++===t)break;this.removeForm(o,!0)}}catch(l){i.e(l)}finally{i.f()}return o}},{key:"_onResizeSpacer",value:function(e,t){var n=null;n=void 0!==t?t:this.get("spacerHeight")+e;var a=0;(!!this._infiniteLoader&&this._infiniteLoader.beginningLoaded()&&e<0||n<0)&&(a=-n,n=0),this.set({spacerHeight:n}),0!==a&&this._window.scrollBy({top:a,behavior:"instant"})}},{key:"_onGetAll",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.get("store"))){e.next=9;break}return e.next=4,n.getAllDocs(t);case 4:return a=e.sent,o=0===a.edges.length&&!t.after&&!t.before,this.set({noResults:o}),o&&this.set({change:null}),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemsPerPage",value:function(){return this.get("forbidOrder")?this.get("itemsPerPage"):this.constructor.MAX_ITEMS_PER_PAGE}},{key:"_createInfiniteLoader",value:function(){var e=this;this._infiniteLoader=new y.default({onGetAll:function(t){return e._onGetAll(t)},onGetItemsPerPage:function(){return e._getItemsPerPage()},onGetScrollThreshold:function(){return e.get("scrollThreshold")},onGetMaxBufferPages:function(){return e.get("maxBufferPages")},onGetItemElement:function(t){return e._document.getElementById(e.getUniqueItemId(t))},onGetSpacerElement:function(){return e._document.getElementById(e.get("spacerId"))},onRemoveItems:function(t,n,a){return e._onRemoveItems(t,n,a)},onGetItems:function(t,n){return e._forms.values(t,n)},onResizeSpacer:function(t,n){return e._onResizeSpacer(t,n)},onSetBufferTopId:function(t){return e.set({bufferTopId:t})},onGetItem:function(t){return e._forms.get(t)},onGetItemId:function(e){return e.getValue("id")},onGetItemCursor:function(e){return e.get("cursor")},onAddItems:function(t,n){return e._onAddItems(t,n)},onEmitChange:function(t){return e.set({change:t})},onSetIsLoading:function(t){return e.set({isLoading:t})},onGetOrder:function(){return e._getOrder()},onGetWhere:function(){return e._getWhere()}})}},{key:"_listenToForm",value:function(e){var t=this;["dirty","touched"].forEach((function(n){e.on(n,(function(e){!0===e&&t.set({[n]:e})}))}))}},{key:"_notifyUI",value:function(e,t){e||this.set({change:t})}},{key:"_createFormExtras",value:function(e){var t=this.get("buttonsFactory"),n=null;return t&&(n=t.produce({parent:e})),{buttons:n}}},{key:"_getFormKey",value:function(e){var t=e.getField("id");return t.isBlank()?e.getUniqueId():t.getValue()}},{key:"_addForm",value:function(e){var t=e.form,n=e.values,a=e.muteChange,r=e.cursor,o=e.beforeKey;t.setValues(n),t.set({parent:this,cursor:r});var i=this._getFormKey(t);return this.set({noResults:!1}),this._forms.set(i,t,o),this._formExtras[i]=this._createFormExtras(t),this._listenToForm(t),this._calcValue(),this._notifyUI(a,n),t}},{key:"_produceFormAndWaitForLoad",value:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.produce(),e.next=3,t.resolveAfterCreate();case 3:return t.emitLoad(),e.next=6,t.resolveAfterLoad();case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_produceFormWaitForLoadAndPushForm",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._produceFormAndWaitForLoad();case 2:n=e.sent,t.push(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onAddItems",value:function(){var e=(0,o.default)(r.default.mark((function e(t,n){var a,o,i,l,u,s=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],o=[],i=0;i<t.length;i++)o.push(this._produceFormWaitForLoadAndPushForm(a));return e.next=5,Promise.all(o);case 5:for(!0,l=function(e){var r=t[e],o=r.node,i={id:o.id,userId:o.userId,createdAt:o.createdAt,updatedAt:o.updatedAt,archivedAt:o.archivedAt,order:o.order},l=a[e];(0,_.default)(o.fieldValues,(function(e,t){e&&(s.get("includeExtraneous")||l.hasField(t))&&(i[t]=e)})),s._addForm({form:l,values:i,muteChange:!0,cursor:r.cursor,beforeKey:n})},u=0;u<t.length;u++)l(u);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"produce",value:function(){return this.get("formFactory").produce()}},{key:"_addFormSynchronous",value:function(e){var t=this.produce();return this._addForm(Object.assign({form:t},e))}},{key:"_addFormAsynchronous",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._produceFormAndWaitForLoad();case 2:return n=e.sent,e.abrupt("return",this._addForm(Object.assign({form:n},t)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addForm",value:function(e){var t=e.form,n=e.values,a=e.muteChange,r=e.cursor,o=e.beforeKey,i=e.synchronous,l={values:n,muteChange:a,cursor:r,beforeKey:o};return t?this._addForm(Object.assign({form:t},l)):i?this._addFormSynchronous(l):this._addFormAsynchronous(l)}},{key:"_clearAllFormListeners",value:function(){this.eachForm((function(e){return e.removeAllListeners()}))}},{key:"_validateValueType",value:function(e){var t=!1;null===e||(Array.isArray(e)?e.length>0&&"object"!==typeof e[0]&&(t=!0):t=!0),this._hasTypeError=t}},{key:"_setValue",value:function(e){var t=this;if(this._validateValueType(e),!this._hasTypeError){if(this._clearAllFormListeners(),this._clearForms(),e&&e.length>0){e.forEach((function(e){return t.addForm({values:e,synchronous:!0})}))}this.set({change:e})}}},{key:"removeForm",value:function(e,t){t||this._infiniteLoader.removeItem(e);var n=this._forms.get(e);return n.removeAllListeners(),this._forms.delete(e),delete this._formExtras[e],this._calcValue(),this._notifyUI(t,n.getValues()),n}},{key:"removeFormIfExists",value:function(e,t){if(this._forms.has(e))return this.removeForm(e,t)}},{key:"getForm",value:function(e){return this._forms.get(e)}},{key:"getFormExtras",value:function(e){var t=this._getFormKey(e);return this._formExtras[t]}},{key:"eachForm",value:function(e){this._forms.each(e)}},{key:"mapForms",value:function(e){return this._forms.map(e)}},{key:"_setForAllForms",value:function(e){this.eachForm((function(t){return t.set(e)}))}},{key:"_setOnAllForms",value:function(e,t,n){var a=this;t.forEach((function(t){void 0===e[t]||void 0!==n&&e[t]!==n||a._setForAllForms({[t]:e[t]})}))}},{key:"_prepareForm",value:function(e){e.setTouched(!1),e.clearErrs(),e.setDirty(!1)}},{key:"_copyValuesToCurrentForm",value:function(e,t){var n=t.getValues();e.clearValues(),e.set({value:n})}},{key:"_setCurrentForm",value:function(e){var t=this.get("form");null===e?(t.destroy(),t=this._generateFormAndEmitLoad()):(this._copyValuesToCurrentForm(t,e),this._set("currentForm",e)),this._prepareForm(t)}},{key:"_switchMode",value:function(e,t,n){var a=this.get("form");a.emitChange(e,n?a.getValues():void 0),a.setEditable(t)}},{key:"_readMode",value:function(){this._switchMode("beginRead",!1,!0)}},{key:"_createMode",value:function(){this._switchMode("beginCreate",!0)}},{key:"_updateMode",value:function(){this._switchMode("beginUpdate",!0,!0)}},{key:"_deleteMode",value:function(){this._switchMode("beginDelete",!1,!0)}},{key:"_restoreMode",value:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._switchMode("beginRestore",!1,!0),t=this.get("form"),e.next=4,this.restore(t);case 4:this.set({mode:null});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_emitEndEvents",value:function(){var e=this.get("form"),t=e.getValues();switch(this._mode){case a.MODES.CREATE:e.emitChange("endCreate",t);break;case a.MODES.UPDATE:e.emitChange("endUpdate",t);break;case a.MODES.DELETE:e.emitChange("endDelete",t);break;case a.MODES.RESTORE:e.emitChange("endRestore",t);break;default:e.emitChange("endRead",t)}}},{key:"_setParentDisableSubmit",value:function(e){this.get("parent")&&this.get("parent").set({disableSubmit:e})}},{key:"_transitionMode",value:function(e){var t=!1;switch(e){case a.MODES.CREATE:this._createMode(),t=this.get("preventCreateAction");break;case a.MODES.READ:this._readMode(),t=this.get("preventReadAction");break;case a.MODES.UPDATE:this._updateMode(),t=this.get("preventUpdate");break;case a.MODES.DELETE:this._deleteMode(),t=this.get("preventUpdate");break;case a.MODES.RESTORE:this._restoreMode(),t=this.get("preventUpdate");break;default:this._setParentDisableSubmit(!1)}return t}},{key:"_changeMode",value:function(e,t){e.set({mode:t}),this._set("mode",t)}},{key:"_setMode",value:function(e){this._mode?this._emitEndEvents():this._setParentDisableSubmit(!0);var t=this.get("form");t.set({parent:this}),this._transitionMode(e)||this._changeMode(t,e)}},{key:"_generateForm",value:function(e){var t=e.produce();return this.set({form:t}),t}},{key:"_setMaxColumns",value:function(e){var t=[1,2,4,6,12];if(-1===t.indexOf(e))throw new Error("maxColumns must be "+t.join(","));this._set("maxColumns",e)}},{key:"set",value:function(e){(0,s.default)((0,f.default)(a.prototype),"set",this).call(this,Object.assign({},e,{currentForm:void 0,mode:void 0,store:void 0,maxColumns:void 0})),this._setOnAllForms(e,["disabled","editable","pristine"]),this._setOnAllForms(e,["dirty","touched"],!1),this._setOnAllForms(e,["err"],null),void 0!==e.currentForm&&this._setCurrentForm(e.currentForm),void 0!==e.mode&&e.mode!==this._mode&&this._setMode(e.mode),void 0!==e.store&&this._setStore(e.store),void 0!==e.maxColumns&&this._setMaxColumns(e.maxColumns)}},{key:"_getValue",value:function(){return this._forms.map((function(e){return e.getValues()}))}},{key:"getOne",value:function(e){return"value"===e?this._getValue():("form"!==e||this._form||this._generateForm(this.get("formFactory")),(0,s.default)((0,f.default)(a.prototype),"getOne",this).call(this,e))}},{key:"getForms",value:r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._forms.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"updateForm",value:function(e){var t=e.values,n=e.muteChange,a=e.cursor,r=e.beforeKey,o=this._forms.get(t.id),i=o.getValue("order")!==t.order;return o.setValues(t),o.set({cursor:a}),void 0===r&&i&&(r=this._forms.getBeforeId(o)),this._forms.set(t.id,o,r),this._calcValue(),this._notifyUI(n,t),o}},{key:"_calcValue",value:function(){if(!this.get("store")){var e=this._getValue();this._set("value",e),this.set({dirty:!0})}}},{key:"upsertForm",value:function(e){var t=e.values,n=e.muteChange,a=e.cursor,r=e.beforeKey;return this._forms.has(t.id)?this.updateForm({values:t,muteChange:n,cursor:a,beforeKey:r}):this.addForm({values:t,muteChange:n,cursor:a,beforeKey:r})}},{key:"_saveForm",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i,l,u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getField("id"),a=this.get("store"),o=n.isBlank(),i=null,!a){e.next=13;break}return l=!this.get("forbidOrder"),u=null,e.next=9,a.upsertDoc({form:t,reorder:l});case 9:u=e.sent,t.setValues({id:u.id,createdAt:u.createdAt,updatedAt:u.updatedAt,order:u.order,userId:u.userId}),e.next=14;break;case 13:o&&n.setValue(g.default.uuid());case 14:return i=this.upsertForm({form:t,values:t.getValues(),muteChange:!1,cursor:t.get("cursor")}),t.emitChange(o?"didCreateRecord":"didUpdateRecord",t.getValues()),e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,o.default)(r.default.mark((function e(){var t,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.get("form")).setTouched(!0),t.validate(),t.hasErr()){e.next=10;break}return e.next=6,this._saveForm(t);case 6:return n=e.sent,this._globals.displaySnackbar(this.getSingularLabel()+" saved"),this.set({currentForm:n,mode:null}),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"archive",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.get("store"))){e.next=6;break}return e.next=4,n.archiveDoc({form:t,id:t.getValue("id"),reorder:!this.get("forbidOrder")});case 4:a=e.sent,t.setValues({archivedAt:a.archivedAt});case 6:this.removeFormIfExists(t.getValue("id")),t.emitChange("didArchiveRecord",t.getValues()),this._globals.displaySnackbar(this.getSingularLabel()+" deleted");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.get("store"))){e.next=4;break}return e.next=4,n.restoreDoc({form:t,id:t.getValue("id"),reorder:!this.get("forbidOrder")});case 4:t.setValues({archivedAt:null}),this.removeFormIfExists(t.getValue("id")),t.emitChange("didRestoreRecord",t.getValues()),this._globals.displaySnackbar(this.getSingularLabel()+" restored");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMaxSize",value:function(){return this.get("forbidOrder")?this.get("maxSize"):this.constructor.MAX_ITEMS_PER_PAGE}},{key:"reachedMax",value:function(){var e=this._getMaxSize();return null!==e&&this._forms.length()>=e}},{key:"validate",value:function(){(0,s.default)((0,f.default)(a.prototype),"validate",this).call(this);var e,t=[],n=F(this._forms.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.validate(),r.hasErr()&&t.push({id:r.getField("id").getValue(),error:r.getErrs()})}}catch(u){n.e(u)}finally{n.f()}var o=this._forms.length(),i=this.get("minSize"),l=this.get("maxSize");null!==i&&o<i?t.push({error:"".concat(i," or more")}):null!==l&&o>l&&t.push({error:"".concat(l," or less")}),this._hasTypeError&&t.push({error:"must be an array of objects"}),t.length>0&&this.setErr(t)}},{key:"getSingularLabel",value:function(){return this.get("singularLabel")?this.get("singularLabel"):this.get("label")?g.default.toSingular(this.get("label")):null}},{key:"isBlank",value:function(){var e,t=!0,n=F(this.getForms());try{for(n.s();!(e=n.n()).done;){if(!e.value.isBlank()){t=!1;break}}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getUniqueItemId",value:function(e){return this.getUniqueId()+"-item-"+e}},{key:"destroy",value:function(){(0,s.default)((0,f.default)(a.prototype),"destroy",this).call(this),this.eachForm((function(e){return e.destroy()}))}},{key:"moveForm",value:function(e){var t=e.sourceIndex,n=e.destinationIndex,a=e.muteChange,r=this._forms.keysAtIndexes([t,n]),o=r[t],i=r[n],l=this.getForm(o);l.setValues({order:n});var u=void 0,s=i;return n<t&&(u=i,s=void 0),this._forms.set(o,l,u,s),this._calcValue(),this._notifyUI(a,l.getValues()),l}},{key:"moveAndSaveForm",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sourceIndex,a=t.destinationIndex,o=t.muteChange,i=this.moveForm({sourceIndex:n,destinationIndex:a,muteChange:o}),e.abrupt("return",this._saveForm(i));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(p.default);t.default=S,(0,h.default)(S,"SCROLLTHRESHOLD_DEFAULT",2e3),(0,h.default)(S,"ITEMS_PER_PAGE_DEFAULT",20),(0,h.default)(S,"MAX_BUFFER_PAGES_DEFAULT",3),(0,h.default)(S,"MAX_ITEMS_PER_PAGE",100),(0,h.default)(S,"MODES",{CREATE:"create",READ:"read",UPDATE:"update",DELETE:"delete",RESTORE:"restore"})}).call(this,n(82))},508:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(61)),l=a(n(176)),u=a(n(225)),s=a(n(303)),c=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"_hasAccess",value:function(e,t,n){Array.isArray(e)||(e=[e]);var a=!1;return(0,i.default)(e,(function(e){if(t[e]||n&&(e===s.default.ID_OWNER||e===s.default.OWNER))return a=!0,!1})),a}},{key:"hasFormAccess",value:function(e,t,n,a){var r=(0,l.default)(t,["form",e]);return void 0===r||this._hasAccess(r,n,a)}},{key:"_canAccessFieldForOp",value:function(e,t,n,a,r){var o=(0,l.default)(t,["fields",a,e]);return void 0!==o?this._hasAccess(o,n,r):this.hasFormAccess(e,t,n,r)}},{key:"_canAccessField",value:function(e,t,n,a,r,o){return"update"===e?this._canAccessFieldForOp(e,t,n,a,r)?e:!!o&&(!!this._canAccessFieldForOp("read",t,n,a,r)&&"read"):!!this._canAccessFieldForOp(e,t,n,a,r)&&e}},{key:"canAccess",value:function(e,t,n,a,r){var o=this,l=[];return(0,i.default)(a,(function(a,i){o._canAccessField(e,t,n,i,r)||l.push(i)})),l}},{key:"fieldsCanAccess",value:function(e,t,n,a,r,o){var l=this,u={};return(0,i.default)(a,(function(a,i){var s=l._canAccessField(e,t,n,i,r,o);s&&(u[i]=s)})),u}},{key:"valuesCanAccess",value:function(e,t,n,a,r){var o=this;return a=(0,u.default)(a),(0,i.default)(a,(function(i,l){o._canAccessField(e,t,n,l,r)||delete a[l]})),a}},{key:"canCreate",value:function(e,t,n,a){return this.canAccess("create",e,t,n,a)}},{key:"canRead",value:function(e,t,n,a){return this.canAccess("read",e,t,n,a)}},{key:"canUpdate",value:function(e,t,n,a){return this.canAccess("update",e,t,n,a)}},{key:"canArchive",value:function(e,t,n,a){return this.canAccess("archive",e,t,n,a)}}]),e}();t.default=c},52:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(67)),h=a(n(314));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Field"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"name",required:!0},{name:"label",component:"TextField",label:"Label",docLevel:"basic"},{name:"value",component:"Field"},{name:"err",component:"Field"},{name:"required",component:"BooleanField",label:"Required",docLevel:"basic"},{name:"fullWidth",component:"BooleanField",label:"Full Width",docLevel:"basic"},{name:"touched",component:"BooleanField"},{name:"validators",component:"Field"},{name:"block",component:"BooleanField",label:"Block",docLevel:"basic"},{name:"disabled",component:"BooleanField",label:"Disabled",docLevel:"basic"},{name:"editable",component:"BooleanField",label:"Editable"},{name:"dirty",component:"BooleanField"},{name:"help",component:"TextField",label:"Help"},{name:"in",component:"BooleanField"},{name:"out",component:"BooleanField"},{name:"before",component:"TextField"},{name:"after",component:"TextField"},{name:"showArchived",component:"BooleanField"},{name:"searchString",component:"TextField"},{name:"ignoreErrs",component:"BooleanField"},{name:"forbidSort",component:"BooleanField"},{name:"hideLabel",component:"BooleanField"},{name:"useDisplayValue",component:"BooleanField",label:"Use Display Value",docLevel:"basic"},{name:"autoHideLabel",component:"BooleanField"}]}}),this._setDefaults(e,{editable:!0,block:!0,out:!0,in:!0,hidden:!1,required:!1,fullWidth:!1,disabled:!1,autoHideLabel:!0})}},{key:"_setValue",value:function(e){this._set("value",e)}},{key:"_setRequired",value:function(e){this._set("required",e)}},{key:"_setDisabled",value:function(e){this._set("disabled",e)}},{key:"_setEditable",value:function(e){this._set("editable",e)}},{key:"_setDirty",value:function(e){this._set("dirty",e)}},{key:"setTouched",value:function(e){this._set("touched",e)}},{key:"setFullWidth",value:function(e){this._set("fullWidth",e)}},{key:"setUseDisplayValue",value:function(e){this._set("useDisplayValue",e)}},{key:"setHideLabel",value:function(e){this._set("hideLabel",e)}},{key:"set",value:function(e){void 0!==e.value&&e.value!==this.get("value")&&this.set({dirty:!0}),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,Object.assign({},e,{value:void 0,required:void 0,disabled:void 0,editable:void 0,dirty:void 0,touched:void 0,fullWidth:void 0,useDisplayValue:void 0,hideLabel:void 0})),void 0!==e.value&&this._setValue(e.value),void 0!==e.required&&this._setRequired(e.required),void 0!==e.disabled&&this._setDisabled(e.disabled),void 0!==e.editable&&this._setEditable(e.editable),void 0!==e.dirty&&this._setDirty(e.dirty),void 0!==e.touched&&this.setTouched(e.touched),void 0!==e.fullWidth&&this.setFullWidth(e.fullWidth),void 0!==e.useDisplayValue&&this.setUseDisplayValue(e.useDisplayValue),void 0!==e.hideLabel&&this.setHideLabel(e.hideLabel)}},{key:"setErr",value:function(e){this.set({err:e})}},{key:"clearErr",value:function(){this.setErr(null)}},{key:"getErr",value:function(){return this.get("err")}},{key:"setValue",value:function(e){this.set({value:e})}},{key:"clearValue",value:function(){this.setValue(null)}},{key:"getValue",value:function(){return this.get("value")}},{key:"isValueBlank",value:function(e){return this.constructor.isValueBlank(e)}},{key:"isBlank",value:function(){var e=this.getValue();return this.isValueBlank(e)}},{key:"_toValidatorProps",value:function(){return this}},{key:"validate",value:function(){if(!this.get("ignoreErrs"))if(this._required&&this.isBlank())this.setErr("required");else if(!this.isBlank()&&this._validators&&this._validators.length>0){var e=new h.default(this._toValidatorProps()).validate(this._validators);0!==e.length&&this.setErr(e[0])}}},{key:"getDisplayValue",value:function(){return this.get("value")}},{key:"hasErr",value:function(){return!!this.get("err")}},{key:"_validateWithRegExp",value:function(e,t){if(!this.isBlank()){var n=this.getValue();e.test(n)||this.setErr(t)}}},{key:"getFirstErr",value:function(){for(var e=this.get("err"),t=0;Array.isArray(e);){if(2===t++)return JSON.stringify(e);e=e[0].error}return e}},{key:"isField",value:function(){return!0}}]),n}(f.default);t.default=m,m.isValueBlank=function(e){return null===e||void 0===e}},575:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(17)),u=a(n(12)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(16)),h=a(n(305)),p=a(n(39)),m=a(n(68)),v=a(n(61)),y=a(n(597)),b=a(n(238)),g=a(n(184)),_=a(n(313));function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var k=0,w=function(){return k++},O=function(e){(0,s.default)(n,e);var t=F(n);function n(e){var a;return(0,i.default)(this,n),a=t.call(this,e),(0,f.default)((0,l.default)(a),"_className","Component"),a._registrar=p.default,a._setDebugId(),a._listenerEvents={},a._subEvents={},a._isLoaded=!1,a._emittedCreate=!1,a._resolveAfterCreate=m.default.once((0,l.default)(a),"didCreate"),a._resolveAfterLoad=m.default.once((0,l.default)(a),"didLoad"),a._listenToAllChanges(),a._propNames=["schema"],a._indexedPropNames={schema:!0},e&&void 0!==e.name&&a._setProperty("name",e.name),a._create(void 0===e?{}:e),a.set(void 0===e?{}:e),a._emitCreateIfNotMuted(),a._setKey(),a}return(0,u.default)(n,[{key:"_getBaseComponentSchema",value:function(){return{component:"Form",fields:[{name:"component",component:"TextField"},{name:"name",component:"TextField",label:"Name",docLevel:"basic",help:"A unique variable name"},{name:"listeners",component:"Field"},{name:"schema",component:"FormField",form:{component:"ObjectForm"}},{name:"isStore",component:"BooleanField"},{name:"didCreate",component:"BooleanField"},{name:"backEndOnly",component:"BooleanField"},{name:"parent",component:"Field"},{name:"muteCreate",component:"BooleanField"},{name:"disableSubEvents",component:"BooleanField"},{name:"docLevel",component:"SelectField",options:[{value:"basic",label:"Basic"},{value:"advanced",label:"Advanced"}]}]}}},{key:"_emitCreate",value:function(){this._emittedCreate||(this._emittedCreate=!0,this.emitChange("create"),this._hasListenerForEvent("create")||this._emitDidCreate())}},{key:"_setDebugId",value:function(){this._debugId=Math.random()}},{key:"_emitCreateIfNotMuted",value:function(){var e=this;this.get("muteCreate")||setTimeout((function(){e._emitCreate()}))}}]),(0,u.default)(n,[{key:"_setKey",value:function(){this._key=w()}},{key:"_create",value:function(e){this.set({schema:this._getBaseComponentSchema()}),this._setDefaults(e,{docLevel:"advanced"})}},{key:"emitChange",value:function(e,t){this.emit(e,t),this.emit("$change",e,t)}},{key:"_setProperty",value:function(e,t){this["_"+e]=t}},{key:"_setPropertyAndEmitChange",value:function(e,t){this._setProperty(e,t),this.emitChange(e,t)}},{key:"_setIfDifferent",value:function(e,t){this["_"+e]!==t&&this._setPropertyAndEmitChange(e,t)}},{key:"_push",value:function(e,t){var n=this._getProperty(e);Array.isArray(n)||(n=[]),n.push(t),this._set(e,n)}},{key:"_concat",value:function(e,t){var n=this._getProperty(e);Array.isArray(n)||(n=[]),n=n.concat(t),this._set(e,n)}},{key:"has",value:function(e){return void 0!==this._indexedPropNames[e]}},{key:"_throwIfNotDefined",value:function(e){if(!this.has(e))throw new _.default(this.getClassName()+": "+e+" not defined")}},{key:"_setIfPropDefined",value:function(e,t){this._throwIfNotDefined(e),this._setIfDifferent(e,t)}},{key:"_throwPropertyNotFound",value:function(e){throw new _.default(e.join(".")+" not found")}},{key:"isComponent",value:function(e){return e instanceof n||e instanceof g.default}},{key:"_getSubProperty",value:function(e,t){var n=e.split("."),a=this;void 0===t?t=n.length:t<0&&(t+=n.length);for(var r=[],o=0;o<t;o++){var i=n[o];r.push(i),this.isComponent(a)?(a.has(i)||this._throwPropertyNotFound(r),a=a.get(i)):void 0===a?(r.pop(),this._throwPropertyNotFound(r)):void 0===a[i]?this._throwPropertyNotFound(r):a=a[i]}return{property:a,names:n}}},{key:"_set",value:function(e,t){if(this._hasDot(e)){var n=this._getSubProperty(e,-1),a=n.property,r=n.names,o=r[r.length-1];this.isComponent(a)?a.has(o)&&this.isComponent(a.get(o))?a.get(o).set(t):a.set({[o]:t}):a[o]=t}else this._setIfPropDefined(e,t)}},{key:"_setIfDefined",value:function(e,t){void 0!==t&&this._set(e,t)}},{key:"_setProps",value:function(e){var t=this;(0,v.default)(e,(function(e,n){return t._setIfDefined(n,e)}))}},{key:"_setName",value:function(e){this._set("name",e)}},{key:"_setParent",value:function(e){this._set("parent",e)}},{key:"_setIsStore",value:function(e){this._set("isStore",e)}},{key:"_setDefaults",value:function(e,t){var n=this;(0,v.default)(t,(function(t,a){void 0===e[a]&&n._set(a,t)}))}},{key:"_emitDidCreate",value:function(){this.set({didCreate:!0})}},{key:"_emitDidLoad",value:function(){this.emitChange("didLoad"),this._isLoaded=!0}},{key:"_getLayer",value:function(){return this.constructor.getLayer()}},{key:"_hasListenerForEvent",value:function(e){return!!this._listenerEvents[e]}},{key:"_hasDot",value:function(e){return-1!==e.indexOf(".")}},{key:"_listenToSubEvent",value:function(e){var t=this;this._subEvents[e]=!0;var n=this._getSubProperty(e,-1),a=n.property,r=n.names,o=r[r.length-1];a.on(o,(function(n){return t.emitChange(e,n)}))}},{key:"_listenIfNewSubEvent",value:function(e){void 0!==this._subEvents[e]||this.get("disableSubEvents")||this._listenToSubEvent(e)}},{key:"_listenIfSubEvent",value:function(e){var t=this;this._hasDot(e)&&this.resolveAfterCreate().then((function(){return t._listenIfNewSubEvent(e)}))}},{key:"_setListeners",value:function(e){var t=this;this._concat("listeners",e),e.forEach((function(e){(Array.isArray(e.event)?e.event:[e.event]).forEach((function(e){t._listenIfSubEvent(e),t._listenerEvents[e]=!0}))}))}},{key:"_emitAfterListenerEvents",value:function(e){switch(e){case"create":this._emitDidCreate();break;case"load":this._emitDidLoad()}}},{key:"_runAction",value:function(){var e=(0,o.default)(r.default.mark((function e(t,n,a,o,i){var l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.get("layer"),this._getLayer()&&l&&l!==this._getLayer()){e.next=3;break}return e.abrupt("return",n.run({event:a,component:this,arguments:o,context:i}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()},{key:"_onActionErr",value:function(e){this.emitChange("actionErr",e)}},{key:"_onDetachedActionErr",value:function(e){this._registrar.log&&this._registrar.log.error(e),this._onActionErr(e)}},{key:"runListeners",value:function(){var e=(0,o.default)(r.default.mark((function e(t,n,a){var o,i,l,u,s,c,d=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=this.get("listeners"))){e.next=25;break}e.t0=r.default.keys(o);case 3:if((e.t1=e.t0()).done){e.next=24;break}if(i=e.t1.value,l=o[i],-1===(Array.isArray(l.event)?l.event:[l.event]).indexOf(t)){e.next=22;break}e.t2=r.default.keys(l.actions);case 9:if((e.t3=e.t2()).done){e.next=22;break}if(u=e.t3.value,s=l.actions[u],c=this._runAction(l,s,t,n,a),!s.get("detached")){e.next=17;break}c.catch((function(e){return d._onDetachedActionErr(e)})),e.next=20;break;case 17:return e.next=19,c;case 19:n=e.sent;case 20:e.next=9;break;case 22:e.next=3;break;case 24:this._emitAfterListenerEvents(t);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"_shouldThrowActionErrors",value:function(){return n._throwActionErrors}},{key:"_runListenersAndEmitError",value:function(){var e=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.runListeners(t,n);case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),this._onActionErr(e.t0),!this._shouldThrowActionErrors()){e.next=10;break}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_listenToAllChanges",value:function(){var e=this;this.on("$change",function(){var t=(0,o.default)(r.default.mark((function t(n,a){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._listenerEvents[n]){t.next=3;break}return t.next=3,e._runListenersAndEmitError(n,a);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"_pushProp",value:function(e){this.has(e)||(this._propNames.push(e),this._indexedPropNames[e]=!0)}},{key:"_setSchema",value:function(e){var t=this;this._push("schema",e),e.fields?e.fields.forEach((function(e){return t._pushProp(e.name)})):e.eachField&&e.eachField((function(n){e.isDefaultField(n.get("name"))||t._pushProp(n.get("name"))}))}},{key:"_setMuteEvents",value:function(e){this._set("muteCreate",e)}},{key:"set",value:function(e){if("object"!==typeof e)throw new Error("props must be an object");void 0!==e.schema&&this._setSchema(e.schema),void 0!==e.name&&this._setName(e.name),void 0!==e.parent&&this._setParent(e.parent),void 0!==e.isStore&&this._setIsStore(e.isStore),void 0!==e.muteCreate&&this._setMuteEvents(e.muteCreate),this._setProps(Object.assign({},e,{component:void 0,props:void 0,schema:void 0,name:void 0,parent:void 0,isStore:void 0,listeners:void 0,muteCreate:void 0})),void 0!==e.listeners&&this._setListeners(e.listeners)}},{key:"_getProperty",value:function(e){return this["_"+e]}},{key:"_getIfDefined",value:function(e){return this._throwIfNotDefined(e),this._getProperty(e)}},{key:"_get",value:function(e){return this._hasDot(e)?this._getSubProperty(e).property:this._getIfDefined(e)}},{key:"getOne",value:function(e){return this._get(e)}},{key:"get",value:function(e){var t=this;if(e||(e=this._propNames),Array.isArray(e)){var n={};return e.forEach((function(e){n[e]=t.getOne(e)})),n}return this.getOne(e)}},{key:"getClassName",value:function(){return this._className}},{key:"getParentClassName",value:function(){return(new(Object.getPrototypeOf(this.constructor))).getClassName()}},{key:"_cloneDeep",value:function(e){return(0,b.default)(e,(function(e,t,n,a){if("_parent"===t||"parent"===t)return e}))}},{key:"_cloneSlow",value:function(){var e=this._cloneDeep(this);return e._setDebugId(),e._setKey(),e.removeAllListeners(),e._emitCreateIfNotMuted(),e}},{key:"_cloneFast",value:function(e){var t=e.defaultProps,n=e.excludeProps,a=new(this._registrar.compiler.getCompiledComponent(this.getClassName()))(t);n&&(n=n.concat(["parent"]));var r=(0,y.default)(this._propNames,n);return a.set(this._cloneDeep(this.get(r))),a.set(this.get(["parent"])),a}},{key:"_canCloneFast",value:function(){return this._registrar.compiler&&this._registrar.compiler.exists(this.getClassName())}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultProps,n=e.excludeProps;return this._canCloneFast()?this._cloneFast({defaultProps:t,excludeProps:n}):this._cloneSlow()}},{key:"clone",value:function(){return this._clone()}},{key:"emitLoad",value:function(){this.emitChange("load"),this._hasListenerForEvent("load")||this._emitDidLoad()}},{key:"emitUnload",value:function(){this._isLoaded=!1,this.emitChange("unload")}},{key:"_bubbleUpEvents",value:function(e,t){var n=this;t.forEach((function(t){e.on(t,(function(e){n.emitChange(t,e)}))}))}},{key:"getKey",value:function(){return this._key}},{key:"_setOn",value:function(e,t,n){n.forEach((function(n){void 0!==t[n]&&e.set({[n]:t[n]})}))}},{key:"_getFrom",value:function(e,t,n){if(-1!==n.indexOf(t))return e.get(t)}},{key:"buildSchemaForm",value:function(e,t){this.get("schema").forEach((function(n){t.isCompiled(n)||(n=t.newComponent(n)),e.copyFields(n)}))}},{key:"getUniqueId",value:function(){return this.constructor.toUniqueId(this._key)}},{key:"isLoaded",value:function(){return this._isLoaded}},{key:"resolveAfterCreate",value:function(){return this._resolveAfterCreate}},{key:"resolveAfterLoad",value:function(){return this._resolveAfterLoad}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"getHiddenFieldDefinitions",value:function(e){return e.map((function(e){return{name:e,component:"Field",hidden:!0}}))}}],[{key:"getLayer",value:function(){return this.constructor._layer}},{key:"setLayer",value:function(e){this.constructor._layer=e}},{key:"setThrowActionErrors",value:function(e){n._throwActionErrors=e}},{key:"getNextKey",value:function(){return w()}},{key:"toUniqueId",value:function(e){return"mson-"+e}},{key:"getNextUniqueId",value:function(){var e=this.getNextKey();return this.toUniqueId(e)}}]),n}(h.default.EventEmitter);t.default=O,(0,f.default)(O,"_layer",null),(0,f.default)(O,"_throwActionErrors",!1)},618:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(14)),l=a(n(15)),u=a(n(13));function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var c=function(e){(0,i.default)(n,e);var t=s(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"_getProp",value:function(e,t){return e.getValue(t)}},{key:"_setProp",value:function(e,t,n){return e.getField(t).setValue(n)}}]),n}(a(n(316)).default);t.default=c},619:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(113)),s=a(n(620));function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var f=function(){function e(t){var n=t.onGetAll,a=t.onGetItemsPerPage,r=t.onGetScrollThreshold,o=t.onGetMaxBufferPages,l=t.onGetItemElement,u=t.onGetSpacerElement,s=t.onRemoveItems,c=t.onResizeSpacer,d=t.onSetBufferTopId,f=t.onGetItem,h=t.onGetItems,p=t.onGetItemId,m=t.onGetItemCursor,v=t.onAddItem,y=t.onAddItems,b=t.onEmitChange,g=t.onSetIsLoading,_=t.onGetOrder,F=t.onGetWhere;(0,i.default)(this,e),this._onGetAll=n,this._onGetItemsPerPage=a,this._onGetScrollThreshold=r,this._onGetMaxBufferPages=o,this._onGetItemElement=l,this._onGetSpacerElement=u,this._onRemoveItems=s,this._onResizeSpacer=c,this._onSetBufferTopId=d,this._onGetItem=f,this._onGetItems=h,this._onSetIsLoading=g,this._onGetOrder=_,this._onGetWhere=F,this._onGetItemId=p,this._onGetItemCursor=m,this._onAddItem=v,this._onAddItems=y,this._onEmitChange=b,this.reset()}return(0,l.default)(e,[{key:"_resizeBuffer",value:function(e){if(e.previous){this._bufferBottomId=this._onRemoveItems(this._bufferBottomId,this._onGetItemsPerPage(),!0);var t=this._onGetItem(this._bufferBottomId);this._bufferBottomCursor=this._onGetItemCursor(t)}else{var n=this._onGetItemElement(this._bufferTopId),a=this._onRemoveItems(this._bufferTopId,this._onGetItemsPerPage()),r=this._onGetItemElement(a).offsetTop-n.offsetTop;this._onResizeSpacer(r),this._bufferTopId=a;var o=this._onGetItem(a);this._bufferTopCursor=this._onGetItemCursor(o)}}},{key:"_setDefaults",value:function(){this._bufferTopCursor||(this._bufferTopCursor=this._beginCursor,this._bufferTopId=this._beginId),this._bufferBottomCursor||(this._bufferBottomCursor=this._endCursor,this._bufferBottomId=this._endId)}},{key:"_resetBufferReferences",value:function(){this._bufferTopId=null,this._bufferTopCursor=null,this._firstCursor=null,this._bufferBottomId=null,this._bufferBottomCursor=null,this._bufferSize=0}},{key:"reset",value:function(){this._resetBufferReferences(),this._lastGetAllProps=null,this._lastScrollY=null,this._spacerResizing=!1,this._showArchived=!1,this._onSetBufferTopId(null),this._onSetIsLoading(!1),this._onResizeSpacer(null,0)}},{key:"getAll",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i,l,s,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,a=null,(t=t?(0,u.default)(t):{}).showArchived=this._showArchived,this._onGetWhere&&(t.where=this._onGetWhere()),this._onGetOrder&&(t.order=this._onGetOrder()),t.before?t.last=this._onGetItemsPerPage():t.first=this._onGetItemsPerPage(),e.next=9,this._getAllDebounced(t);case 9:if(!(o=e.sent)){e.next=18;break}return i=null,l=null,s=o.edges.length,c=t.before?this._bufferTopId:null,e.next=17,this._onAddItems(o.edges,c);case 17:s>0&&(this._firstCursor||(this._firstCursor=o.edges[0].cursor),i=o.edges[0],n=i.node.id,l=o.edges[s-1],a=l.node.id,this._beginCursor=i.cursor,this._endCursor=l.cursor,this._beginId=n,this._endId=a,this._bufferSize+=s,this._setDefaults(),this._onEmitChange(o));case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_noMoreData",value:function(e){return!e||!!e.edges&&0===e.edges.length||!!e.pageInfo&&!e.pageInfo.hasNextPage}},{key:"_getAllDebounced",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.after||(t.after=null),t.before||(t.before=null),(0,s.default)(t,this._lastGetAllProps)){e.next=10;break}return this._onSetIsLoading(!0),this._lastGetAllProps=(0,u.default)(t),e.next=7,this._onGetAll(t);case 7:return n=e.sent,this._noMoreData(n)&&this._onSetIsLoading(!1),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMore",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.previous,a={},n?a.before=this._bufferTopCursor:a.after=this._bufferBottomCursor,e.next=5,this.getAll(a);case 5:o=e.sent,i=this._onGetMaxBufferPages()*this._onGetItemsPerPage(),this._lastMoreWasPrevious=n,o&&o.edges.length>0&&(n?(l=this._bufferTopId,this._bufferTopCursor=this._beginCursor,this._bufferTopId=this._beginId,this._onSetBufferTopId(l)):(this._bufferBottomCursor=this._endCursor,this._bufferBottomId=this._endId),this._bufferSize>i&&this._resizeBuffer({previous:n}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resizeSpacer",value:function(e){var t=this._onGetItemElement(e);if(t){var n=this._onGetSpacerElement(),a=n.offsetTop+n.offsetHeight-t.offsetTop;a>0&&(this._spacerResizing=!0),this._onResizeSpacer(a)}}},{key:"_shouldLoadPrevious",value:function(e){var t=this._onGetItemElement(this._bufferTopId),n=this.beginningLoaded();return t&&e<t.offsetTop+this._onGetScrollThreshold()&&!n}},{key:"_shouldLoadNext",value:function(e){var t=this._onGetItemElement(this._bufferBottomId);return t&&e>t.offsetTop+t.offsetHeight-this._onGetScrollThreshold()}},{key:"scroll",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.scrollY,a=!this._lastScrollY||n>=this._lastScrollY,this._lastScrollY=n,!this._spacerResizing){e.next=5;break}return e.abrupt("return");case 5:if(a||!this._shouldLoadPrevious(n)){e.next=10;break}return e.next=8,this._getMore({previous:!0});case 8:e.next=13;break;case 10:if(!a||!this._shouldLoadNext(n)){e.next=13;break}return e.next=13,this._getMore({previous:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSpacerResizing",value:function(e){this._spacerResizing=e,!e&&this._lastMoreWasPrevious&&this._shouldLoadPrevious(window.scrollY)&&!this.beginningLoaded()&&this._getMore({previous:!0})}},{key:"beginningLoaded",value:function(){return this._bufferTopCursor===this._firstCursor}},{key:"setShowArchived",value:function(e){this._showArchived=e}},{key:"removeItem",value:function(e){if(e===this._bufferTopId||e===this._bufferBottomId){var t,n=e===this._bufferBottomId,a=null,r=null,o=0,i=c(this._onGetItems(e,n));try{for(i.s();!(t=i.n()).done;){var l=t.value;if(a=this._onGetItemId(l),r=this._onGetItemCursor(l),1===o++)break}}catch(u){i.e(u)}finally{i.f()}a?e===this._bufferTopId?(this._bufferTopId=a,this._bufferTopCursor=r,this._firstCursor=r):(this._bufferBottomId=a,this._bufferBottomCursor=r):this._resetBufferReferences()}}}]),e}();t.default=f},621:function(e,t,n){},67:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","UIComponent"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"hidden",component:"BooleanField",label:"Hidden",docLevel:"basic"}]}})}}]),n}(a(n(102)).default);t.default=h},68:function(e,t,n){"use strict";(function(e){var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Utils=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(576)),s=a(n(61)),c=n(804),d=function(){function t(){(0,i.default)(this,t),this._global=e}return(0,l.default)(t,[{key:"sequential",value:function(){var e=(0,o.default)(r.default.mark((function e(t,n){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,(0,u.default)(t,function(){var e=(0,o.default)(r.default.mark((function e(t,o,i){var l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,n(o,i);case 4:void 0!==(l=e.sent)&&a.push(l);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Promise.resolve());case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"inBrowser",value:function(){return!!this._global.window}},{key:"getAllMethodNames",value:function(e){for(var t=[],n=function(e){return function(n){"function"===typeof e[n]&&t.push(n)}};e=Reflect.getPrototypeOf(e);){Reflect.ownKeys(e).forEach(n(e))}return t}},{key:"getAllFunctionNames",value:function(e){var t=[];return(0,s.default)(e,(function(e,n){"function"===typeof e&&t.push(n)})),t}},{key:"combineWheres",value:function(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.forEach((function(t){t&&e.push(t)})),1===e.length?e[0]:{$and:e}}},{key:"toWhereFromSearchString",value:function(e,t){var n=t.trim();if(""===n)return null;var a=n.split(/ +/),r=[];return a.forEach((function(t){var n=[];e.forEach((function(e){n.push({[e]:{$iLike:t+"%"}})})),r.push({$or:n})})),{$and:r}}},{key:"uuid",value:function(){return(0,c.v4)()}},{key:"once",value:function(e,t){return new Promise((function(n){e.once(t,(function(){n(arguments)}))}))}},{key:"isRegExpString",value:function(e){return new RegExp("^/(.*)/(.*)$").test(e)}},{key:"stringToRegExp",value:function(e){var t=e.match(new RegExp("^/(.*)/(.*)$"));return new RegExp(t[1],t[2])}},{key:"toRegExp",value:function(e){return e instanceof RegExp?e:this.stringToRegExp(e)}},{key:"toSingular",value:function(e){return e.substr(0,e.length-1)}}]),t}();t.Utils=d;var f=new d;t.default=f}).call(this,n(82))},702:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Compiler=void 0;var r=a(n(17)),o=a(n(18)),i=a(n(14)),l=a(n(15)),u=a(n(13)),s=a(n(16)),c=a(n(9)),d=a(n(12)),f=a(n(703)),h=a(n(186)),p=a(n(39)),m=a(n(61)),v=a(n(113)),y=a(n(799));function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=function(){function e(t){(0,c.default)(this,e),this._components=t.components,this._validateOnly=!1}return(0,d.default)(e,[{key:"setValidateOnly",value:function(e){this._validateOnly=e}},{key:"exists",value:function(e){return!!this._components[e]}},{key:"getComponent",value:function(e){if(this.exists(e))return this._components[e];throw new y.default("missing component "+e)}},{key:"_compileAnyFactoryProduct",value:function(e){var t=this;if("Factory"===e.component){var n=e.product,a=e.properties;delete e.properties,e.product=function(){var e=null;if(e=t.isCompiled(n)?n.produce():t.newComponent(n),a){var r=(0,v.default)(a);t._instantiate(r),e.set(r)}return e}}}},{key:"_getWrappedComponentClass",value:function(e,t,n,a){var l=this.getCompiledComponent(e,t);this._validateOnly&&(t=Object.assign({},t,{muteCreate:!0,disableSubEvents:!0}));var f=this;return function(l){(0,i.default)(m,l);var p=b(m);function m(){var t;(0,c.default)(this,m);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=p.call.apply(p,[this].concat(o)),(0,s.default)((0,r.default)(t),"_className",void 0===a?e:a),t}return(0,d.default)(m,[{key:"_create",value:function(e){var a=new h.default(Object.assign({},n,e));t=a.fillAll(t),f._compileAnyFactoryProduct(t),delete t.component,f._instantiate(t),f._instantiate(e);var r=Object.assign({},t,e);(0,o.default)((0,u.default)(m.prototype),"_create",this).call(this,r),t.componentToWrap&&delete t.componentToWrap,this.set(t)}}]),m}(l)}},{key:"isCompiled",value:function(e){return"object"!==typeof e||"Object"!==e.constructor.name&&"Array"!==e.constructor.name}},{key:"getCompiledComponent",value:function(e,t){var n=this.getComponent(e);return this.isCompiled(n)?n:this.compile(n,t,e)}},{key:"compile",value:function(e,t,n){return this._getWrappedComponentClass(e.component,e,t,n)}},{key:"_instantiateComponent",value:function(e,t){return new e(t)}},{key:"_instantiate",value:function(e){var t=this;if(e instanceof f.default.Component)return e;if("Factory"===e.component)return new(this.compile(e));if((0,m.default)(e,(function(n,a){"object"===typeof n&&null!==n&&(e[a]=t._instantiate(n))})),e.component){var n=this.getCompiledComponent(e.component);return this._instantiateComponent(n,Object.assign({},e,{component:void 0}))}return e}},{key:"newComponent",value:function(e){var t=this.compile(e);return this._instantiateComponent(t)}},{key:"getOldestCompiledAncestor",value:function(e){var t=this.getComponent(e);return this.isCompiled(t)?e:this.getOldestCompiledAncestor(t.component)}},{key:"registerComponent",value:function(e,t){this._components[e]=t}},{key:"registerComponents",value:function(e){var t=this;(0,m.default)(e,(function(e){return t.registerComponent(e.name,e)}))}},{key:"deregisterComponent",value:function(e){delete this._components[e]}},{key:"createSchemaForm",value:function(e){var t=this.newComponent({component:e.component}),n=new(0,this._components.Form);if(t.buildSchemaForm(n,this),e.schema){var a=_.newComponent(e.schema);a.setRequired(!1),n.copyFields(a)}return n}},{key:"validateDefinition",value:function(e){var t=this.createSchemaForm(e);return t.setValues(e),t.validate(),t}}]),e}();t.Compiler=g;var _=new g({components:f.default});p.default.compiler=_;var F=_;t.default=F},703:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(41)),o=a(n(704)),i=a(n(705)),l=a(n(706)),u=a(n(707)),s=a(n(708)),c=a(n(155)),d=a(n(709)),f=a(n(327)),h=a(n(713)),p=a(n(714)),m=a(n(715)),v=a(n(234)),y=a(n(50)),b=a(n(191)),g=a(n(716)),_=a(n(328)),F=a(n(731)),k=a(n(732)),w=a(n(733)),O=a(n(152)),E=a(n(734)),S=a(n(735)),C=a(n(335)),x=a(n(334)),P=a(n(336)),D=a(n(52)),R=a(n(736)),A=a(n(118)),j=a(n(744)),T=a(n(101)),I=a(n(745)),L=a(n(746)),N=a(n(747)),M=a(n(748)),B=a(n(749)),V=a(n(750)),U=a(n(751)),W=a(n(189)),q=a(n(341)),G=a(n(752)),K=a(n(115)),H=a(n(753)),z=a(n(754)),$=a(n(755)),Y=a(n(756)),J=a(n(757)),Z=a(n(247)),X=a(n(758)),Q=a(n(762)),ee=a(n(342)),te=a(n(151)),ne=a(n(340)),ae=a(n(763)),re=a(n(764)),oe=a(n(765)),ie=a(n(766)),le=a(n(767)),ue=a(n(769)),se=a(n(770)),ce=a(n(771)),de=a(n(772)),fe=a(n(773)),he=a(n(774)),pe=a(n(775)),me=a(n(776)),ve=a(n(777)),ye=a(n(778)),be=a(n(779)),ge=a(n(780)),_e=a(n(781)),Fe=a(n(782)),ke=a(n(783)),we=a(n(784)),Oe=a(n(785)),Ee=a(n(150)),Se=a(n(786)),Ce=a(n(787)),xe=a(n(344)),Pe=a(n(788)),De=a(n(789)),Re=a(n(790)),Ae=a(n(345)),je=a(n(346)),Te=a(n(92)),Ie=a(n(246)),Le=a(n(248)),Ne=a(n(791)),Me=a(n(792)),Be=a(n(793)),Ve=a(n(794)),Ue=a(n(795)),We=a(n(796)),qe=a(n(797)),Ge=a(n(798)),Ke=a(n(343)),He=a(n(339)),ze=a(n(235)),$e={AccessForm:j.default,Action:r.default,AddressField:o.default,AddressForm:i.default,AuthenticatedContactUs:l.default,App:u.default,BooleanField:s.default,ButtonField:c.default,Card:d.default,ChainedSelectField:f.default,ChainedSelectListField:h.default,ChainedSelectOptionsField:p.default,CityField:m.default,CollectionField:y.default,Component:v.default,ComponentField:b.default,ComponentForm:g.default,CompositeField:_.default,ConsoleLog:F.default,ContactUs:k.default,CountryField:w.default,DateField:O.default,Email:E.default,EmailField:S.default,Emit:C.default,ExtendedField:x.default,Factory:P.default,Field:D.default,FirebaseStore:R.default,Form:A.default,FormField:T.default,Fragment:L.default,GenerateComponent:N.default,GetDoc:M.default,GetDocs:B.default,Grid:V.default,GridItem:U.default,IdField:W.default,IntegerField:q.default,Iterator:G.default,ListField:K.default,LocalStorageStore:H.default,Login:z.default,LogInToApp:$.default,LogInToAppAndRedirect:Y.default,LogOutOfApp:J.default,MemoryStore:Z.default,Menu:X.default,MoneyField:Q.default,MSONComponent:ee.default,NumberField:te.default,ObjectForm:ne.default,OptionsField:ae.default,PasswordField:re.default,PersonFullNameField:oe.default,PersonNameField:ie.default,PhoneField:le.default,PostalCodeField:ue.default,ProvinceField:se.default,ReCAPTCHAField:ce.default,ReCAPTCHAVault:de.default,RecordEditor:fe.default,RecordList:he.default,RecordStore:pe.default,RecoverPassword:me.default,RecoverPasswordEditor:ve.default,Redirect:ye.default,RedirectByRole:be.default,RegExpField:ge.default,RequestPasswordReset:_e.default,ResetPassword:Fe.default,ResetPasswordEditor:ke.default,RolesField:we.default,SchemaValidatorForm:Oe.default,SelectField:Ee.default,SelectListField:Se.default,SetFromDoc:Ce.default,Set:xe.default,SignupEditor:Pe.default,Snackbar:De.default,StateField:Re.default,Tabs:Ae.default,Text:je.default,TextField:Te.default,TextFieldHiddenSchema:Ie.default,TextListField:Le.default,TimeField:Ne.default,ValidatorForm:I.default,UpdatePasswordEditor:Me.default,UpdatePassword:Be.default,UpsertDoc:Ve.default,URLField:Ue.default,User:We.default,UserList:qe.default,UUIDField:Ge.default,Vault:Ke.default,WhereField:He.default,WrappedComponent:ze.default};t.default=$e},704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"FormField",form:{component:"AddressForm"},elevate:!0};t.default=a},705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"Form",fields:[{name:"addressLine1",component:"TextField",label:"Address Line 1",maxLength:100,required:!0,hidden:!0},{name:"addressLine2",component:"TextField",label:"Address Line 2",maxLength:100,required:!1,hidden:!0},{name:"city",component:"CityField",label:"City",required:!0,block:!1,hidden:!0},{name:"stateProvince",component:"ProvinceField",label:"State/Province",required:!0,block:!1,hidden:!0},{name:"postalCode",component:"PostalCodeField",label:"Postal Code",required:!0,hidden:!0},{name:"country",component:"CountryField",label:"Country",required:!0}],listeners:[{event:"fields.country.value",actions:[{component:"Action",if:{"fields.country.value":{$ne:null}},actions:[{component:"Emit",event:"adjustFields"},{component:"Emit",event:"setHidden",value:!1}],else:[{component:"Emit",event:"setHidden",value:!0},{component:"Set",name:"clearErrs",value:!0}]}]},{event:"setHidden",actions:[{component:"Set",name:"component",value:{"fields.addressLine1.hidden":"{{arguments}}","fields.addressLine2.hidden":"{{arguments}}","fields.city.hidden":"{{arguments}}","fields.stateProvince.hidden":"{{arguments}}","fields.postalCode.hidden":"{{arguments}}"}}]},{event:"adjustFields",actions:[{component:"Action",if:{"fields.country.value":"US"},actions:[{component:"Action",if:{"fields.stateProvince.value":{$ne:null}},actions:[{component:"Set",value:"{{fields.stateProvince.value}}"}],else:[{component:"Set",value:null}]},{component:"Set",name:"component",value:{fields:[{name:"stateProvince",component:"StateField",label:"State",required:!0,block:!1}],"fields.stateProvince.value":"{{arguments}}","fields.postalCode.label":"Zip Code"}}],else:[{component:"Action",if:{"fields.stateProvince.value":{$ne:null}},actions:[{component:"Set",value:"{{fields.stateProvince.value}}"}],else:[{component:"Set",value:null}]},{component:"Set",name:"component",value:{fields:[{name:"stateProvince",component:"ProvinceField",label:"State/Province",required:!0,block:!1}],"fields.stateProvince.value":"{{arguments}}","fields.postalCode.label":"Postal Code"}}]}]}]};t.default=a},706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"AuthenticatedContactUs",component:"ContactUs",listeners:[{event:"create",actions:[{component:"Set",name:"component",value:{"fields.captcha.hidden":!0,"fields.captcha.required":!1,"fields.email.hidden":!0}}]},{event:"load",actions:[{component:"Set",name:"fields.email.value",value:"{{globals.session.user.username}}"},{component:"Set",name:"pristine",value:!0}]}]};t.default=a},707:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","App"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"menu",component:"Field"},{name:"menuAlwaysTemporary",component:"BooleanField"},{name:"basename",component:"TextField",help:"The base URL for all locations. If your app is served from a sub-directory on your server, you'll want to set this to the sub-directory. A properly formatted basename should have a leading slash, but no trailing slash."}]}})}},{key:"emitLoggedOut",value:function(){this.emitChange("loggedOut")}}]),n}(a(n(67)).default);t.default=h},708:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","BooleanField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"required",docLevel:null}]}})}},{key:"validate",value:function(){if((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue();!1!==e&&!0!==e&&this.setErr("must be true or false")}}},{key:"getDisplayValue",value:function(){return this.get("value")?"Yes":"No"}},{key:"_setRequired",value:function(){}}]),n}(a(n(52)).default);t.default=h},709:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Card"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"title",component:"TextField",label:"Title"},{name:"content",component:"Field",label:"Content",required:!0},{name:"searchString",component:"TextField"},{name:"dirty",component:"BooleanField"}]}}),this._bubbleUpLoad()}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){var t=e.get("content");t&&t.emitLoad()}}},{key:"_bubbleUpLoad",value:function(){this.on("load",this._handleLoadFactory())}}]),n}(a(n(67)).default);t.default=h},71:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Access=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(39)),l=a(n(508)),u=a(n(61)),s=function(){function e(){(0,r.default)(this,e),this._accessControl=new l.default,this._registrar=i.default}return(0,o.default)(e,[{key:"canAccess",value:function(e,t){var n=t.get("access");if(n&&n.form&&n.form[e]){var a=n.form[e],r=Array.isArray(a)?a:[a];return this._registrar.client.user.hasRole(r)}return!0}},{key:"canCreate",value:function(e){return this.canAccess("create",e)}},{key:"canRead",value:function(e){return this.canAccess("read",e)}},{key:"canUpdate",value:function(e){return this.canAccess("update",e)}},{key:"canArchive",value:function(e){return this.canAccess("archive",e)}},{key:"_fieldsOrValuesCanAccess",value:function(e,t,n,a,r){var o=t.get("access"),i=this._registrar.client&&this._registrar.client.user.getSession(),l={},s=!1;i&&i.user.roles&&((0,u.default)(i.user.roles,(function(e,t){l[e.name]=!0})),s=i.user.id===t.getValue("userId"));var c=t.getValues(n),d=a?"fieldsCanAccess":"valuesCanAccess";return this._accessControl[d](e,o,l,c,s,r)}},{key:"fieldsCanAccess",value:function(e,t,n,a){return this._fieldsOrValuesCanAccess(e,t,n,!0,a)}},{key:"fieldsCanCreate",value:function(e){return this.fieldsCanAccess("create",e,{out:!0})}},{key:"fieldsCanRead",value:function(e){return this.fieldsCanAccess("read",e)}},{key:"fieldsCanUpdate",value:function(e){return this.fieldsCanAccess("update",e,{out:!0})}},{key:"valuesCanAccess",value:function(e,t,n){return this._fieldsOrValuesCanAccess(e,t,n,!1)}},{key:"valuesCanCreate",value:function(e,t){return this.valuesCanAccess("create",e,Object.assign({out:!0},t))}},{key:"valuesCanRead",value:function(e,t){return this.valuesCanAccess("read",e,t)}},{key:"valuesCanUpdate",value:function(e,t){return this.valuesCanAccess("update",e,Object.assign({out:!0},t))}}]),e}();t.Access=s;var c=new s;t.default=c},711:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(16)),l=a(n(61)),u=function(){function e(t){(0,r.default)(this,e),(0,i.default)(this,"noParentId",-1),this.clear(),t&&this.add(t)}return(0,o.default)(e,[{key:"clear",value:function(){this._items={},this._itemsByParent={}}},{key:"_toParentId",value:function(e){return e||this.noParentId}},{key:"_addItem",value:function(e){this._items[e.id]=e;var t=this._toParentId(e.parentId);this._itemsByParent[t]||(this._itemsByParent[t]=[]),this._itemsByParent[t].push(e)}},{key:"add",value:function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){return t._addItem(e)}))}},{key:"get",value:function(e){return this._items[e]}},{key:"eachByParent",value:function(e,t){e=this._toParentId(e),(0,l.default)(this._itemsByParent[e],t)}},{key:"mapByParent",value:function(e,t){e=this._toParentId(e);var n=this._itemsByParent[e];return n?n.map(t):[]}}]),e}();t.default=u},712:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","MultipleValueField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"field",component:"Field"},{name:"allowScalar",component:"BooleanField"}]}})}},{key:"_validateValueType",value:function(e){var t=!1;null===e||Array.isArray(e)||this.get("allowScalar")||(t=!0),this._hasTypeError=t}},{key:"setValue",value:function(e){this._validateValueType(e),(0,l.default)((0,c.default)(n.prototype),"setValue",this).call(this,e)}},{key:"validate",value:function(){this.clearErr(),(0,l.default)((0,c.default)(n.prototype),"validate",this).call(this);var e=[];if(this._hasTypeError)e.push({error:"must be an array"});else{var t=this.getValue();if(t){var a=this.get("minSize"),r=this.get("maxSize");null!==a&&t.length<a?e.push({error:"".concat(a," or more")}):null!==r&&t.length>r&&e.push({error:"".concat(r," or less")})}}e.length>0&&this.setErr(e)}}]),n}(a(n(52)).default);t.default=h},713:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(115)),h=a(n(327));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ChainedSelectListField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"ChainedSelectOptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"}]}}),this._setDefaults(e,{allowDelete:!0,autoCreateFields:!0,canDeleteEmpty:!1,startWithField:!0})}},{key:"_newField",value:function(e){return new h.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e,hideLabel:!0,block:!0},this.get(["blankString","fullWidth","options","useDisplayValue","editable"])))}},{key:"_setFieldOptions",value:function(e){this._getOrCreateField(e).set({options:this.get("options")})}},{key:"_onFieldCreated",value:function(e){var t=this;e.on("value",(function(e){!t._isLastFieldBlank()&&t.canAddMoreFields(e)&&t.createField(),t._calcValue()}))}},{key:"_setOptions",value:function(e){this._setFieldOptions(0),this.eachField((function(t){return t.set({options:e})}))}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.options&&this._setOptions(e.options)}},{key:"clone",value:function(){var e=(0,l.default)((0,c.default)(n.prototype),"clone",this).call(this);return e._fields.clear(),e._setOptions(this.get("options")),e.setValue(this.getValue()),e}}]),n}(f.default);t.default=v},714:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"CollectionField",label:"Options",forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"label",label:"Label",component:"TextField",required:!0,block:!1},{name:"value",label:"Value",component:"TextField",required:!0,block:!1},{name:"parentValue",label:"Parent Value",component:"TextField"}]}}};t.default=a},715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"TextFieldHiddenSchema",maxLength:40};t.default=a},716:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(17)),o=a(n(16)),i=a(n(9)),l=a(n(12)),u=a(n(18)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(85));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var v=function(e){(0,s.default)(n,e);var t=m(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"_setValue",value:function(e){null!==e&&(e=p(p({},e),{},{component:e.component?e.component:e.componentName,componentName:void 0})),(0,u.default)((0,d.default)(n.prototype),"_setValue",this).call(this,e)}}]),n}(a(n(52)).default),y=function(e){(0,s.default)(n,e);var t=m(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),(0,o.default)((0,r.default)(e),"_className","ComponentForm"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,u.default)((0,d.default)(n.prototype),"_create",this).call(this,e);var t=[new v({name:"definition",label:"Definition",required:!0})];this.set({access:{form:{create:"admin",read:"admin",update:"admin",archive:"admin"}},fields:t})}}]),n}(f.default);t.default=y},730:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(14)),i=a(n(15)),l=a(n(13));function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,i.default)(this,n)}}var s=function(e){(0,o.default)(n,e);var t=u(n);function n(e){var a,o=e.form;return(0,r.default)(this,n),(a=t.call(this,JSON.stringify({message:"invalid input",error:o.getErrs()}))).name="FormErr",a}return n}((0,a(n(239)).default)(Error));t.default=s},731:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","ConsoleLog"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this._console=console,this.set({schema:{component:"Form",fields:[{name:"message",component:"TextField"}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._console.log(this.get("message")),e.abrupt("return",t.arguments);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"ContactUs",component:"Form",schema:{component:"Form",fields:[{name:"from",component:"TextField"},{name:"sender",component:"TextField"},{name:"replyTo",component:"TextField"},{name:"to",component:"TextField",required:!0},{name:"subject",component:"TextField"},{name:"body",component:"TextField"},{name:"store",component:"Field"}]},sender:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',replyTo:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',from:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',subject:"{{fields.subject.value}}",body:"{{fields.body.value}}",fields:[{component:"PersonNameField",name:"firstName",label:"First Name",required:!0,block:!1},{component:"PersonNameField",name:"lastName",label:"Last Name",required:!0},{component:"EmailField",name:"email",label:"Email",required:!0},{component:"TextField",name:"subject",label:"Subject",required:!0,fullWidth:!0},{component:"TextField",name:"body",label:"Body",required:!0,multiline:!0,rows:2,rowsMax:20,fullWidth:!0},{component:"ReCAPTCHAField"},{component:"ButtonField",type:"submit",name:"submit",label:"Send Message",icon:"Email"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel"}],listeners:[{event:"submit",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Message sent. Please expect a response shortly."},{component:"Set",name:"reset",value:!0},{component:"Redirect",path:"/"}]},{event:"createRecord",actions:[{component:"Email",sender:"{{sender}}",replyTo:"{{replyTo}}",from:"{{from}}",to:"{{to}}",subject:"{{subject}}",body:"{{body}}",detached:!0}]},{event:"cancel",actions:[{component:"Redirect",path:"/"}]}]};t.default=a},733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"SelectField",schema:{component:"Form",fields:[{name:"options",docLevel:null}]},options:[{value:"AF",label:"Afghanistan"},{value:"AX",label:"\xc5land Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia (Plurinational State of)"},{value:"BQ",label:"Bonaire, Sint Eustatius and Saba"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"CV",label:"Cabo Verde"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo (Democratic Republic of the)"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"C\xf4te d'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CW",label:"Cura\xe7ao"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czechia"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"SZ",label:"Eswatini"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"GG",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island and McDonald Islands"},{value:"VA",label:"Holy See"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran (Islamic Republic of)"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea (Democratic People's Republic of)"},{value:"KR",label:"Korea (Republic of)"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia (the former Yugoslav Republic of)"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia (Federated States of)"},{value:"MD",label:"Moldova (Republic of)"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestine, State of"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"R\xe9union"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"BL",label:"Saint Barth\xe9lemy"},{value:"SH",label:"Saint Helena, Ascension and Tristan da Cunha"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"LC",label:"Saint Lucia"},{value:"MF",label:"Saint Martin (French part)"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome and Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SX",label:"Sint Maarten (Dutch part)"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad and Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom of Great Britain and Northern Ireland"},{value:"US",label:"United States of America"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela (Bolivarian Republic of)"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands (British)"},{value:"VI",label:"Virgin Islands (U.S.)"},{value:"WF",label:"Wallis and Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}]};t.default=a},734:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Email"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"from",component:"TextField"},{name:"sender",component:"TextField"},{name:"replyTo",component:"TextField"},{name:"to",component:"TextField"},{name:"subject",component:"TextField"},{name:"body",component:"TextField"}]}}),this._setDefaults(e,{layer:"backEnd"})}},{key:"_sendEmail",value:function(e){return this._registrar.email.send(e)}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._sendEmail(this.get(["from","sender","replyTo","to","subject","body"])));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"TextFieldHiddenSchema",maxLength:"50",validators:[{where:{$not:{value:{$regex:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}$"}}},error:"invalid email"}]};t.default=a},736:function(e,t,n){"use strict";(function(e){var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(737)),o=a(n(27)),i=a(n(29)),l=a(n(9)),u=a(n(12)),s=a(n(17)),c=a(n(18)),d=a(n(14)),f=a(n(15)),h=a(n(13)),p=a(n(16)),m=a(n(247)),v=a(n(113)),y=n(149);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var F=function(t){(0,d.default)(a,t);var n=_(a);function a(){var e;(0,l.default)(this,a);for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r)),(0,p.default)((0,s.default)(e),"_className","FirebaseStore"),(0,p.default)((0,s.default)(e),"_onReorder",function(){var t=(0,i.default)(o.default.mark((function t(n,a){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._docSet({id:n,doc:a,options:{merge:!0}});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e}return(0,u.default)(a,[{key:"_listenToChanges",value:function(){var e=(0,i.default)(o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._coll.orderBy("createdAt").onSnapshot((function(e){e.docChanges().forEach((function(e){var n=e.doc.data();"removed"===e.type?t._docs.delete(n.id):t._docs.set(n.id,n)})),t.isLoaded()||setTimeout((function(){t._emitDidLoad()}))}),(function(e){t._emitError(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getFirebase",value:function(e){return e.firebase?e.firebase:this._global.firebase}},{key:"_initializeApp",value:function(e){this._fb.apps.length||this._fb.initializeApp({apiKey:e.apiKey,authDomain:e.authDomain,projectId:e.projectId})}},{key:"_init",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._fb=this._getFirebase(t),this._initializeApp(t),this._db=this._fb.firestore(),n={timestampsInSnapshots:!0},this._db.settings(n),this._coll=this._db.collection(t.collection),this._listenToChanges();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_create",value:function(t){(0,c.default)((0,h.default)(a.prototype),"_create",this).call(this,Object.assign({},t,{muteDidLoad:!0})),this._global=e,this.set({schema:{component:"Form",fields:[{name:"firebase",component:"Field"},{name:"apiKey",component:"TextField",required:!0},{name:"authDomain",component:"TextField",required:!0},{name:"projectId",component:"TextField",required:!0},{name:"collection",component:"TextField",required:!0}]}}),void 0!==t.apiKey&&this._init(t)}},{key:"_docSet",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=t.doc,r=t.options,!this.get("apiKey")){e.next=4;break}return a=JSON.parse(JSON.stringify(a)),e.abrupt("return",this._coll.doc(n).set(a,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fieldValues,a=t.id,r=t.order,i=t.reorder,this._shouldSetToLastOrder(r,i)&&(r=this._numUnarchived()),l=this._getUserId(),u=this._buildDoc({fieldValues:n,id:a,order:r,userId:l}),this._docs.set(u.id,u,void 0,void 0,!0,this._onReorder),e.next=7,this._docSet({id:u.id,doc:u,order:u.order});case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_modifyDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.fieldValues,r=t.archivedAt,i=t.order,l=(0,v.default)(this._docs.get(n)),l=this._setDoc({doc:l,fieldValues:a,archivedAt:r,order:i}),this._docs.set(l.id,l,void 0,void 0,!0,this._onReorder),e.next=6,this._docSet({id:l.id,doc:l,options:{merge:!0}});case 6:return e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._modifyDoc(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._modifyDoc(g(g({},t),{},{archivedAt:this._now(),order:y.Reorder.DEFAULT_ORDER})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reorder,a=t.order,i=(0,r.default)(t,["reorder","order"]),this._shouldSetToLastOrder(a,n)&&(a=this._numUnarchived()),e.abrupt("return",this._modifyDoc(g(g({},i),{},{archivedAt:null,order:a})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitForDataToBeLoaded",value:function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveAfterLoad();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitForDataToBeLoaded();case 2:return e.abrupt("return",(0,c.default)((0,h.default)(a.prototype),"_getDoc",this).call(this,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllDocs",value:function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitForDataToBeLoaded();case 2:return e.abrupt("return",(0,c.default)((0,h.default)(a.prototype),"_getAllDocs",this).call(this,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(m.default);t.default=F}).call(this,n(82))},744:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(85)),h=a(n(52)),p=a(n(101));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","AccessRolesField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,Object.assign({},e,{allowScalar:!0}))}}]),n}(h.default),y=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","AccessNode"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.addField(new v({name:"create",label:"Create"})),this.addField(new v({name:"read",label:"Create"})),this.addField(new v({name:"update",label:"Create"})),this.addField(new v({name:"archive",label:"Create"}))}}]),n}(f.default),b=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","AccessFields"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldNames",component:"Field"}]}})}},{key:"set",value:function(e){var t=this;(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.fieldNames&&(this.removeFieldsExcept(),e.fieldNames.forEach((function(e){t.addField(new p.default({name:e,form:new y}))})))}}]),n}(f.default),g=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","FormAccess"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldNames",component:"Field"}]}}),this.addField(new p.default({name:"form",label:"Form",form:new y})),this.addField(new p.default({name:"fields",label:"Fields",form:new b}))}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.fieldNames&&this.getField("fields").getForm().set({fieldNames:e.fieldNames})}}]),n}(f.default);t.default=g},745:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(85)),h=a(n(92)),p=a(n(101)),m=a(n(339));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=v(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ValidatorError"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.addField(new h.default({name:"field",label:"Field",required:!0})),this.addField(new h.default({name:"error",label:"error",required:!0}))}}]),n}(f.default),b=function(e){(0,u.default)(n,e);var t=v(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","FormValidator"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.addField(new m.default({name:"where",label:"Where",required:!0})),this.addField(new p.default({name:"error",label:"Error",form:new y,required:!0}))}}]),n}(f.default);t.default=b},746:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Fragment"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"Field"}]}})}},{key:"set",value:function(e){var t=this;void 0!==e.items&&e.items.forEach((function(e){return e.set({parent:t})})),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e)}}]),n}(a(n(67)).default);t.default=h},747:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","GenerateComponent"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"definition",component:"TextField",required:!0}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.get("definition"),e.abrupt("return",this._registrar.compiler.newComponent(JSON.parse(t)));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},748:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","GetDoc"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"where",component:"WhereField"}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").getDoc({where:this.get("where")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},749:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","GetDocs"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"where",component:"WhereField"}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").getAllDocs({where:this.get("where")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},750:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Grid"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"Field"}]}})}},{key:"set",value:function(e){var t=this;void 0!==e.items&&e.items.forEach((function(e){return e.set({parent:t})})),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e)}}]),n}(a(n(67)).default);t.default=h},751:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","GridItem"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"hidden",component:"BooleanField"},{name:"content",component:"Field"},{name:"xl",component:"IntegerField"},{name:"lg",component:"IntegerField"},{name:"md",component:"IntegerField"},{name:"sm",component:"IntegerField"},{name:"xs",component:"IntegerField"}]}})}},{key:"set",value:function(e){void 0!==e.content&&e.content.set({parent:this}),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e)}}]),n}(a(n(67)).default);t.default=h},752:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16)),p=a(n(41)),m=a(n(176)),v=a(n(225)),y=a(n(245)),b=a(n(186));function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var _=function(e){(0,c.default)(n,e);var t=g(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Iterator"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"iterator",component:"Field",required:!0},{name:"return",component:"Field",required:!0}]}})}},{key:"_getProp",value:function(e,t){return(0,m.default)(e,t)}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a,o,i=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getProp(t,this.get("iterator")),a=(0,v.default)(t),o=new b.default(t),e.abrupt("return",(0,y.default)(n,(function(e){return a.item=e,o.setProps(a),o.fillAll(i.get("return"))})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p.default);t.default=_},753:function(e,t,n){"use strict";(function(e){var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(t){(0,c.default)(a,t);var n=p(a);function a(){var e;(0,i.default)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","LocalStorageStore"),e}return(0,l.default)(a,[{key:"_loadDocs",value:function(e){var t=this,n=this._localStorage.getItem(e);null!==n&&JSON.parse(n).forEach((function(e){t._docs.set(e.id,e)}))}},{key:"_getLocalStorage",value:function(){return this._global.window.localStorage}},{key:"_create",value:function(t){(0,s.default)((0,f.default)(a.prototype),"_create",this).call(this,t),this._global=e,this._localStorage=this._getLocalStorage(),this.set({schema:{component:"Form",fields:[{name:"storeName",component:"TextField",required:!0}]}}),this._loadDocs(t&&t.storeName)}},{key:"_saveDocs",value:function(){var e=this._docs.map((function(e){return e}));this._localStorage.setItem(this.get("storeName"),JSON.stringify(e))}},{key:"_doAndSave",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,this._saveDocs(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,s.default)((0,f.default)(a.prototype),"_createDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,s.default)((0,f.default)(a.prototype),"_updateDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,s.default)((0,f.default)(a.prototype),"_archiveDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,s.default)((0,f.default)(a.prototype),"_restoreDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(a(n(247)).default);t.default=m}).call(this,n(82))},754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"Login",component:"Form",fields:[{component:"EmailField",name:"username",label:"Email",required:!0,fullWidth:!0},{component:"PasswordField",name:"password",label:"Password",required:!0,fullWidth:!0},{component:"ButtonField",name:"submit",label:"Log In",type:"submit",icon:"PlayArrow"},{component:"ButtonField",name:"signUp",label:"Sign Up",icon:"CheckCircle"},{component:"ButtonField",name:"forgotPassword",label:"Password?",icon:"VpnKey"},{component:"ButtonField",name:"contact",label:"Contact",icon:"LiveHelp"}],listeners:[{event:"submit",actions:[{component:"LogInToAppAndRedirect"}]}]};t.default=a},755:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(16));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,u.default)(e),"_className","LogInToApp"),e}return(0,l.default)(n,[{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._globals.get("appId"),a=t.component.get("value"),e.prev=2,e.next=5,this._registrar.client.user.logInToApp({appId:n,username:a.username,password:a.password});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),t.component.getField("password").setErr("invalid email or password"),e.t0;case 11:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=p},756:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"LogInToAppAndRedirect",component:"Action",actions:[{component:"LogInToApp"},{component:"Action",if:{"globals.redirectAfterLogin":{$in:[null,void 0]}},actions:[{component:"Redirect",path:"/"}],else:[{component:"Redirect",path:"{{globals.redirectAfterLogin}}"},{component:"Set",name:"globals.redirectAfterLogin",value:null}]}]};t.default=a},757:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(16));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,u.default)(e),"_className","LogOutOfApp"),e}return(0,l.default)(n,[{key:"_logOutOfApp",value:function(){return this._registrar.client.user.logOutOfApp()}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._logOutOfApp();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=p},758:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(67)),h=a(n(61)),p=a(n(759));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","Menu"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"CollectionField",formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"path",component:"TextField",label:"Path",required:!0},{name:"label",component:"TextField",label:"Label",required:!0},{name:"content",component:"Field",label:"Content",required:!0},{name:"fullScreen",component:"BooleanField",label:"Full Screen"},{name:"roles",component:"RolesField",label:"Roles"},{name:"hidden",component:"BooleanField",label:"Hidden"}]}}}]}})}},{key:"_toRegExpPath",value:function(e){var t=[],n=e.replace(/:([^/])*/g,(function(e){return t.push(e.substr(1)),"([^\\/]*)"}));return{paramNames:t,regExpPath:new RegExp("^"+n+"$")}}},{key:"_indexItemByPath",value:function(e){var t=this,n={};e.path&&(n=this._toRegExpPath(e.path)),this._itemsByPath[e.path]=v(v({},e),n),e.items&&e.items.forEach((function(e){return t._indexItemByPath(e)}))}},{key:"_indexByPath",value:function(){var e=this;this._items.forEach((function(t){return e._indexItemByPath(t)}))}},{key:"_indexParentByPath",value:function(e,t){var n=this;this._parentsByPath[e.path]=t,e.items&&e.items.forEach((function(t){return n._indexParentByPath(t,e)}))}},{key:"_indexParentsByPath",value:function(){var e=this;this._items.forEach((function(t){return e._indexParentByPath(t)}))}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),void 0!==e.items&&(this._itemsByPath={},this._indexByPath(),this._parentsByPath={},this._indexParentsByPath())}},{key:"getItemAndParsePath",value:function(e){var t=null,n={};return(0,h.default)(this._itemsByPath,(function(a){if(a.path){var r=e.match(a.regExpPath);if(r)return t=a,a.paramNames.forEach((function(e,t){return n[e]=r[t+1]})),!1}})),{item:t,params:n}}},{key:"getItem",value:function(e){return this.getItemAndParsePath(e).item}},{key:"toRoute",value:function(e){var t=e.parameters,n=e.queryString,a=e.hash;return{parameters:t,query:p.default.parse(n),hash:a}}},{key:"getParent",value:function(e){return this._parentsByPath[e]}},{key:"getFirstItem",value:function(){return this._items[0]}}]),n}(f.default);t.default=b},762:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","MoneyField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e);var t=e.prefix,a=e.thousandsSeparatorSymbol,r=e.allowDecimal,o=e.decimalLimit;this.set({prefix:void 0!==t?t:"$",thousandsSeparatorSymbol:void 0!==a?a:",",allowDecimal:void 0===r||r,decimalLimit:void 0!==o?o:2})}}]),n}(a(n(151)).default);t.default=h},763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"CollectionField",label:"Options",forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"label",label:"Label",component:"TextField",required:!0,block:!1},{name:"value",label:"Value",component:"TextField",required:!0}]}}};t.default=a},764:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"TextFieldHiddenSchema",type:"password",minLength:8,maxLength:30,validators:[{where:{value:{$not:{$regex:"\\d"}}},error:"must contain a number"},{where:{value:{$not:{$regex:"[a-zA-Z]"}}},error:"must contain a letter"},{where:{value:{$regex:"[^a-zA-Z0-9\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\_\\+]"}},error:"contains an invalid character"}]};t.default=a},765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"CompositeField",schema:{component:"Form",fields:[{name:"label",docLevel:null}]},fields:[{name:"firstName",label:"First Name",component:"PersonNameField",block:!1},{name:"lastName",label:"Last Name",component:"PersonNameField"}]};t.default=a},766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"TextFieldHiddenSchema",maxLength:40};t.default=a},767:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(246)),h=a(n(245)),p=a(n(768));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=[/./,/./,/./,/./],y=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","PhoneField"),e}return(0,o.default)(n,[{key:"_stringToArrayMask",value:function(e){return(0,h.default)(e,(function(e){return"."===e?/\d/:e}))}},{key:"_getMask",value:function(e){if(e){var t=this.constructor.getCountriesByCode();if("+"!==e[0])return this.get("defaultMask");var n=t[e[1]];if(n||(n=t[[e[1],e[2]].join("")]),n||(n=t[[e[1],e[2],e[3]].join("")]),n)return this._stringToArrayMask(n.format)}return v}},{key:"_create",value:function(e){var t=this;(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"defaultMask",component:"TextField",label:"Default Mask",docLevel:"basic"}]}}),this._setDefaults(e,{mask:function(e){return t._getMask(e)},defaultMask:this._stringToArrayMask("(...) ...-....")})}},{key:"toConformedValue",value:function(e){return this._getMask(e)!==v?(0,l.default)((0,c.default)(n.prototype),"toConformedValue",this).call(this,e):e}},{key:"set",value:function(e){var t=Object.assign({},e);void 0!==t.defaultMask&&(t.defaultMask=this._formatMask(t.defaultMask)),void 0!==t.value&&(t.value=this.toConformedValue(t.value)),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,t)}},{key:"_conformsToMask",value:function(e,t){var n=!0;return t.forEach((function(t,a){t instanceof RegExp?t.test(e[a])||(n=!1):e[a]!==t&&(n=!1)})),n}},{key:"validate",value:function(){if((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.hasErr()&&!this.isBlank()){var e=this.getValue(),t=this._getMask(e);t!==v&&this._conformsToMask(e,t)||this.setErr("invalid")}}}],[{key:"getCountriesByCode",value:function(){if(!this.constructor._countriesByCode){this.constructor._countriesByCode={};var e=this.constructor._countriesByCode;p.default.allCountries.forEach((function(t){return e[t.dialCode]=t}))}return this.constructor._countriesByCode}}]),n}(f.default);t.default=y},769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"TextField",maxLength:15};t.default=a},770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"TextFieldHiddenSchema",maxLength:60};t.default=a},771:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ReCAPTCHAField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({name:"captcha",schema:{component:"Form",fields:[{name:"name",required:!1},{name:"label",docLevel:null}]}}),this._setDefaults(e,{required:!0})}}]),n}(a(n(52)).default);t.default=h},772:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","ReCAPTCHAVault"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"secretKey",component:"TextField",required:!0}]}})}}]),n}(a(n(343)).default);t.default=h},773:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"RecordEditor",component:"Form",schema:{component:"Form",fields:[{name:"baseForm",component:"Field",required:!0},{name:"label",component:"TextField"},{name:"store",component:"Field"},{name:"storeWhere",component:"WhereField"},{name:"preview",component:"BooleanField"},{name:"hideCancel",component:"BooleanField"}]},componentToWrap:"{{baseForm}}",fields:[{component:"ButtonField",name:"edit",label:"Edit",icon:"Edit",hidden:!0},{component:"ButtonField",type:"submit",name:"save",label:"Save",icon:"Save"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel",hidden:!0}],listeners:[{event:"load",actions:[{component:"Set",name:"isLoading",value:!0},{component:"Action",if:{storeWhere:{$ne:null}},actions:[{component:"GetDoc",store:"{{store}}",where:"{{storeWhere}}"},{component:"SetFromDoc",if:{arguments:{$ne:null}},name:"value",doc:"{{arguments}}"}]},{component:"Set",name:"pristine",value:!0},{if:{preview:{$ne:!1}},component:"Emit",event:"read"},{if:{preview:!1},component:"Emit",event:"edit"},{component:"Set",name:"isLoading",value:!1}]},{event:"read",actions:[{component:"Set",name:"mode",value:"read"},{component:"Set",name:"editable",value:!1},{component:"Set",name:"component",value:{"fields.save.hidden":!0,"fields.edit.hidden":!1,"fields.cancel.hidden":!0}},{component:"Emit",event:"didRead"}]},{event:"edit",actions:[{component:"Set",name:"mode",value:"update"},{component:"Set",name:"editable",value:!0},{component:"Set",name:"component",value:{"fields.save.hidden":!1,"fields.save.disabled":!0,"fields.edit.hidden":!0}},{if:{hideCancel:{$ne:!0}},component:"Set",name:"fields.cancel.hidden",value:!1},{component:"Emit",event:"didEdit"}]},{event:"canSubmit",actions:[{component:"Set",name:"fields.save.disabled",value:!1},{component:"Emit",event:"didCanSubmit"}]},{event:"cannotSubmit",actions:[{component:"Set",name:"fields.save.disabled",value:!0},{component:"Emit",event:"didCannotSubmit"}]},{event:"save",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Set",name:"pristine",value:!0},{component:"Snackbar",message:"{{label}} saved"},{if:{preview:{$ne:!1}},component:"Emit",event:"load"},{component:"Emit",event:"didSave"}]},{event:"cancel",actions:[{component:"Emit",event:"load"},{component:"Emit",event:"didCancel"}]},{event:"store.updateDoc",actions:[{component:"SetFromDoc",name:"value",doc:"{{arguments.value}}"},{component:"Set",name:"fields.save.disabled",value:!0}]}]};t.default=a},774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"RecordList",component:"Form",schema:{component:"Form",fields:[{name:"baseFormFactory",component:"Field",required:!0},{name:"label",component:"TextField",required:!0},{name:"store",component:"Field"}]},fields:[{name:"collection",label:"{{label}}",component:"CollectionField",hideLabel:!0,formFactory:{component:"Factory",product:"{{baseFormFactory}}"},store:"{{store}}"}]};t.default=a},775:function(e,t,n){"use strict";var a=n(317),r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(27)),i=r(n(29)),l=r(n(9)),u=r(n(12)),s=r(n(17)),c=r(n(18)),d=r(n(14)),f=r(n(15)),h=r(n(13)),p=r(n(16)),m=r(n(337)),v=r(n(68)),y=r(n(338)),b=r(n(39)),g=a(n(149));function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var F=function(e){(0,d.default)(n,e);var t=_(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,p.default)((0,s.default)(e),"_className","RecordStore"),e}return(0,u.default)(n,[{key:"_create",value:function(e){(0,c.default)((0,h.default)(n.prototype),"_create",this).call(this,e),this._uberUtils=y.default,this._registrar=b.default,this.set({schema:{component:"Form",fields:[{name:"storeName",component:"TextField",required:!0}]}})}},{key:"set",value:function(e){(0,c.default)((0,h.default)(n.prototype),"set",this).call(this,e),this._clearCache()}},{key:"_tryAndHandleError",value:function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_request",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,a=t.promiseFactory,r=this._globals.get("appId"),e.prev=2,e.next=5,a(r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),n?this._uberUtils.setFormErrorsFromAPIError(e.t0,n):this._uberUtils.displayError(e.t0.toString()),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l,u,s=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.form,a=t.fieldValues,r=t.order,i=t.reorder,this._clearCache(),!this._shouldSetToLastOrder(r,i)){e.next=8;break}return e.next=5,this._reorder({form:n});case 5:l=e.sent,r=l.lastOrder,a=Object.assign({},a,{order:r});case 8:return e.next=10,this._request({form:n,promiseFactory:function(e){return s._registrar.client.record.create({appId:e,componentName:s.get("storeName"),fieldValues:a,order:r})}});case 10:return u=e.sent,e.abrupt("return",u.data.createRecord);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_clearCache",value:function(){this._cachedQueries={}}},{key:"_inCache",value:function(e){return!!this._cachedQueries[JSON.stringify(e)]}},{key:"_addToCache",value:function(e){this._cachedQueries[JSON.stringify(e)]=!0}},{key:"_getShowArchivedWhere",value:function(e){return null===e?null:e?{archivedAt:{$ne:null}}:{archivedAt:null}}},{key:"_getAllDocs",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,l,u,s,c,d,f,h=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,a=t.where,r=t.showArchived,l=t.after,u=t.first,s=t.before,c=t.last,d=t.order,f=this._getShowArchivedWhere(r),a=v.default.combineWheres(f,a,this.get("where")),e.abrupt("return",this._request({form:n,promiseFactory:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={appId:t,componentName:h.get("storeName"),asArray:!0,where:a,after:l,first:u,before:s,last:c,order:d},h._inCache(n)||(h._addToCache(n),n.bypassCache=!0),e.next=4,h._registrar.client.record.getAll(n);case 4:return r=e.sent,e.abrupt("return",r.data.records);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_reorder",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l,u,s,c,d,f,h,p,m,v,y,b,_,F;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.form,a=t.id,r=t.order,i=!0,l={first:this.constructor.ITEMS_PER_PAGE_DEFAULT,order:[["order","asc"]],where:this.get("where")},u=[],s=function(e,t){e.id!==a&&u.push({id:e.id,order:t})},c=0,d=null;case 7:if(!i){e.next=16;break}return e.next=10,this.getAllDocs(l);case 10:for(f=e.sent,h=0;h<f.edges.length;h++)p=f.edges[h],m=g.default.reorderItem(p.node,a,r,c,d,s),c=m.i,d=m.destinationKey;l.after=f.pageInfo.endCursor,i=f.pageInfo.hasNextPage,e.next=7;break;case 16:if(!(u.length>0)){e.next=27;break}this._clearCache(),v=0;case 19:if(!(v<u.length)){e.next=27;break}return y=u[v],b=y.id,_=y.order,F={},e.next=24,this._requestUpdate({form:n,id:b,order:_,fieldValues:F});case 24:v++,e.next=19;break;case 27:return e.abrupt("return",{lastOrder:c});case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_requestUpdate",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,a=t.id,r=t.fieldValues,i=t.order,e.next=3,this._request({form:n,promiseFactory:function(e){return u._registrar.client.record.update({appId:e,componentName:u.get("storeName"),id:a,fieldValues:r,order:i})}});case 3:return l=e.sent,e.abrupt("return",l.data.updateRecord);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.form,a=t.id,r=t.fieldValues,i=t.order,!t.reorder){e.next=4;break}return e.next=4,this._reorder({form:n,id:a,order:i});case 4:return e.abrupt("return",this._requestUpdate({form:n,id:a,fieldValues:r,order:i}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,a=t.id,r=t.where,e.next=3,this._request({form:n,promiseFactory:function(e){return l._registrar.client.record.get({appId:e,componentName:l.get("storeName"),id:a,where:r})}});case 3:return i=e.sent,e.abrupt("return",i.data.record);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getDoc(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_upsertDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=!1,!n){e.next=15;break}return e.prev=3,e.next=6,this._getDoc({id:n});case 6:a=!0,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(3),"GraphQL error: record not found"!==e.t0.message){e.next=14;break}e.next=15;break;case 14:throw e.t0;case 15:if(!a){e.next=19;break}return e.abrupt("return",this.updateDoc(t));case 19:return e.abrupt("return",this.createDoc(t));case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,a=t.id,r=t.reorder,this._clearCache(),e.next=4,this._request({form:n,promiseFactory:function(e){return l._registrar.client.record.archive({appId:e,componentName:l.get("storeName"),id:a})}});case 4:return i=e.sent,r&&this._updateDoc({form:n,id:a,order:g.Reorder.DEFAULT_ORDER,reorder:!0,fieldValues:{}}),e.abrupt("return",i.data.archiveRecord);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,i.default)(o.default.mark((function e(t){var n,a,r,i,l,u,s=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,a=t.id,r=t.order,i=t.reorder,this._clearCache(),e.next=4,this._request({form:n,promiseFactory:function(e){return s._registrar.client.record.restore({appId:e,componentName:s.get("storeName"),id:a})}});case 4:if(l=e.sent,!this._shouldSetToLastOrder(r,i)){e.next=11;break}return e.next=8,this._reorder({form:n,id:a});case 8:return u=e.sent,e.next=11,this._updateDoc({form:n,id:a,fieldValues:{},order:u.lastOrder,reorder:!1});case 11:return e.abrupt("return",l.data.restoreRecord);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(m.default);t.default=F,(0,p.default)(F,"ITEMS_PER_PAGE_DEFAULT",50)},776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"RecoverPassword",component:"Form",schema:{component:"Form",fields:[{name:"action",component:"Field",label:"Action"}]},fields:[{name:"email",component:"EmailField",label:"Email",required:!0}],listeners:[{event:"createRecord",actions:[{component:"RequestPasswordReset"},"{{action}}"]}]};t.default=a},777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"RecoverPasswordEditor",component:"RecoverPassword",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"ButtonField",type:"submit",name:"reset",label:"Reset",icon:"LockOpen"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel"}],listeners:[{event:"reset",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Please expect an email shortly"},{component:"Redirect",path:"/"}]},{event:"cancel",actions:[{component:"Redirect",path:"/"}]}]};t.default=a},778:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Redirect"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"path",component:"TextField",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._globals.redirect(this.get("path"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},779:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16)),p=a(n(41)),m=a(n(61));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var y=function(e){(0,c.default)(n,e);var t=v(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","RedirectByRole"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"routes",component:"Field",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(){var t,n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.get("routes"),(0,m.default)(t,(function(e){if(!e.roles||n._registrar.client.user.hasRole(e.roles))return n._globals.redirect(e.path),!1}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(p.default);t.default=y},780:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(18)),l=a(n(14)),u=a(n(15)),s=a(n(13)),c=a(n(92)),d=a(n(68));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,l.default)(n,e);var t=f(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"set",value:function(e){var t=Object.assign({},e);void 0===t.value||t.value instanceof RegExp||(t.value=d.default.toRegExp(t.value)),(0,i.default)((0,s.default)(n.prototype),"set",this).call(this,t)}}]),n}(c.default);t.default=h},781:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","RequestPasswordReset"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this._setDefaults(e,{layer:"backEnd"})}},{key:"_requestReset",value:function(e){return this._registrar.resetPassword.requestReset(e)}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestReset({context:t.context,component:t.component}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},782:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","ResetPassword"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"token",component:"TextField"}]}}),this._setDefaults(e,{layer:"backEnd"})}},{key:"_reset",value:function(e){return this._registrar.resetPassword.resetPassword(e)}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._reset({context:t.context,component:t.component,token:this.get("token")}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"ResetPasswordEditor",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"TextField",name:"token",label:"Token",hidden:!0},{component:"PasswordField",name:"password",label:"New Password",required:!0},{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0},{component:"ButtonField",type:"submit",name:"reset",label:"Reset",icon:"Send"}],validators:[{where:{"fields.retypePassword.value":{$ne:"{{fields.password.value}}"}},error:{field:"retypePassword",error:"must match"}}],listeners:[{event:"createRecord",actions:[{component:"ResetPassword",token:"{{fields.token.value}}"}]},{event:"reset",actions:[{component:"Set",name:"fields.token.value",value:"{{globals.route.parameters.token}}"},{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Password updated"},{component:"Redirect",path:"/"}]}]};t.default=a},784:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(248)),h=a(n(303));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","RolesField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({invalidRegExp:"/^"+Object.keys(h.default.RESERVED).join("|")+"$/"})}}]),n}(f.default);t.default=m},785:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16));function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","SchemaValidatorForm"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"compiler",component:"Field",required:!0}]}})}},{key:"setValues",value:function(e){var t=this.get("compiler");t.newComponent({component:e.component}).buildSchemaForm(this,t),(0,l.default)((0,c.default)(n.prototype),"setValues",this).call(this,Object.assign({},e,{id:e.name}))}}]),n}(a(n(85)).default);t.default=h},786:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(115)),h=a(n(150));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","SelectListField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"OptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"ensureInList",component:"BooleanField"}]}}),this._setDefaults(e,{autoCreateFields:!0,canDeleteEmpty:!1,startWithField:!0,hideDeleteButton:!0})}},{key:"_onFieldCreated",value:function(e,t){var n=this;e.on("value",(function(a){a||n._isLastField(e)||t(),!n._isLastFieldBlank()&&n.canAddMoreFields(a)&&n._createNewField(),n._calcValue()}))}},{key:"_newField",value:function(e){return new h.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e,hideLabel:!0,required:!1},this.get(["blankString","block","fullWidth","options","useDisplayValue","editable"])))}},{key:"_createNewField",value:function(){this.createField().set({options:this.get("options")})}},{key:"set",value:function(e){(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,e),this._setForAllFields(e,["options","blankString","ensureInList"])}},{key:"_shouldRemoveField",value:function(e){return!this._isLastField(e)}},{key:"clone",value:function(){var e=(0,l.default)((0,c.default)(n.prototype),"clone",this).call(this);return e._clearFields(),e._createNewField(),e.setValue(this.getValue()),e}}]),n}(f.default);t.default=v},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"SetFromDoc",component:"Action",schema:{component:"Form",fields:[{name:"doc",component:"Field"}]},actions:[{component:"Set",name:"{{name}}",value:"{{action.doc.fieldValues}}"},{component:"Set",name:"{{name}}",value:{id:"{{action.doc.id}}",userId:"{{action.doc.userId}}",createdAt:"{{action.doc.createdAt}}",updatedAt:"{{action.doc.updatedAt}}",archivedAt:"{{action.doc.archivedAt}}"}}]};t.default=a},788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"SignupEditor",component:"RecordEditor",preview:!1,fields:[{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0,out:!1}],validators:[{where:{"fields.retypePassword.value":{$ne:"{{fields.password.value}}"}},error:{field:"retypePassword",error:"must match"}}],label:"Signup",hideCancel:!0,storeWhere:null,listeners:[{event:"create",actions:[{component:"Set",name:"component",value:{"fields.username.out":!0,"fields.password.hidden":!1,"fields.password.out":!0,"fields.password.block":!1,"fields.roles.hidden":!0,"fields.save.label":"Create Account","fields.save.icon":"CheckCircle"}}]},{event:"didSave",actions:[{component:"LogInToAppAndRedirect"}]}]};t.default=a},789:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","Snackbar"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"message",component:"TextField",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._globals.displaySnackbar(this.get("message"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={component:"SelectField",schema:{component:"Form",fields:[{name:"options",docLevel:null}]},options:[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}]};t.default=a},791:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(52)),h=a(n(152)),p=a(n(348));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","TimeField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"showSeconds",component:"BooleanField",label:"Show Seconds",docLevel:"basic"}]}})}},{key:"set",value:function(e){var t=Object.assign({},e);void 0!==t.value&&"number"!==typeof t.value&&(t.value=h.default.toEpochTime(t.value)),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,t)}},{key:"_toLocaleString",value:function(e){var t={};return this.get("showSeconds")||(t={hour:"2-digit",minute:"2-digit"}),e.toLocaleTimeString([],t)}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this._toLocaleString(new Date(this.getValue()))}},{key:"validate",value:function(){if((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue(),t=new Date(e);(0,p.default)(t)||this.setErr("invalid")}}}]),n}(f.default);t.default=v},792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"UpdatePasswordEditor",component:"RecordEditor",schema:{component:"Form",fields:[{name:"updatePasswordBaseForm",component:"Field",required:!0},{name:"baseForm",required:!1}]},preview:!1,label:"Password",storeWhere:{userId:"{{globals.session.user.id}}"},baseForm:{component:"UpdatePassword",componentToWrap:"{{updatePasswordBaseForm}}"},listeners:[{event:["didSave","cancel"],actions:[{component:"Set",name:"reset",value:!0}]}]};t.default=a},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"UpdatePassword",component:"Form",fields:[{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0}],validators:[{where:{"fields.retypePassword.value":{$ne:"{{fields.password.value}}"}},error:{field:"retypePassword",error:"must match"}}],listeners:[{event:"create",actions:[{component:"Set",name:"hidden",value:!0},{component:"Set",name:"component",value:{"fields.save.hidden":!1,"fields.cancel.hidden":!1}},{component:"Set",name:"out",value:!1},{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.out":!0,"fields.password.required":!0,"fields.retypePassword.hidden":!1}}]}]};t.default=a},794:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","UpsertDoc"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"form",component:"Field"}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.get("form"),e.abrupt("return",this.get("store").upsertDoc({form:n||t.component}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},795:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(331)),o=a(n(9)),i=a(n(12)),l=a(n(17)),u=a(n(18)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(16));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;(0,o.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,l.default)(e),"_className","URLField"),e}return(0,i.default)(n,[{key:"_create",value:function(e){(0,u.default)((0,d.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[].concat((0,r.default)(this.getHiddenFieldDefinitions(["minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])),[{name:"newWindow",component:"BooleanField"}])}})}}]),n}(a(n(92)).default);t.default=p},796:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(85)),h=a(n(342));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","User"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e);var t=[new h.default({definition:{component:"EmailField",name:"username",label:"Email",required:!0}}),new h.default({definition:{component:"PasswordField",name:"password",label:"Password",in:!1,out:!1,hidden:!0,forbidSort:!0}})];this.set({schema:{component:"Form",fields:[{name:"roles",component:"RolesField"}]},access:{form:{create:"admin",read:"admin",update:"admin",archive:"admin"}},fields:t})}}]),n}(f.default);t.default=m},797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"UserList",component:"CollectionField",schema:{component:"Form",fields:[{name:"baseFormFactory",component:"Field",required:!0},{name:"formFactory",required:!1}]},hideLabel:!0,formFactory:{component:"Factory",product:"{{baseFormFactory}}",properties:{fields:[{component:"ButtonField",name:"setPassword",label:"Set Password",hidden:!0,icon:"VpnKey"}],listeners:[{event:"didLoad",actions:[{component:"Set",name:"snapshot",value:"take"}]},{event:"beginCreate",actions:[{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.required":!0,"fields.password.out":!0}}]},{event:"endCreate",actions:[{component:"Set",name:"snapshot",value:"restore"}]},{event:"beginRead",actions:[{component:"Set",name:"fields.setPassword.hidden",value:!1}]},{event:"endRead",actions:[{component:"Set",name:"fields.setPassword.hidden",value:!0}]},{event:"endUpdate",actions:[{component:"Set",name:"snapshot",value:"restore"}]},{event:"setPassword",actions:[{component:"Set",name:"out",value:!1},{component:"Set",name:"hidden",value:!0},{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.required":!0,"fields.password.out":!0,"fields.password.value":null}},{component:"Set",name:"pristine",value:!0},{component:"Set",name:"parent.mode",value:"update"}]}],access:{fields:{setPassword:{read:"admin"}}}}}};t.default=a},798:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(189)),h=a(n(68));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","UUIDField"),e}return(0,o.default)(n,[{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this._setDefaults(e,{value:h.default.uuid()})}}]),n}(f.default);t.default=m},799:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(14)),i=a(n(15)),l=a(n(13));function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,i.default)(this,n)}}var s=function(e){(0,o.default)(n,e);var t=u(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).name="MissingComponentError",e}return n}((0,a(n(239)).default)(Error));t.default=s},802:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(29)),i=a(n(9)),l=a(n(12)),u=a(n(17)),s=a(n(18)),c=a(n(14)),d=a(n(15)),f=a(n(13)),h=a(n(16));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,u.default)(e),"_className","JSONStringify"),e}return(0,l.default)(n,[{key:"_create",value:function(e){(0,s.default)((0,f.default)(n.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"value",component:"Field"},{name:"space",component:"IntegerField"}]}})}},{key:"act",value:function(){var e=(0,o.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.get("value"),a=void 0===n?t.arguments:n,e.abrupt("return",JSON.stringify(a,null,this.get("space")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a(n(41)).default);t.default=m},803:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"App",(function(){return zn})),n.d(a,"Contacts",(function(){return Xn})),n.d(a,"ContactsLocalStorage",(function(){return Qn})),n.d(a,"ContactsFirebase",(function(){return ea})),n.d(a,"EditContact",(function(){return ta})),n.d(a,"FieldsScreen",(function(){return na})),n.d(a,"Fields",(function(){return ra})),n.d(a,"FormBuilder",(function(){return oa})),n.d(a,"GenerateComponent",(function(){return ia})),n.d(a,"Grid",(function(){return la})),n.d(a,"Home",(function(){return ua})),n.d(a,"Tasks",(function(){return sa})),n.d(a,"TasksLocalStorage",(function(){return ca})),n.d(a,"TasksFirebase",(function(){return da})),n.d(a,"Router",(function(){return fa}));var r=n(51),o=n.n(r),i=n(80),l=n(0),u=n.n(l),s=n(25),c=n.n(s),d=n(8),f=n(7),h=n(11),p=n(10),m=n(119),v=n(26),y=n.n(v),b=n(870),g=n(878),_=n(864),F=n(74),k=n(365),w=n(852),O=n(349),E=n.n(O),S=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return Object(f.a)(n,[{key:"toFontIconName",value:function(e){return E()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,a=e.role,r=n?this.toFontIconName(n):null;return u.a.createElement(w.a,{className:t,onClick:this.handleClick,"aria-hidden":this.props["aria-hidden"],"aria-label":this.props["aria-label"],role:a},r)}}]),n}(u.a.PureComponent),C=n(53),x=n(880),P=n(876),D=n(858),R=n(856),A=n(808),j=n(854),T=n(855),I=n(121),L=n.n(I),N=n(39),M=n.n(N),B=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.items?a.setState({open:!a.state.open}):(a.props.onNavigate&&a.props.onNavigate(e),a.props.onDrawerToggle&&a.props.onDrawerToggle())},a.state={open:a.childSelected()},a}return Object(f.a)(n,[{key:"childSelected",value:function(){var e=this.props,t=e.item,n=e.path,a=!1;return L()(t.items,(function(e){if(n===e.path)return a=!0,!1})),a}},{key:"items",value:function(){var e=this,t=this.props,n=t.classes,a=t.item,r=t.path,o=[];return a.items.forEach((function(t,a){var i=r===t.path,l=[n.secondary];i&&l.push(n.selected),(!t.roles||M.a.client&&M.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&o.push(u.a.createElement(A.a,{button:!0,className:n.nested,key:a,onClick:function(){return e.handleClick(t)}},u.a.createElement(j.a,{disableTypography:!0,primary:u.a.createElement(F.a,{variant:"body2",className:l.join(" ")},t.label)})))})),o}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.classes,r=t.path,o=n.items?this.items():null,i=r===n.path,l=[a.primary];i&&l.push(a.selected);var s=null;return o&&(s=u.a.createElement(T.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},u.a.createElement(R.a,{disablePadding:!0},this.items()))),u.a.createElement("div",null,u.a.createElement(A.a,{button:!0,onClick:function(){return e.handleClick(n)}},u.a.createElement(j.a,{disableTypography:!0,primary:u.a.createElement(F.a,{variant:"subtitle1",className:l.join(" ")},n.label)}),o?this.state.open?u.a.createElement(S,{icon:"ExpandLess"}):u.a.createElement(S,{icon:"ExpandMore"}):null),s)}}]),n}(u.a.PureComponent),V=y()((function(e){return{nested:{paddingLeft:e.spacing(4)},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}}))(B),U=n(350),W=n.n(U),q=function(e,t){return function(n){return function(a){Object(h.a)(o,a);var r=Object(p.a)(o);function o(n){var a;return Object(d.a)(this,o),(a=r.call(this,n)).wasMounted=!1,a.getComponent=function(e){return e||(e=a.props),t?"string"===typeof t?e[t]:t:e.component},a.handleFieldChange=function(e,t){-1!==a.watchProps.indexOf(e)&&a.wasMounted&&a.setState({[e]:t})},a.watchProps=W()(e,Object.keys(a.props)),a.hasComponent()&&(a.state=a.getComponent().get(a.watchProps)),a}return Object(f.a)(o,[{key:"hasComponent",value:function(){return!!this.getComponent()}}]),Object(f.a)(o,[{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.hasComponent()&&this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.hasComponent()&&this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){if(this.hasComponent()){var e=this.getComponent().get(this.watchProps);this.setState(e)}}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return u.a.createElement(n,Object.assign({},this.state,this.props))}}]),o}(u.a.PureComponent)}},G=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDrawerToggle=function(){e.props.onDrawerToggle&&e.props.onDrawerToggle()},e.handleNavigate=function(t){e.props.onNavigate&&e.props.onNavigate(t)},e}return Object(f.a)(n,[{key:"items",value:function(){var e=this,t=this.props,n=t.component,a=t.path,r=n.get("items"),o=[];return r.forEach((function(t,n){(!t.roles||M.a.client&&M.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&o.push(u.a.createElement(V,{item:t,key:n,onNavigate:e.handleNavigate,path:a,onDrawerToggle:e.handleDrawerToggle}))})),o}},{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.theme,r=t.mobileOpen,o=t.responsive;e=this.items();var i=u.a.createElement("div",null,u.a.createElement("div",{className:n.drawerHeader},u.a.createElement(F.a,{variant:"h4"},"Logo")),u.a.createElement(D.a,null),e),l=u.a.createElement(x.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:r,classes:{paper:n.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0}},i),s=u.a.createElement(x.a,{variant:"permanent",open:!0,classes:{paper:n.drawerPaper+(o?" ".concat(n.drawPaperResponsive):"")}},i);return o?u.a.createElement("div",null,u.a.createElement(P.a,{mdUp:!0},l),u.a.createElement(P.a,{smDown:!0,implementation:"css"},s)):l}}]),n}(u.a.PureComponent);G=y()((function(e){return{drawerHeader:Object(C.a)(Object(C.a)({},e.mixins.toolbar),{},{paddingLeft:e.spacing(3),paddingTop:e.spacing(1)}),drawerPaper:{width:250},drawPaperResponsive:{[e.breakpoints.up("md")]:{width:240,position:"fixed",height:"100vh"}}}}),{withTheme:!0})(G);var K=G=q(["items"])(G),H=n(860),z=n(127),$=n.n(z),Y=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={autoFullWidth:!1},e.handleKeyUp=function(t){13===t.keyCode&&e.props.onSearch(e.props.searchString)},e.handleClearSearch=function(t){e.props.onSearch("")},e.handleFocus=function(){e.setState({autoFullWidth:!0})},e.handleBlur=function(){e.setState({autoFullWidth:!1})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.searchString,r=e.onChange,o=e.fullWidth,i=this.state.autoFullWidth,l=o||i;return u.a.createElement("div",{className:$()(n,l?t.grow:null)},u.a.createElement(H.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:a,onKeyUp:this.handleKeyUp,onChange:function(e){return r(e.target.value)},className:t.textField,onFocus:this.handleFocus,onBlur:this.handleBlur}),u.a.createElement("div",{className:t.iconContainer},u.a.createElement(S,{icon:"Search",className:t.searchIcon}),u.a.createElement(k.a,{color:"inherit","aria-label":"clear search",onClick:this.handleClearSearch,className:t.closeIcon},u.a.createElement(S,{icon:"Close"}))))}}]),n}(u.a.PureComponent),J=Y=y()((function(e){return{textField:{width:"100%"},textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 34px 10px 34px",marginTop:"2px",width:"calc(100%)",color:e.palette.common.white},iconContainer:{position:"relative",width:"100%",height:"0px"},searchIcon:{position:"absolute",top:"-31px",left:"6px"},closeIcon:{position:"absolute",top:"-43px",right:"-5px"},grow:{flexGrow:1}}}))(Y),Z=n(38),X=n(97),Q=n(361),ee=function(e){var t=e.onClick,n=e.icon,a=e.tooltip,r=Object(l.useState)(!1),o=Object(Q.a)(r,2),i=o[0],s=o[1],c=u.a.createElement(k.a,{onClick:t,onMouseEnter:function(){return s(!0)},"aria-label":e["aria-label"]},u.a.createElement(S,{icon:n}));return i&&a?u.a.createElement(g.a,{title:a},c):c},te=n(203),ne=n(66),ae=Object(ne.a)((function(e){return{leftIcon:{marginRight:e.spacing(1)},marginTop:{marginTop:e.spacing(3)}}})),re=function(e){var t=ae(),n=e.type,a=e.disabled,r=e.label,o=e.icon,i=e.fullWidth,l=e.variant,s=e.marginTop,c=e.onClick,d=!1!==s?t.marginTop:null;return u.a.createElement(te.a,{className:d,type:n,color:"primary",disabled:a,onClick:function(){return function(e){e&&e()}(c)},fullWidth:i,variant:l},o?u.a.createElement(S,{className:t.leftIcon,icon:o}):null,r)},oe=function(e){var t=e.type,n=e.disabled,a=e.label,r=e.icon,o=e.fullWidth,i=e.variant,l=e.marginTop,s=e.onClick,c=e.tooltip;return a||!r?u.a.createElement(re,{type:t,disabled:n,label:a,icon:r,fullWidth:o,variant:i,marginTop:l,onClick:s}):u.a.createElement(ee,{onClick:s,icon:r,tooltip:c})},ie=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){"submit"!==e.props.type&&e.props.component.emitClick()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type,a=e.disabled,r=e.icon,o=e.fullWidth,i=e.variant,l=e.tooltip;return u.a.createElement(oe,{type:n,label:t,disabled:a,onClick:this.handleClick,icon:r,fullWidth:o,variant:i,tooltip:l})}}]),n}(u.a.PureComponent),le=q(["label","type","disabled","icon","fullWidth","variant","tooltip"])(ie),ue=n(862),se=n(814),ce=n(818),de=n(813),fe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,n=e.children,a=e.classes,r=e.marginBottom,o=t?a.fullWidth:"",i=!1===r?a.noMarginBottom:"";return u.a.createElement(de.a,{fullWidth:t,className:"".concat(a.formControl," ").concat(o," ").concat(i)},n)}}]),n}(u.a.PureComponent),he=y()((function(e){return{formControl:{margin:e.spacing(1)},fullWidth:{width:"calc(100% - ".concat(e.spacing(2),"px)")},noMarginBottom:{marginBottom:0}}}))(fe),pe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.help;return u.a.createElement(g.a,{disableTouchListener:!0,title:e},u.a.createElement(k.a,{"aria-label":"Help"},u.a.createElement(S,{icon:"HelpOutline"})))}}]),n}(u.a.PureComponent),me=n(815),ve=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.shrink,r=Object.assign({},this.props,{shrink:void 0,classes:void 0}),o=a?n.shrink:n.noShrink;return u.a.createElement(me.a,Object.assign({},r,{className:o}),t)}}]),n}(u.a.PureComponent),ye=y()((function(e){return{shrink:Object(C.a)({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:Object(C.a)({},Object.assign({},e.typography.subtitle1,{color:void 0}))}}))(ve),be=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.component,a=t.children,r=t.label,o=t.required,i=t.fullWidth,l=t.err,s=t.editable,c=t.touched,d=t.help,f=t.hideLabelUI,h=t.hideLabel,p=t.useDisplayValue,m=t.shrinkLabel,v=t.inlineLabel,y=t.marginBottom,b=t.autoHideLabel,g=null,_=n.isBlank(),F=n.getUniqueId();if(!f&&!h&&(!b||r))if(!s||p||v){var k=r||"\xa0";g=u.a.createElement(ye,{id:"label-".concat(F),htmlFor:F,error:!(!c||!l),required:o&&!p&&s,shrink:p||!s||m},k),v||(g=u.a.createElement("div",null,g))}else g=u.a.createElement(se.a,{htmlFor:F,error:!(!c||!l),required:r&&o,shrink:m},r);var w=n.getFirstErr();return e=u.a.createElement("span",null,g,a,d&&s?u.a.createElement(pe,{help:d}):"",c&&l?u.a.createElement(ce.a,{error:!0},w):null),s||!_?u.a.createElement(he,{fullWidth:i,marginBottom:y},e):null}}]),n}(u.a.PureComponent),ge=be=q(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(be),_e=n(861),Fe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.id;return u.a.createElement(F.a,{variant:"subtitle1",component:"span",className:n.root,id:a,"aria-label":this.props["aria-label"]},t)}}]),n}(u.a.PureComponent),ke=y()((function(e){return{root:{display:"inline-block"}}}))(Fe),we=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.component.setValue(t.target.checked)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,a=e.component,r=e.editable,o=e.useDisplayValue,i=e.label,l=null,s=null;return r&&!o?(l=!0,s=u.a.createElement(_e.a,{control:u.a.createElement(ue.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:n}),label:i})):s=u.a.createElement(ke,null,a.getDisplayValue()),u.a.createElement(ge,{component:a,hideLabelUI:l},s)}}]),n}(u.a.PureComponent),Oe=q(["value","err","disabled","editable","useDisplayValue","label"])(we),Ee=n(204),Se=n(157),Ce=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=n.get("content"),r=n.get("title");return u.a.createElement(Ee.a,{container:!0,spacing:0,justify:"center"},u.a.createElement(Ee.a,{item:!0,xs:12,sm:9,md:6,lg:6},u.a.createElement(Se.a,{className:t.paper},u.a.createElement(Ee.a,{container:!0,wrap:"nowrap"},u.a.createElement(Ee.a,{item:!0,className:t.content},u.a.createElement(F.a,{variant:"h5",component:"h2"},r),u.a.createElement(bn,{component:a}))))))}}]),n}(u.a.PureComponent),xe=y()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1}}}))(Ce),Pe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.classes;return u.a.createElement("div",{className:n.root},u.a.createElement(bn,{component:t}))}}]),n}(u.a.PureComponent);Pe=y()((function(e){return{root:{marginLeft:e.spacing(1)}}}))(Pe);var De=Pe=q(["content"])(Pe),Re=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.classes;return u.a.createElement("div",{className:e.break})}}]),n}(u.a.PureComponent),Ae=y()((function(e){return{break:{width:"100%"}}}))(Re),je=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"getIfDefined",value:function(e){var t={};return L()(e,(function(e,n){void 0!==e&&(t[n]=e)})),t}}]),e}()),Te=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hidden,a=e.block,r=e.accessEditable,o=e.didCreate,i=e.noBlock,l=e.disabled;if(n||!o)return null;if("Field"===t.getClassName())return null;var s=mn.getUIComponent(t);return u.a.createElement(u.a.Fragment,null,u.a.createElement(s,Object.assign({component:t,accessEditable:r,block:a},je.getIfDefined({disabled:l}))),!i&&a?u.a.createElement(Ae,null):null)}}]),n}(u.a.PureComponent),Ie=q(["hidden","block","didCreate"])(Te),Le=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.help,a=e.editable,r=e.useDisplayValue,o=e.block,i=e.disabled,l=[],s=!1,c=!0;return t.eachField((function(e,t,n){!c&&r&&e.isBlank()||(n&&e.get("block")&&(s=!0),l.push(u.a.createElement(Ie,{component:e,key:t,noBlock:n,disabled:i}))),c&&(c=!1)})),n&&a&&l.push(u.a.createElement(pe,{help:n,key:"help"})),s&&!1!==o&&l.push(u.a.createElement(Ae,{key:"break"})),l}}]),n}(u.a.PureComponent),Ne=q(["change","help","editable","useDisplayValue"])(Le),Me=n(863),Be=n(865),Ve=n(35),Ue=n(199),We=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,r=e.includeTime,o=e.editable,i=e.useDisplayValue,l=e.minDate,s=e.maxDate,c=e.fullWidth,d=e.disabled,f=!1===e.accessEditable||d,h=!1,p=r?Me.a:Be.a,m=null;return o&&!i?(h=!!a,m=u.a.createElement(Ve.a,{utils:Ue.a},u.a.createElement("span",null,u.a.createElement(p,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,minDate:l,maxDate:s,onClose:this.handleBlur,fullWidth:c,disabled:f,id:t.getUniqueId()})))):m=u.a.createElement(ke,null,t.getDisplayValue()),u.a.createElement(ge,{component:t,shrinkLabel:h},m)}}]),n}(u.a.PureComponent);We=y()((function(e){return{root:{marginTop:e.spacing(2)}}}))(We);var qe=q(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled"])(We),Ge=n(71),Ke=n.n(Ge),He=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;if(Object(d.a)(this,n),(a=t.call(this,e)).state={fieldsCanAccess:null},a.handleSave=function(e){e.preventDefault();var t=a.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},a.turnOnAutoValidate(),e.access){var r=a.calcFieldsCanAccess();a.state.fieldsCanAccess=r}return a}return Object(f.a)(n,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e,t=this.props,n=t.component,a=t.mode,r=Ke.a.fieldsCanAccess(a||"update",n,null,!0),o=Object(m.a)(n.getFields());try{for(o.s();!(e=o.n()).done;){var i=e.value,l=void 0===r[i.get("name")];i.set({ignoreErrs:l})}}catch(u){o.e(u)}finally{o.f()}return r}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}}]),Object(f.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.component,r=n.access,o=n.mode;e.component!==a&&this.turnOnAutoValidate(),e.access===r&&e.mode===o&&e.component===a&&e.value===this.props.value||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.formTag,a=e.isLoading,r=e.disabled,o=this.state.fieldsCanAccess,i=t.get("fields");if(a)return null;var l=t.getKey(),s=i.map((function(e,t){if(null===o||void 0!==o[e.get("name")]){var n=null;return null!==o&&"read"===o[e.get("name")]&&(n=!1),u.a.createElement(Ie,{key:l+"_"+t,component:e,accessEditable:n,disabled:r})}return null}));return!1!==n?u.a.createElement("form",{onSubmit:this.handleSave},s):s}}]),n}(u.a.PureComponent),ze=q(["access","mode","isLoading","change","value"])(He),$e=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,r=e.disabled,o=t.isBlank(),i=t.get("form");return u.a.createElement("span",null,!n&&u.a.createElement(ge,{component:t,inlineLabel:"true",shrinkLabel:!o,marginBottom:!1}),u.a.createElement(Ae,null),u.a.createElement("span",{className:a.root},u.a.createElement(bn,{component:i,formTag:!1,disabled:r})))}}]),n}(u.a.PureComponent);$e=y()((function(e){return{root:{marginLeft:e.spacing(2),display:"flex",flexFlow:"wrap"}}}))($e);var Ye=q(["hideLabel","value"])($e),Je=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.props.items.map((function(e,t){return u.a.createElement(bn,{component:e,key:t})})))}}]),n}(u.a.PureComponent),Ze=q(["items"])(Je),Xe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hidden,n=e.content,a=e.xl,r=e.lg,o=e.md,i=e.sm,l=e.xs;return t?null:u.a.createElement(Ee.a,{item:!0,xl:a,lg:r,md:o,sm:i,xs:l},u.a.createElement(bn,{component:n}))}}]),n}(u.a.PureComponent),Qe=q(["hidden","content","xl","lg","md","sm","xs"])(Xe),et=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return u.a.createElement(Ee.a,{container:!0},this.props.items.map((function(e,t){return u.a.createElement(Qe,{component:e,key:t})})))}}]),n}(u.a.PureComponent),tt=q(["items"])(et),nt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.editable,r=e.disabled,o=e.archivedAt,i=e.onEdit,l=e.onDelete,s=e.id,c=null;t||(c=u.a.createElement(ee,{onClick:i,icon:"Edit",tooltip:"Edit","aria-label":"Edit ".concat(s)}));var d=null;if(!n){var f=o?"Restore":"Delete";d=u.a.createElement(ee,{onClick:l,icon:f,tooltip:f,"aria-label":"Delete ".concat(s)})}return!a||r||t&&n?null:u.a.createElement(Ee.a,{item:!0},c,d)}}]),n}(u.a.PureComponent),at=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){e.props.onClick&&e.props.onClick(t,e.props.component)},e.handleEdit=function(t,n){e.props.onEdit&&e.props.onEdit(t,e.props.component)},e.handleDelete=function(t){e.props.onDelete&&e.props.onDelete(e.props.component)},e}return Object(f.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.classes,r=n.component,o=n.forbidUpdate,i=n.forbidDelete,l=n.editable,s=n.disabled,c=n.value,d=n.buttons,f=n.id;return e=d?u.a.createElement(bn,{component:d}):u.a.createElement(nt,{forbidUpdate:o,forbidDelete:i,editable:l,disabled:s,archivedAt:c.archivedAt,onEdit:function(e){return t.handleEdit(e)},onDelete:function(e){return t.handleDelete(e)},id:f}),u.a.createElement("div",null,u.a.createElement(Se.a,{className:a.paper},u.a.createElement(Ee.a,{container:!0,wrap:"nowrap"},u.a.createElement(Ee.a,{item:!0,className:a.content,onClick:function(e){return t.handleClick(e)},role:"button","aria-label":this.props["aria-label"],id:f},u.a.createElement(bn,{component:r,formTag:!1,mode:"read"})),e)))}}]),n}(u.a.PureComponent);at=y()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1,cursor:"pointer"}}}))(at);var rt=q(["value"])(at),ot=n(819),it=n(821),lt=n(866),ut=n(820),st=n(50),ct=n.n(st),dt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={saveClicked:!1,previousMode:null},e.handleClose=function(t){var n=e.props,a=n.mode,r=n.onClose,o=n.onCancel,i=n.currentForm;(t||"update"!==a)&&("update"===a?o&&o(i):r&&r(i))},e.handleEdit=function(){e.props.onEdit&&e.props.onEdit(e.props.currentForm)},e.handleSave=function(t){t.preventDefault(),e.props.disableSubmit||(e.props.onSave&&e.props.onSave(),e.setState({saveClicked:!0}))},e.handleDelete=function(){e.props.onDelete&&e.props.onDelete(e.props.currentForm)},e}return Object(f.a)(n,[{key:"isOpen",value:function(){var e=this.props.mode;return e!==ct.a.MODES.DELETE&&e!==ct.a.MODES.RESTORE&&!!e}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.mode,a=t.component,r=t.forbidUpdate,o=t.forbidDelete,i=t.value,l=t.fullScreen,s=this.state,c=s.saveClicked,d=s.previousMode,f=a.hasErrorForTouchedField()||!a.get("dirty")||c,h=this.isOpen(),p=null;return"update"===n||"create"===n||null===n&&("update"===d||"create"===d)?p=u.a.createElement("div",null,u.a.createElement(oe,{type:"submit",label:"Save",icon:"Save",disabled:f}),u.a.createElement(oe,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})):r&&o||(p=u.a.createElement("div",null,r?"":u.a.createElement(oe,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),o?"":u.a.createElement(oe,{label:i.archivedAt?"Restore":"Delete",icon:i.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),u.a.createElement(oe,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}}))),u.a.createElement(ot.a,{fullScreen:l,open:h,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title"},u.a.createElement("form",{onSubmit:this.handleSave},u.a.createElement(ut.a,null,u.a.createElement(bn,{component:a,formTag:!1,mode:n})),p?u.a.createElement(it.a,null,p):""))}}]),n}(u.a.PureComponent);dt=Object(lt.a)()(dt);var ft=dt=q(["err","dirty","value","mode","disableSubmit"])(dt),ht=n(868),pt=n(867),mt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClose=function(t){e.props.onClose&&e.props.onClose(t)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.text,r=t.open,o=t.alert;return u.a.createElement("div",null,u.a.createElement(ot.a,{open:r,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.a.createElement(pt.a,{id:"alert-dialog-title"},n||""),u.a.createElement(ut.a,null,u.a.createElement(ht.a,{id:"alert-dialog-description"},a)),u.a.createElement(it.a,null,o?null:u.a.createElement(te.a,{onClick:function(){return e.handleClose(!1)},color:"primary"},"No"),u.a.createElement(te.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0},o?"OK":"Yes"))))}}]),n}(u.a.PureComponent),vt=(n(621),n(869)),yt=n(823),bt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t="ASC"===e.props.sortOrder?"DESC":"ASC";e.props.onChange({sortOrder:t})},e.handleChange=function(t){e.props.onChange({sortBy:t.target.value})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.sortBy,a="DESC"!==e.sortOrder,r=e.options.map((function(e){return u.a.createElement(vt.a,{value:e.value,key:e.value},e.label)}));return u.a.createElement("div",null,u.a.createElement(de.a,{className:t.formControl},u.a.createElement(yt.a,{value:n,onChange:this.handleChange},u.a.createElement(vt.a,{value:""},u.a.createElement("em",null,"None")),r)),u.a.createElement(k.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick},u.a.createElement(S,{icon:"Sort",className:a?t.flip:null})))}}]),n}(u.a.PureComponent),gt=y()((function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}}))(bt),_t=n(155),Ft=n.n(_t),kt=n(201),wt=function(e,t,n){return Object(C.a)({userSelect:"none",padding:n.spacing(.125),margin:"0 0 ".concat(n.spacing(.125),"px 0"),background:e?n.palette.secondary[400]:void 0},t)},Ot=function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}},Et=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={sortBy:"",sortOrder:"ASC"},e.handleClose=function(){e.props.component.set({mode:null})},e.handleCancel=function(t){var n=e.props,a=n.component,r=n.preventReadAction;a.get("skipRead")||r?a.set({mode:null}):a.set({currentForm:t,mode:ct.a.MODES.READ})},e.handleClick=function(t){var n=e.props.component;n.get("skipRead")?n.set({currentForm:t,mode:ct.a.MODES.UPDATE}):n.set({currentForm:t,mode:ct.a.MODES.READ})},e.handleEdit=function(t){e.props.component.set({currentForm:t,mode:ct.a.MODES.UPDATE})},e.handleNew=function(){e.props.component.set({currentForm:null,mode:ct.a.MODES.CREATE})},e.handleSave=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.component.save();case 2:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var t=Object(i.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.component,r=n||a.get("form"),r.getValue("archivedAt")?a.set({currentForm:r,mode:ct.a.MODES.RESTORE}):n&&a.set({currentForm:n,mode:ct.a.MODES.DELETE});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleConfirmationClose=function(){var t=Object(i.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.component,!n){t.next=4;break}return t.next=4,a.archive(a.get("form"));case 4:a.set({mode:null});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleOrdering=function(t){e.setState(t,(function(){e.props.component.set({order:e.state.sortBy?[[e.state.sortBy,e.state.sortOrder]]:null})}))},e.onDragEnd=function(t){t.destination&&t.destination.index!==t.source.index&&e.props.component.moveAndSaveForm({sourceIndex:t.source.index,destinationIndex:t.destination.index})},e}return Object(f.a)(n,[{key:"canCreate",value:function(){return Ke.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return Ke.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return Ke.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,n=e.showArchived,a=e.searchString,r=e.order;return!t&&!n&&!a&&!r}},{key:"cards",value:function(e,t){var n,a=this,r=this.props,o=r.component,i=r.forbidUpdate,l=r.forbidDelete,s=r.forbidOrder,c=r.editable,d=r.disabled,f=r.useDisplayValue,h=r.theme,p=12/(!1===s?1:this.props.maxColumns),v=[],y=0,b=Object(m.a)(o.getForms());try{var g=function(){var r=n.value;r.setEditable(!1);var s=r.getUniqueId(),m=o.getUniqueItemId(o._getFormKey(r)),b=o.getFormExtras(r),g=u.a.createElement(Ee.a,{item:!0,xs:12,sm:p,lg:p,key:s,id:m},u.a.createElement(rt,{onClick:function(){return a.handleClick(r)},onEdit:function(){return a.handleEdit(r)},onDelete:a.handleDelete,component:r,forbidUpdate:i||!e||f,forbidDelete:l||!t||f,editable:c,disabled:d,buttons:null===b||void 0===b?void 0:b.buttons,id:m,"aria-label":"View ".concat(m)}));a.canDrag()?v.push(u.a.createElement(kt.b,{key:m,draggableId:m,index:y++},(function(e,t){return u.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:wt(t.isDragging,e.draggableProps.style,h),"aria-label":"Drag ".concat(m)}),g)}))):v.push(g)};for(b.s();!(n=b.n()).done;)g()}catch(_){b.e(_)}finally{b.f()}return v}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),n=Ke.a.fieldsCanAccess("read",t),a=[];return t.eachField((function(e){var r=e.get("name");void 0===n[r]||e.get("forbidSort")||e.get("hidden")||e instanceof Ft.a||a.push({value:(t.isDefaultField(r)?"":"fieldValues.")+r,label:e.get("label")})})),a}}},{key:"header",value:function(e){var t=this.props,n=t.forbidCreate,a=t.editable,r=t.disabled,o=t.component,i=t.forbidSort,l=t.store,s=t.useDisplayValue,c=this.state,d=c.sortBy,f=c.sortOrder,h=o.getSingularLabel(),p=o.reachedMax(),m=this.canCreate(),v=a&&!r&&!s&&!n&&!p&&m,y=!i,b=this.sortOptions(),g=e>0&&!!l;return u.a.createElement(Ee.a,{container:!0,spacing:0},u.a.createElement(Ee.a,{item:!0,xs:12,sm:6,lg:6},v?u.a.createElement(oe,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+h,marginTop:!1}):null),u.a.createElement(Ee.a,{item:!0,xs:12,sm:6,lg:6,align:"right"},g&&y?u.a.createElement(gt,{onChange:this.handleOrdering,sortBy:d,sortOrder:f,options:b}):null))}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.component,r=e.spacerHeight,o=e.classes,i=e.isLoading,l=e.form,s=e.currentForm,c=e.noResults,d=e.disabled,f=e.accessEditable,h=e.useDisplayValue,p=e.theme,m=e.preventUpdate,v=e.preventDeleteAction,y=e.mode,b=!1===f||d,g=!1,_=null;v||!s||y!==ct.a.MODES.DELETE||s.getValue("archivedAt")||(g=!0,_="Delete this?");var k=a.get("label").toLowerCase(),w=this.canUpdate(),O=this.canArchive(),E={height:r},C=a.get("spacerId"),x=this.cards(w,O),P=x;this.canDrag()&&(P=u.a.createElement(kt.a,{onDragEnd:this.onDragEnd},u.a.createElement(kt.c,{droppableId:"droppable"},(function(e,t){return u.a.createElement("div",{ref:e.innerRef,style:Ot(t.isDraggingOver,p)},x,e.placeholder)}))));var D=a.get("searchString")&&c,R=this.header(x.length);return u.a.createElement("div",null,R,D?u.a.createElement(F.a,{variant:"h4"},u.a.createElement(S,{icon:"Info"})," No ",k," found"):null,u.a.createElement("div",{id:C,className:o.spacer,style:E}),u.a.createElement(Ee.a,{container:!0,spacing:0},P),i?u.a.createElement("div",{className:o.footer}):null,u.a.createElement(ft,{component:l,currentForm:s,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!w||b||h||m,forbidDelete:n||!O||b||h||v}),u.a.createElement(mt,{open:g,onClose:this.handleConfirmationClose,title:_}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,r=t.isBlank();return u.a.createElement("span",{className:a.root},!n&&u.a.createElement(ge,{component:t,inlineLabel:"true",shrinkLabel:!r}),this.field())}}]),n}(u.a.PureComponent);Et=y()((function(e){return{root:{width:"100%"},spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing(1),marginRight:e.spacing(1),animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing(1),animation:"fadeIn 1s infinite alternate"}}}),{withTheme:!0})(Et);var St=Et=q(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order","preventReadAction","preventUpdate","preventDeleteAction","buttonsFactory"])(Et),Ct=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDelete=function(){e.props.component.emit("delete")},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.help,r=e.disabled,o=e.editable;if(t){var i=t.get("block");return u.a.createElement("span",null,u.a.createElement(Ie,{component:t,block:!1,disabled:r}),n&&!r&&o?u.a.createElement(k.a,{"aria-label":"Delete",onClick:this.handleDelete},u.a.createElement(S,{icon:"DeleteIcon"})):null,a&&o?u.a.createElement(pe,{help:a}):"",i?u.a.createElement(Ae,null):null)}return null}}]),n}(u.a.PureComponent),xt=q(["value","disabled","editable"])(Ct),Pt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleNew=function(){e.props.component.createField(),e.props.component.set({touched:!1})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.useDisplayValue,r=e.autoCreateFields,o=e.hideLabel,i=e.editable,l=e.canDeleteEmpty,s=e.accessEditable,c=e.disabled,d=e.hideDeleteButton,f=t.getSingularLabel(),h=!1===s||c,p=[],m=!0,v=t.isBlank();return t.eachField((function(e,t){var r=e.isBlank();!m&&a&&r||p.push(u.a.createElement(xt,{component:e,key:t,allowDelete:n&&!a&&(l||!r)&&!d,disabled:c})),m&&(m=!1)})),r||a||!i||h||p.push(u.a.createElement(oe,{key:"button","aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(f||""),marginTop:!1})),u.a.createElement("span",null,!o&&u.a.createElement(ge,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!v}),u.a.createElement("div",null,p))}}]),n}(u.a.PureComponent),Dt=q(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Pt),Rt=n(362),At=n(33),jt=n.n(At),Tt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.component.setValue(t)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.editable,a=e.accessEditable,r=e.classes,o=e.useDisplayValue,i=!1!==a&&n&&!t,l=jt.a.get("reCAPTCHASiteKey");return i&&!o?u.a.createElement("div",{className:r.captcha},u.a.createElement(Rt.a,{ref:"recaptcha",sitekey:l,onChange:this.handleChange})):null}}]),n}(u.a.PureComponent);Tt=y()((function(e){return{captcha:{margin:e.spacing(1)}}}))(Tt);var It=q(["disabled","editable","useDisplayValue"])(Tt),Lt=n(875),Nt=n(811),Mt=n(879),Bt=n(360),Vt=n(5),Ut=n(251);function Wt(e){var t=e.inputRef,n=Object(X.a)(e,["inputRef"]);return u.a.createElement("div",Object.assign({ref:t},n))}var qt={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),u.a.createElement(H.a,Object.assign({},t,{InputProps:{inputComponent:Wt,inputProps:Object(C.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children,"aria-label":e.selectProps.ariaLabel},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return u.a.createElement(Se.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return u.a.createElement(Mt.a,{tabIndex:-1,label:e.children,className:$()(e.selectProps.classes.chip,{[e.selectProps.classes.chipFocused]:e.isFocused,[e.selectProps.classes.disabled]:e.selectProps.isDisabled}),onDelete:e.removeProps.onClick,deleteIcon:u.a.createElement(S,{icon:"Cancel","aria-label":"Remove",role:"button","aria-hidden":"false"})})},NoOptionsMessage:function(e){return u.a.createElement(F.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return u.a.createElement(vt.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},SingleValue:function(e){return u.a.createElement(F.a,Object.assign({className:$()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),e.children)},ValueContainer:function(e){return u.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Gt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.isClearable,r=e.placeholder,o=e.onChange,i=e.onBlur,l=e.onFocus,s=e.onInputChange,c=e.value,d=e.isDisabled,f=e.fullWidth,h=e.isMulti,p=e.id,m={dropdownIndicator:function(e){return Object(C.a)(Object(C.a)({},e),{},{cursor:"pointer"})},clearIndicator:function(e){return Object(C.a)(Object(C.a)({},e),{},{cursor:"pointer"})},menuPortal:function(e){return Object(C.a)(Object(C.a)({},e),{},{zIndex:2e3})}};return u.a.createElement(Bt.a,{id:p,className:$()(t.root,f&&t.fullWidth),classes:t,styles:m,options:n,components:qt,value:c,onChange:o,onBlur:i,onFocus:l,onInputChange:s,placeholder:r,isClearable:a,isDisabled:d,fullWidth:f,isMulti:h,menuPortalTarget:document.body,ariaLabel:this.props["aria-label"]})}}]),n}(u.a.Component),Kt=Object(Vt.a)((function(e){return{input:{display:"flex",padding:0,minWidth:240,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:e.spacing(2)+5},chip:{margin:"".concat(e.spacing(1),"px ").concat(e.spacing(.25),"px")},chipFocused:{backgroundColor:Object(Ut.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1)},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}}))(Gt),Ht=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={focus:!1},e}return Object(f.a)(n,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e?e.map((function(e){return e.value})):null):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,n=e.blankString,a=e.value,r=e.multiple;if(t){var o=[];return!r&&n&&o.push(u.a.createElement(vt.a,{value:"",key:""},u.a.createElement("em",null,n))),t.forEach((function(e){if(r){var t=!!a&&-1!==a.indexOf(e.value);o.push(u.a.createElement(vt.a,{value:e.value,key:e.value},u.a.createElement(Lt.a,{checked:t}),u.a.createElement(j.a,{primary:e.label})))}else o.push(u.a.createElement(vt.a,{value:e.value,key:e.value},e.label))})),o}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.err,r=t.touched,o=t.disabled,i=t.component,l=t.fullWidth,s=t.classes,c=t.editable,d=t.multiple,f=t.accessEditable,h=t.useDisplayValue,p=t.options,m=t.autocomplete,v=this.state.focus,y=!1===f||o,b=d?[]:"";n&&(b=n);var g=void 0,_=void 0;d&&(g=u.a.createElement(Nt.a,null),_=function(e){return u.a.createElement("div",{className:s.chips},e.map((function(e){return u.a.createElement(Mt.a,{key:e,label:i.getOptionLabel(e),className:s.chip})})))});var F={},k=null,w=i.get("label");if(c&&!h)if(m){var O=null;O=d?b.map((function(e){return{value:e,label:i.getOptionLabel(e)}})):{value:b,label:i.getOptionLabel(b)},!v&&i.isValueBlank(b)||(F.shrinkLabel=!0),k=u.a.createElement(Kt,{id:i.getUniqueId(),options:p,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:O,isDisabled:y,fullWidth:l,isMulti:d,"aria-label":w})}else k=u.a.createElement(yt.a,{id:i.getUniqueId(),multiple:d,error:!(!r||!a),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:g,renderValue:_,value:b,disabled:y,fullWidth:l,className:s.formControl,"aria-label":w},this.renderOptions());else{var E=null;E=d&&n?n.map((function(e){return u.a.createElement(Mt.a,{key:e,label:i.getOptionLabel(e),className:s.chip})})):i.getDisplayValue(),k=u.a.createElement(ke,{"aria-label":w},E)}return u.a.createElement(ge,Object.assign({component:i},F),k)}}]),n}(u.a.PureComponent);Ht=y()((function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing(.25)}}}))(Ht);var zt=q(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(Ht),$t=n(822),Yt=n(366),Jt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t,n){var a=e.props,r=a.component,o=a.items;r.set({value:n});var i=o[n].name;r.emitChange(i)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.value;return u.a.createElement(b.a,{position:"static",color:"default",elevation:1},u.a.createElement($t.a,{value:n,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"fullWidth"},t.map((function(e,t){return u.a.createElement(Yt.a,{label:e.label,icon:u.a.createElement(S,{icon:e.icon}),key:t})}))))}}]),n}(u.a.Component),Zt=Jt=q(["items","value"])(Jt),Xt=n(871),Qt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,r=e.editable,o=e.useDisplayValue,i=e.showSeconds,l=e.fullWidth,s=e.disabled,c=!1===e.accessEditable||s,d=!1,f=null;return r&&!o?(d=!!a,f=u.a.createElement(Ve.a,{utils:Ue.a},u.a.createElement("span",null,u.a.createElement(Xt.a,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,seconds:i,onClose:this.handleBlur,fullWidth:l,disabled:c,invalidDateMessage:""})))):f=u.a.createElement(ke,null,t.getDisplayValue()),u.a.createElement(ge,{component:t,shrinkLabel:d},f)}}]),n}(u.a.PureComponent);Qt=y()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Qt);var en=q(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(Qt),tn=n(355),nn=n.n(tn),an=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.text;return u.a.createElement(F.a,{component:"div"},u.a.createElement(nn.a,{source:e}))}}]),n}(u.a.PureComponent),rn=an=q(["text"])(an),on=n(356),ln=n.n(on),un=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props.component,n=t.fromUIValue(e.target.value);t.setValue(n)},a.handleBlur=function(){a.props.component.setTouched(!0)},a.handleKeyUp=function(e){13===e.keyCode&&a.props.component.setTouched(!0)},a.TextMaskCustom=function(e){var t=e.inputRef,n=Object(X.a)(e,["inputRef"]),r=a.props.mask;return u.a.createElement(ln.a,Object.assign({},n,{ref:function(e){t(e?e.inputElement:null)},mask:r}))},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.err,n=e.maxLength,a=e.touched,r=e.disabled,o=e.component,i=e.fullWidth,l=e.type,s=e.editable,c=e.accessEditable,d=e.multiline,f=e.rows,h=e.rowsMax,p=e.useDisplayValue,m=e.mask,v=e.displayValue,y=!1===c||r,b=null;if(s&&!p){var g={};m&&(g.inputComponent=this.TextMaskCustom);var _=o.getUIValue();b=u.a.createElement(Nt.a,Object.assign({id:o.getUniqueId(),error:!(!a||!t),inputProps:{maxLength:n},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:_||"",disabled:y,fullWidth:i,type:l,multiline:d,rows:f,rowsMax:h},g))}else b=u.a.createElement(ke,{id:o.getUniqueId(),"aria-label":o.get("label")},v||o.getDisplayValue());return u.a.createElement(ge,{component:o},b)}}]),n}(u.a.PureComponent),sn=q(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(un),cn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.value,a=e.editable,r=e.useDisplayValue,o=e.newWindow,i=null;if((!a||r)&&n){var l=n;0!==l.indexOf("http")&&(l="http://"+l),i=u.a.createElement("a",{href:l,target:o?"_blank":"_self"},n)}return u.a.createElement(sn,{component:t,displayValue:i})}}]),n}(u.a.PureComponent),dn=q(["value","editable","useDisplayValue","newWindow"])(cn),fn={ButtonField:le,BooleanField:Oe,Card:xe,ChainedSelectField:Ne,ChainedSelectListField:Dt,ComponentField:De,CompositeField:Ne,DateField:qe,Field:Ie,Form:ze,FormField:Ye,Fragment:Ze,Grid:tt,GridItem:Qe,CollectionField:St,IdField:sn,IntegerField:sn,ListField:Dt,MoneyField:sn,NumberField:sn,PhoneField:sn,ReCAPTCHAField:It,SelectField:zt,SelectListField:Dt,Tabs:Zt,TimeField:en,Text:rn,TextField:sn,TextListField:Dt,URLField:dn,User:ze},hn=n(43),pn=n.n(hn),mn=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),n=fn[t];if(void 0!==n)return n;if(pn.a.isCompiled(pn.a.getComponent(t))){var a=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new a)}var r=pn.a.getOldestCompiledAncestor(t),o=pn.a.getComponent(r);return this.getUIComponent(new o)}}]),e}()),vn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t,n){var a=e.props,r=a.on,o=a.component;r&&r({name:t,value:n,component:o});var i="on"+t.charAt(0).toUpperCase()+t.slice(1);e.props[i]&&e.props[i]({value:n,component:o})},e}return Object(f.a)(n,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(X.a)(e,["component"]);if(t){var a=mn.getUIComponent(t);return u.a.createElement(a,Object.assign({component:t},n))}return null}}]),n}(u.a.PureComponent),yn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={component:null},e}return Object(f.a)(n,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:pn.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),n=Object(X.a)(e,["definition","component"]),a=t;return t||(a=this.state.component),a&&a.get("hidden")?null:u.a.createElement(vn,Object.assign({component:a},n))}}]),n}(u.a.PureComponent),bn=q(["hidden"])(yn),gn=n(102),_n=n.n(gn),Fn=n(371),kn=n(877),wn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClose=function(t,n){"clickaway"!==n&&e.props.onClose&&e.props.onClose()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.message,a=e.open;return u.a.createElement(kn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:u.a.createElement("span",{id:"message-id"},n),action:[u.a.createElement(k.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},u.a.createElement(S,{icon:"Close"}))]})}}]),n}(u.a.PureComponent),On=y()((function(e){return{close:{padding:e.spacing(.5)}}}))(wn),En=n(41),Sn=n.n(En),Cn=n(118),xn=n.n(Cn),Pn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchStringInput:"",showSearch:!1,showSearchOnMobile:!1},a.form=null,a.path=null,a.onNavigate=function(e){var t=a.state.menuItem;t&&t.producedContent.has("dirty")&&t.producedContent.get("dirty")&&!t.fullScreen?jt.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.handleNavigate=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push(t.path);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.confirmation).callback&&t&&n.callback(t),a.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.switchContent=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,i,l,u,s,c,d,f,h,p,m,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=a.state.currentComponent)&&r.emitUnload(),!(i=t&&t.content)){e.next=20;break}if(l=a.props,u=l.location,s=l.component,c=s.get("menu"),jt.a.set({route:c.toRoute({parameters:n,queryString:u.search.substr(1),hash:u.hash.substr(1)})}),d=c.getParent(t.path),!a.requireAccess(t.roles)||d&&!a.requireAccess(d.roles)){e.next=18;break}if(f=null,!(i instanceof Sn.a)){e.next=16;break}return e.next=13,i.run({component:i});case 13:f=e.sent,e.next=17;break;case 16:f=i;case 17:f&&f instanceof _n.a&&(t.producedContent=f,(h=f).emitLoad(),p=a.canArchive(h),m=p.canArchive,v=p.canSearch,jt.a.set({searchString:null}),a.setState({menuItem:t,showArchived:!1,showArchivedToggle:m,searchStringInput:"",showSearch:v,currentComponent:h}));case 18:e.next=21;break;case 20:a.setState({currentComponent:null});case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onLocation=function(e){jt.a.set({path:e.pathname,pathHash:e.hash,pathSearch:e.search})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleArchivedChange=function(e){a.setState({showArchived:e.target.checked});var t=a.state.menuItem;t&&(t.producedContent.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},a.handleSearchStringInputChange=function(e){a.setState({searchStringInput:e})},a.handleSearch=function(e){a.setState({searchStringInput:e},(function(){jt.a.set({searchString:e||null})}))},a.toggleShowSearch=function(){a.setState({showSearchOnMobile:!a.state.showSearchOnMobile})},a.setGlobalOnNavigate(),a}return Object(f.a)(n,[{key:"setGlobalOnNavigate",value:function(){jt.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;jt.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.props.component.get("menu").getItemAndParsePath(e);return this.switchContent(t.item,t.params)}},{key:"canArchive",value:function(e){var t=!1,n=!1;if(e&&e instanceof xn.a){var a,r=Object(m.a)(e.getFields());try{for(r.s();!(a=r.n()).done;){var o=a.value;o instanceof ct.a&&(t=!o.get("forbidViewArchived")&&Ke.a.canArchive(o.get("form")),n=!o.get("forbidSearch"))}}catch(i){r.e(i)}finally{r.f()}}return{canArchive:t,canSearch:n}}},{key:"emitLoggedOut",value:function(){jt.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||M.a.client&&M.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentDidUpdate",value:function(e){var t=jt.a.get("snackbarMessage");if(t&&(this.displaySnackbar(t),jt.a.set({snackbarMessage:null})),this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path===e.path&&this.props.pathHash===e.pathHash&&this.props.pathSearch===e.pathSearch||this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var n=this.state.menuItem;n&&n.producedContent.has("searchString")&&n.producedContent.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),M.a.client&&M.a.client.user.awaitSession(),this.onLocation(this.props.location),window.addEventListener("scroll",(function(t){var n=e.state.menuItem;n&&n.producedContent.emit("scroll",t)})),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"archivedToggle",value:function(){var e=this.state,t=e.showArchived,n=!!t,a=null;return e.showArchivedToggle&&(a=u.a.createElement(g.a,{title:t?"Show Active":"Show Deleted"},u.a.createElement(ue.a,{onChange:this.handleArchivedChange,checked:n}))),a}},{key:"searchBox",value:function(e){var t=this.props.classes,n=this.state,a=n.searchStringInput,r=null;return n.showSearch&&(r=u.a.createElement(J,{fullWidth:e,className:t.alignRight,searchString:a,onChange:this.handleSearchStringInputChange,onSearch:this.handleSearch})),r}},{key:"menuButton",value:function(){var e=this.props.classes,t=this.isResponsive();return u.a.createElement(k.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:t?e.navIconHide:""},u.a.createElement(S,{icon:"Menu"}))}},{key:"title",value:function(){var e=this.state.menuItem;return u.a.createElement(F.a,{variant:"h6",color:"inherit",noWrap:!0},e?e.label:"")}},{key:"appBar",value:function(){var e=this.props,t=e.classes,n=e.width,a=this.state.showSearchOnMobile,r=Object(Fn.b)("sm",n),o=this.isResponsive(),i=null;return i=r?a?u.a.createElement(u.a.Fragment,null,u.a.createElement(k.a,{color:"inherit","aria-label":"close search",onClick:this.toggleShowSearch},u.a.createElement(S,{icon:"ArrowBack"})),this.searchBox(!0)):u.a.createElement(u.a.Fragment,null,this.menuButton(),this.title(),this.archivedToggle(),u.a.createElement(k.a,{color:"inherit","aria-label":"toggle search",onClick:this.toggleShowSearch,className:t.alignRight},u.a.createElement(S,{icon:"Search"}))):u.a.createElement(u.a.Fragment,null,this.menuButton(),this.title(),this.archivedToggle(),this.searchBox()),u.a.createElement(b.a,{elevation:1,className:t.appBar+(o?" ".concat(t.appBarResponsive):"")},u.a.createElement(_.a,null,i))}},{key:"isResponsive",value:function(){return!this.props.menuAlwaysTemporary}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=e.confirmation,r=this.state,o=r.mobileOpen,i=r.menuItem,l=r.snackbarOpen,s=r.snackbarMessage,c=r.confirmationOpen,d=r.currentComponent,f=this.isResponsive(),h=n.get("menu"),p=this.props.location.pathname,m=d?u.a.createElement(bn,{component:d}):null,v=this.appBar(),y=u.a.createElement(K,{component:h,onDrawerToggle:this.handleDrawerToggle,mobileOpen:o,onNavigate:this.handleNavigate,path:p,responsive:f}),b=null;return i&&i.fullScreen&&(b={marginLeft:0,marginTop:0}),u.a.createElement("div",{className:t.root},u.a.createElement("div",{className:t.appFrame},i&&i.fullScreen?null:v,i&&i.fullScreen?null:y,u.a.createElement("main",{className:t.content+(f?" ".concat(t.contentResponsive):""),style:b},u.a.createElement(Z.d,null,u.a.createElement(Z.b,null)),m,u.a.createElement(On,{open:l,message:s,onClose:this.handleSnackbarClose}),u.a.createElement(mt,{open:c,onClose:this.handleConfirmationClose,title:a?a.title:null,text:a?a.text:null,alert:a?a.alert:null}))))}}]),n}(u.a.PureComponent);Pn=y()((function(e){return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:{[e.breakpoints.up("md")]:{width:"calc(100% - ".concat(240,"px)")}},navIconHide:{[e.breakpoints.up("md")]:{display:"none"}},content:{backgroundColor:e.palette.background.default,width:"100%",padding:e.spacing(3),height:"calc(100% - 56px)",marginTop:56,[e.breakpoints.up("sm")]:{height:"calc(100% - 64px)",marginTop:64},overflowAnchor:"none"},contentResponsive:{[e.breakpoints.up("md")]:{marginLeft:240}},alignRight:{marginLeft:"auto"}}}),{withTheme:!0})(Pn),Pn=Object(Fn.a)()(Pn),Pn=Object(Z.g)(Pn),Pn=q(["menuAlwaysTemporary"])(Pn);var Dn=Pn=q(["path","pathHash","pathSearch","redirectPath","snackbarMessage","confirmation","searchString"],jt.a)(Pn),Rn=n(872),An=n(857),jn=n(250),Tn=n.n(jn),In=n(357),Ln=n.n(In),Nn=n(358),Mn=n.n(Nn),Bn=n(253),Vn=Tn()({palette:{primary:Ln.a,secondary:Mn.a},typography:{useNextVariants:!0}}),Un=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNavigate=function(e,t){jt.a.onNavigate(e,t)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.basename;return u.a.createElement(An.a,{theme:Vn},u.a.createElement(Rn.a,null),u.a.createElement(Bn.a,{getUserConfirmation:this.onNavigate,basename:n},u.a.createElement("div",null,u.a.createElement(Dn,{component:t}),u.a.createElement(Z.a,{message:"foo"}))))}}]),n}(u.a.Component),Wn=q(["basename"])(Un),qn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Gn(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mson-react","/service-worker.js");qn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Kn(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Kn(e)}))}}function Kn(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Hn=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.a.client){e.next=3;break}return e.next=3,M.a.client.user.awaitSession();case 3:c.a.render(u.a.createElement(Wn,{component:t}),document.getElementById("root")),Gn();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zn=(n(801),{name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-builder",label:"Form Builder",content:{component:"app.FormBuilder"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}},{path:"/grid",label:"Grid",content:{component:"app.Grid"}},{path:"/router",label:"Router",items:[{path:"/router/redirect",label:"Redirect",content:{component:"Action",actions:[{component:"Redirect",path:"/router/person/p123/message/m456?first=Trevor&last=Noah#hash123"}]}},{path:"/router/generate-component",label:"Generate Component",content:{component:"app.GenerateComponent"}}]},{path:"/router/person/:personId/message/:messageId",label:"Router",content:{component:"app.Router"},hidden:!0}]}}),$n=n(363),Yn=n(103),Jn=n(107),Zn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"_create",value:function(e){var t=this;Object($n.a)(Object(Yn.a)(n.prototype),"_create",this).call(this,e),this.set({fields:[new Jn.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new Jn.TextField({name:"lastName",label:"Last Name",required:!0}),new Jn.EmailField({name:"email",label:"Email"}),new Jn.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new Jn.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new Jn.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",(function(){t.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})})),this.on("submit",(function(){var e=t.getValues();console.log("submitting",e),jt.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName)),t.reset()})),this.on("cancel",(function(){jt.a.redirect("/")}))}}]),n}(xn.a);pn.a.registerComponent("app.ContactNoMSON",Zn);var Xn={name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},Qn={name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},ea={name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},ta={name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},na={name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/redgeoff7"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},aa=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],ra={name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:aa},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:aa},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},oa={name:"app.FormBuilder",component:"FormBuilder","fields.form.form.fields.fields.store":{component:"LocalStorageStore",storeName:"myForm"}},ia={name:"app.GenerateComponent",component:"Action",schema:{component:"Form",fields:[{name:"componentType",component:"TextField"}]},actions:[{component:"Action",if:{"globals.route.query.type":null},actions:[{component:"Set",name:"componentType",value:"CountryField"}],else:[{component:"Set",name:"componentType",value:"{{globals.route.query.type}}"}]},{component:"GenerateComponent",definition:JSON.stringify({component:"Form",fields:[{name:"type",component:"SelectField",label:"Field Type",options:[{value:"TextField",label:"TextField"},{value:"PersonFullNameField",label:"PersonFullNameField"},{value:"CountryField",label:"CountryField"}],value:"{{componentType}}",autocomplete:!1},{name:"generatedField",component:"{{componentType}}",label:"Generated Field"}],listeners:[{event:"fields.type.value",actions:[{component:"Redirect",path:"/router/generate-component?type={{fields.type.value}}"}]}]})}]},la={name:"app.Grid",component:"Grid",items:[{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# A"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# B"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# C"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# D"}},{component:"GridItem",md:6,xs:12,content:{name:"toggleA",component:"ButtonField",label:"Toggle A",listeners:[{event:"click",actions:[{component:"Action",if:{"parent.parent.items.0.hidden":!0},actions:[{component:"Set",name:"parent.parent.items.0.hidden",value:!1}],else:[{component:"Set",name:"parent.parent.items.0.hidden",value:!0}]}]}]}}]},ua={name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},sa={name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},ca={name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},da={name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},fa={name:"app.Router",component:"Form",fields:[{component:"TextField",name:"personId",label:"personId",block:!1},{component:"TextField",name:"messageId",label:"messageId"},{component:"TextField",name:"first",label:"first",block:!1},{component:"TextField",name:"last",label:"last"},{component:"TextField",name:"hash",label:"hash"},{component:"ButtonField",name:"submit",label:"Go",type:"submit",icon:"Send"}],listeners:[{event:"load",actions:[{component:"Set",name:"value",value:{personId:"{{globals.route.parameters.personId}}",messageId:"{{globals.route.parameters.messageId}}",first:"{{globals.route.query.first}}",last:"{{globals.route.query.last}}",hash:"{{globals.route.hash}}"}}]},{event:"submit",actions:[{component:"Set",name:"pristine",value:!0},{component:"Redirect",path:"/router/person/{{fields.personId.value}}/message/{{fields.messageId.value}}?first={{fields.first.value}}&last={{fields.last.value}}#{{fields.hash.value}}"}]}]},ha=n(254),pa=n.n(ha),ma=n(873),va=n(874),ya=n(191),ba=n.n(ya),ga=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={field:null},e.handleValueChange=function(t){var n=e.props.component,a=e.state.field,r=null;if(!a||t.componentName!==a.getClassName())if(a&&a.destroy(),t.componentName){r=pn.a.newComponent({component:t.componentName});var o=function(){a.clearErr(),a.validate()};(a=r.isField?r:new ba.a({content:r})).on("value",o),a.on("touched",o)}else a=null;if(a){var i=n.getValues({default:!1});r="ComponentField"===a.getClassName()?a.get("content"):a,L()(i,(function(e,t){r.has(t)&&r.set({[t]:e})}))}e.setState({field:a})},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.formTag,r=e.mode,o=this.state.field,i=null;return o&&"read"!==r&&(i=u.a.createElement(ma.a,{className:n.card},u.a.createElement(va.a,null,u.a.createElement(F.a,{color:"textSecondary",gutterBottom:!0},"Preview"),u.a.createElement(Ie,{component:o})))),"read"!==r?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:n.preview},i),u.a.createElement("div",{className:n.form},u.a.createElement(ze,{component:t,formTag:a,mode:r}))):o?u.a.createElement(Ie,{component:o,disabled:!0}):null}}]),n}(u.a.PureComponent);ga=y()((function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:e.spacing(3)}}}))(ga);var _a=ga=q(["mode"])(ga),Fa=n(255),ka=n.n(Fa),wa=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.component;if(!1!==t)return u.a.createElement(ze,this.props);var a=n.get("definition");return u.a.createElement(bn,{definition:a,formTag:!1})}}]),n}(u.a.Component),Oa=wa=q(["editable"])(wa),Ea=n(359),Sa=n.n(Ea);for(var Ca in jt.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),pn.a.registerComponent("FieldEditorForm",pa.a),fn.FieldEditorForm=_a,pn.a.registerComponent("FormEditor",ka.a),fn.FormEditor=Oa,pn.a.registerComponent("FormBuilder",Sa.a),a){var xa=a[Ca];pn.a.registerComponent(xa.name,xa)}Hn(pn.a.newComponent({component:"app.App"}))},85:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(27)),o=a(n(9)),i=a(n(12)),l=a(n(17)),u=a(n(18)),s=a(n(14)),c=a(n(15)),d=a(n(13)),f=a(n(16)),h=a(n(67)),p=a(n(717)),m=a(n(61)),v=a(n(314)),y=a(n(184)),b=a(n(189)),g=a(n(151)),_=a(n(152)),F=a(n(155)),k=a(n(326)),w=a(n(191)),O=a(n(101)),E=a(n(730)),S=a(n(334));function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var x=function(e){(0,s.default)(n,e);var t=C(n);function n(){var e;(0,o.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,l.default)(e),"_className","Form"),e}return(0,i.default)(n,[{key:"_formSetMSONSchema",value:function(){this.set({schema:{component:"Form",fields:[{name:"fields",component:"CollectionField",formFactory:{component:"Factory",product:{component:"SchemaValidatorForm"}}},{name:"form",component:"Field"},{name:"validators",component:"CollectionField",formFactory:{component:"Factory",product:{component:"ValidatorForm"}}},{name:"access",component:"FormField",form:{component:"AccessForm"}},{name:"indexes",component:"Field"},{name:"touched",component:"BooleanField"},{name:"err",component:"Field"},{name:"dirty",component:"BooleanField"},{name:"pristine",component:"BooleanField"},{name:"autoValidate",component:"BooleanField"},{name:"reportUndefined",component:"BooleanField"},{name:"showArchived",component:"BooleanField"},{name:"searchString",component:"TextField"},{name:"cursor",component:"TextField"},{name:"snapshot",component:"BooleanField"},{name:"mode",component:"TextField"},{name:"isLoading",component:"BooleanField"},{name:"omitDefaultFields",component:"BooleanField"},{name:"value",component:"Field"},{name:"clear",component:"BooleanField"},{name:"reset",component:"BooleanField"},{name:"fullWidth",component:"BooleanField"},{name:"editable",component:"BooleanField"},{name:"hidden",component:"BooleanField"},{name:"required",component:"BooleanField"},{name:"out",component:"BooleanField"},{name:"disabled",component:"BooleanField"},{name:"eachField",component:"Field"},{name:"disableSubmit",component:"BooleanField"},{name:"useDisplayValue",component:"BooleanField"},{name:"change",component:"Field"},{name:"clearErrs",component:"BooleanField"}]}})}},{key:"_create",value:function(e){(0,u.default)((0,d.default)(n.prototype),"_create",this).call(this,e),this._componentFillerProps=new k.default,this._fields=new y.default,this._defaultFields=new y.default,this._validators=[],this._clearExtraErrors(),e&&e.omitDefaultFields||(this._addDefaultFields(),this._createDefaultFields()),this._formSetMSONSchema(),this._setDefaults(e,{autoValidate:!1,reportUndefined:!0,showArchived:!1}),this._listenForLoad(),this._listenForUnload(),this._listenForShowArchived(),this._listenForSearchString(),this._listenForScroll()}},{key:"_setSubmitDisabled",value:function(e){var t=this._getSubmitButton();t&&t.set({disabled:e})}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){e._fields.each((function(e){return e.emitLoad()}))}}},{key:"_listenForLoad",value:function(){this.on("load",this._handleLoadFactory())}},{key:"_listenForUnload",value:function(){var e=this;this.on("unload",(function(){e.set({showArchived:!1,searchString:null}),e._fields.each((function(e){return e.emitUnload()}))}))}},{key:"_handleShowArchivedFactory",value:function(){var e=this;return function(t){e._fields.each((function(e){return e.set({showArchived:t})}))}}},{key:"_listenForShowArchived",value:function(){this.on("showArchived",this._handleShowArchivedFactory())}},{key:"_handleSearchStringFactory",value:function(){var e=this;return function(t){e._fields.each((function(e){return e.set({searchString:t})}))}}},{key:"_listenForSearchString",value:function(){this.on("searchString",this._handleSearchStringFactory())}},{key:"_handleScrollFactory",value:function(){var e=this;return function(t){e._fields.each((function(e){e.emit("scroll",t)}))}}},{key:"_listenForScroll",value:function(){this.on("scroll",this._handleScrollFactory())}},{key:"isDefaultField",value:function(e){return this._defaultFields.has(e)}},{key:"_addDefaultFields",value:function(){this._defaultFields.set("id",new b.default({name:"id",label:"Id",hidden:!0})),this._defaultFields.set("userId",new b.default({name:"userId",label:"User Id",hidden:!0})),this._defaultFields.set("createdAt",new _.default({name:"createdAt",label:"Created At",hidden:!0})),this._defaultFields.set("updatedAt",new _.default({name:"updatedAt",label:"Updated At",hidden:!0})),this._defaultFields.set("archivedAt",new _.default({name:"archivedAt",label:"Archived At",hidden:!0})),this._defaultFields.set("order",new g.default({name:"order",label:"Order",hidden:!0}))}},{key:"_createDefaultFields",value:function(){var e=this;this._defaultFields.each((function(t){return e.addField(t)}))}},{key:"copyFields",value:function(e,t){var n=this,a=[];e._fields.each((function(e){n.isDefaultField(e.get("name"))||(n.addField(t?e.clone():e),a.push(e))})),this._emitChangeToFields(a)}},{key:"cloneFields",value:function(e){this.copyFields(e,!0)}},{key:"elevate",value:function(e){this.copyFields(e),this.set({validators:e.get("validators"),listeners:e.get("listeners")})}},{key:"_clearExtraErrors",value:function(){this._extraErrors=[]}},{key:"_setAccess",value:function(e){this._set("access",(0,p.default)(this._access,e))}},{key:"_emitChangeToFields",value:function(e){this.set({change:e})}},{key:"set",value:function(e){var t=this;void 0!==e.fields&&(e.fields.forEach((function(e){t.addField(e)})),this._emitChangeToFields(e.fields)),(0,u.default)((0,d.default)(n.prototype),"set",this).call(this,Object.assign({},e,{fields:void 0,validators:void 0,access:void 0,value:void 0,clear:void 0,reset:void 0,fullWidth:void 0,hidden:void 0,required:void 0,out:void 0,disabled:void 0,setForEachField:void 0,useDisplayValue:void 0})),void 0!==e.validators&&(this._validators=[],e.validators.forEach((function(e){t.addValidator(e)}))),void 0!==e.value&&this.setValues(e.value),void 0!==e.required&&this.setRequired(e.required),void 0!==e.disabled&&this.setDisabled(e.disabled),void 0!==e.editable&&this.setEditable(e.editable),void 0!==e.hidden&&this.setHidden(e.hidden),void 0!==e.out&&this.setOut(e.out),void 0!==e.snapshot&&this.setSnapshot(e.snapshot),!0===e.clear&&this.clearValues(),!0===e.reset&&this.reset(),void 0!==e.pristine&&this.setDirty(!e.pristine),void 0!==e.err&&this._emitCanOrCannotSubmit(),void 0!==e.access&&this._setAccess(e.access),void 0!==e.fullWidth&&this._setFullWidth(e.fullWidth),void 0!==e.eachField&&this.setForEachField(e.eachField),void 0!==e.useDisplayValue&&this.setUseDisplayValue(e.useDisplayValue),!0===e.clearErrs&&this.clearErrs()}},{key:"_setField",value:function(e){var t=e.get("before"),n=t&&this.hasField(t)?t:void 0,a=e.get("after"),r=a&&this.hasField(a)?a:void 0;this._fields.set(e.get("name"),e,n,r)}},{key:"_handleFieldTouchedFactory",value:function(){var e=this;return function(t){t&&e.set({touched:!0}),e.get("autoValidate")&&e.validate()}}},{key:"_addField",value:function(e){var t=this;this._setField(e),e.on("value",(function(n){var a=t._value?t._value:{};a[e.get("name")]=n,t._setProperty("value",a),t.emitChange("value",a),t.get("autoValidate")&&t.validate()})),e.on("touched",this._handleFieldTouchedFactory()),e.on("err",(function(e){e&&t.set({err:!0})})),e.on("dirty",(function(e){e&&t.set({dirty:!0})})),e.on("click",(function(){t.emitChange(e.get("name"))})),e.set({parent:this})}},{key:"addField",value:function(e){e.isField||(e=this.isComponent(e)?new w.default({name:e.get("name"),content:e}):new S.default({name:e.name,properties:Object.assign({},e,{name:void 0})})),e instanceof S.default&&this.hasField(e.get("name"))?this.getField(e.get("name")).set(e.get("properties")):e instanceof O.default&&e.get("elevate")?this.elevate(e.get("form")):this._addField(e)}},{key:"removeField",value:function(e){var t=this.getField(e);this._fields.delete(e),t.destroy()}},{key:"removeFieldsExcept",value:function(e){var t=this;this._fields.each((function(n,a){void 0!==e&&-1!==e.indexOf(a)||t.removeField(a)}))}},{key:"removeBlankFields",value:function(){var e=this;this._fields.each((function(t,n){t.isBlank()&&e.removeField(n)}))}},{key:"getOne",value:function(e){return"value"===e?this.getValues():(0,u.default)((0,d.default)(n.prototype),"getOne",this).call(this,e)}},{key:"getField",value:function(e){try{return this._fields.get(e)}catch(t){throw new Error("missing field "+e)}}},{key:"hasField",value:function(e){return this._fields.has(e)}},{key:"getValues",value:function(e){var t=this,n={};return e=e||{},this._fields.each((function(a){var r=a.get("name");void 0!==e.in&&e.in!==!!a.get("in")||void 0!==e.out&&e.out!==!!a.get("out")||void 0!==e.blank&&e.blank!==!!a.isBlank()||void 0!==e.default&&e.default!==!!t.isDefaultField(r)||(n[r]=a.get("value"))})),n}},{key:"_validateValuesType",value:function(e){var t=!1;null===e||"object"===typeof e&&!Array.isArray(e)||(t=!0),this._hasTypeError=t}},{key:"setValues",value:function(e){var t=this;this._validateValuesType(e),this._clearExtraErrors(),this._hasTypeError||(null===e?this.clearValues():(0,m.default)(e,(function(e,n){-1===n.indexOf(".")&&(t.hasField(n)?t.getField(n).setValue(e):t.get("reportUndefined")&&t._extraErrors.push({field:n,error:"undefined field"}))})))}},{key:"clearValues",value:function(){this._fields.each((function(e){return e.clearValue()}))}},{key:"clearErrs",value:function(){this.set({err:null}),this._fields.each((function(e){return e.clearErr()}))}},{key:"reset",value:function(){this.clearValues(),this.clearErrs(),this.set({pristine:!0}),this.setTouched(!1)}},{key:"_toValidatorProps",value:function(){return this}},{key:"_validateWithValidators",value:function(){var e=this;if(this._validators&&this._validators.length>0){var t=new v.default(this._toValidatorProps()).validate(this._validators);0!==t.length&&t.forEach((function(t){e.getField(t.field).setErr(t.error)}))}}},{key:"canSubmit",value:function(){return!this.hasErrorForField()&&this.get("dirty")}},{key:"_emitCanOrCannotSubmit",value:function(){var e=this.canSubmit();e&&this._setSubmitDisabled(!1),this.emitChange(e?"canSubmit":"cannotSubmit")}},{key:"validate",value:function(){this.clearErrs(),this._fields.each((function(e){return e.validate()})),this._validateWithValidators(),(this._hasTypeError||this._extraErrors.length>0)&&this.set({err:!0}),this._emitCanOrCannotSubmit()}},{key:"addValidator",value:function(e){this._validators.push(e)}},{key:"setTouched",value:function(e){this.set({touched:e}),this._fields.each((function(t){return t.set({touched:e})}))}},{key:"setRequired",value:function(e){this._fields.each((function(t){return t.set({required:e})}))}},{key:"setDisabled",value:function(e){this._fields.each((function(t){return t.set({disabled:e})}))}},{key:"setEditable",value:function(e){this._fields.each((function(t){return t.set({editable:e})}))}},{key:"setHidden",value:function(e){this._fields.each((function(t){return t.set({hidden:e})}))}},{key:"setOut",value:function(e){this._fields.each((function(t){return t.set({out:e})}))}},{key:"setSnapshot",value:function(e){var t=this;if("restore"===e)this._snapshotFields&&this._snapshotFields.forEach((function(e){t.getField(e.name).set(e)}));else{var n=this.mapFields((function(e){return e.get(["name","hidden","required","out","in"])}));this._snapshotFields=n}}},{key:"setDirty",value:function(e){this.set({dirty:e}),this._fields.each((function(t){return t.set({dirty:e})}))}},{key:"_setFullWidth",value:function(e){this._fields.each((function(t){return t.set({fullWidth:e})}))}},{key:"clone",value:function(){var e=this.mapFields((function(e){return e.clone()})),t={},n=this._canCloneFast();n&&(t={defaultProps:{fields:e},excludeProps:["fields"]});var a=this._clone(t);return n||a.set({fields:e}),a}},{key:"hasSetErrors",value:function(){return this._hasTypeError||this._extraErrors.length>0}},{key:"getErrs",value:function(){var e=[];return this._hasTypeError?e.push({error:"must be an object"}):(this._extraErrors.length>0&&(e=e.concat(this._extraErrors)),this._fields.each((function(t){var n=t.getErr();n&&e.push({field:t.get("name"),error:n})}))),e}},{key:"hasErr",value:function(){return!!this.get("err")}},{key:"hasErrorForTouchedField",value:function(){var e=!1;return this._fields.each((function(t){if(t.get("touched")&&t.getErr())return e=!0,!1})),e}},{key:"hasErrorForField",value:function(){var e=!1;return this._fields.each((function(t){if(t.getErr())return e=!0,!1})),e}},{key:"_getSubmitButton",value:function(){var e=null;return this.eachField((function(t){if(t instanceof F.default&&"submit"===t.get("type"))return e=t,!1})),e}},{key:"_emitClickOnButton",value:function(e){e.emitClick()}},{key:"submit",value:function(){var e=this._getSubmitButton();e&&this._emitClickOnButton(e)}},{key:"getFields",value:r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._fields.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"isBlank",value:function(){var e=!0;return this._fields.each((function(t){if(!t.isBlank())return e=!1,!1})),e}},{key:"eachField",value:function(e){this._fields.each((function(t,n,a){return e(t,n,a)}))}},{key:"mapFields",value:function(e){return this._fields.map((function(t,n,a){return e(t,n,a)}))}},{key:"buildSchemaForm",value:function(e,t){(0,u.default)((0,d.default)(n.prototype),"buildSchemaForm",this).call(this,e,t);var a=e.getField("fields").get("formFactory"),r=a.get("product");a.set({product:function(){var e=r();return e.set({compiler:t}),e}});var o=e.setValues;e.setValues=function(n){var a=[];if(n.fields&&n.fields.forEach((function(e){e.name&&a.push(e.name)})),n.component){var r=t.newComponent({component:n.component});r.eachField((function(e){return a.push(e.get("name"))}))}e.getField("access").getForm().set({fieldNames:a}),o.apply(this,arguments)}}},{key:"getValue",value:function(e){return this.getField(e).getValue()}},{key:"setForEachField",value:function(e){this._fields.each((function(t){return t.set(e)}))}},{key:"setUseDisplayValue",value:function(e){this.setForEachField({useDisplayValue:e})}},{key:"destroy",value:function(){(0,u.default)((0,d.default)(n.prototype),"destroy",this).call(this),this.eachField((function(e){return e.destroy()}))}},{key:"setFieldErr",value:function(e,t){this.getField(e).setErr(t)}},{key:"toErr",value:function(){return new E.default({form:this})}},{key:"setFieldErrAndThrow",value:function(e,t){throw this.setFieldErr(e,t),this.toErr()}}]),n}(h.default);t.default=x},92:function(e,t,n){"use strict";var a=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),o=a(n(12)),i=a(n(17)),l=a(n(18)),u=a(n(14)),s=a(n(15)),c=a(n(13)),d=a(n(16)),f=a(n(52)),h=a(n(68)),p=n(728),m=a(n(245));function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=v(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,i.default)(e),"_className","TextField"),e}return(0,o.default)(n,[{key:"_setTextFieldSchema",value:function(){this.set({schema:{component:"Form",fields:[{name:"minLength",component:"IntegerField",label:"Min Length",docLevel:"basic"},{name:"maxLength",component:"IntegerField",label:"Max Length",docLevel:"basic"},{name:"minWords",component:"IntegerField",label:"Min Words"},{name:"maxWords",component:"IntegerField",label:"Max Words"},{name:"type",component:"TextField"},{name:"invalidRegExp",component:"TextField",label:"Invalid RegExp",docLevel:"basic",help:"Invalid if this regular expression matches, e.g. /foo/"},{name:"multiline",component:"BooleanField",label:"Multiline",docLevel:"basic"},{name:"rows",component:"IntegerField"},{name:"rowsMax",component:"IntegerField"},{name:"mask",component:"Field"},{name:"unmask",component:"RegExpField"}],hidden:this._hideTextFieldSchema}})}},{key:"_create",value:function(e){(0,l.default)((0,c.default)(n.prototype),"_create",this).call(this,e),this._requireString=!0,this._setTextFieldSchema()}},{key:"_toValidatorProps",value:function(){var e=this;return{get:function(t){switch(t){case"length":return e.get("value").length;case"words":return e.get("value").split(/\s+/).length;default:return e.get(t)}}}}},{key:"validate",value:function(){if((0,l.default)((0,c.default)(n.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue();if("string"===typeof e){var t=this.get("minLength"),a=this.get("maxLength"),r=this.get("invalidRegExp");null!==t&&e.length<t?this.setErr("".concat(t," characters or more")):null!==a&&e.length>a?this.setErr("".concat(a," characters or less")):r&&h.default.isRegExpString(r)&&h.default.toRegExp(r).test(e)&&this.setErr("invalid")}else this._requireString&&this.setErr("must be a string")}}},{key:"_stringToArrayMask",value:function(e){return(0,m.default)(e,(function(e){return"."===e?/./:e}))}},{key:"_formatMask",value:function(e){return Array.isArray(e)?e.map((function(e){return e instanceof RegExp||!h.default.isRegExpString(e)?e:h.default.toRegExp(e)})):"string"===typeof e?this._stringToArrayMask(e):e}},{key:"_formatUnmask",value:function(e){return h.default.toRegExp(e)}},{key:"set",value:function(e){var t=Object.assign({},e);void 0!==t.mask&&(t.mask=this._formatMask(t.mask)),void 0!==t.unmask&&(t.unmask=this._formatUnmask(t.unmask)),(0,l.default)((0,c.default)(n.prototype),"set",this).call(this,t)}},{key:"_conformToMask",value:function(e,t){return(0,p.conformToMask)(e,t,{guide:!1}).conformedValue}},{key:"toConformedValue",value:function(e){return this._conformToMask(e,this.get("mask"))}},{key:"getDisplayValue",value:function(){return this.isBlank()||!this.get("mask")?(0,l.default)((0,c.default)(n.prototype),"getDisplayValue",this).call(this):this.toConformedValue(this.getUIValue())}},{key:"toUnmaskedValue",value:function(e){var t=this.get("unmask");return this.isValueBlank(e)||!t?e:e.replace(t,"")}},{key:"fromUIValue",value:function(e){return this.toUnmaskedValue(e)}},{key:"getUIValue",value:function(){return this.isBlank()?"":String(this.get("value"))}},{key:"isValueBlank",value:function(e){return(0,l.default)((0,c.default)(n.prototype),"isValueBlank",this).call(this,e)||""===e}}]),n}(f.default);t.default=y}},[[392,1,2]]]);
//# sourceMappingURL=main.93fcd872.chunk.js.map