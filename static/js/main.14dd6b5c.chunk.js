(this["webpackJsonpmson-react"]=this["webpackJsonpmson-react"]||[]).push([[0],{710:function(e,t,n){},888:function(e,t,n){"use strict";n.r(t);var a=n(63),o=n.n(a),i=n(95),r=n(0),l=n.n(r),s=n(31),c=n.n(s),p=n(8),u=n(9),d=n(13),h=n(12),m=n(138),b=n(54),f=n(32),j=n.n(f),v=n(953),g=n(960),O=n(946),x=n(88),C=n(404),y=n(936),F=n(393),k=n.n(F),S=n(2),w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return Object(u.a)(n,[{key:"toFontIconName",value:function(e){return k()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,a=e.role,o=n?this.toFontIconName(n):null;return Object(S.jsx)(y.a,{className:t,onClick:this.handleClick,"aria-hidden":this.props["aria-hidden"],"aria-label":this.props["aria-label"],role:a,children:o})}}]),n}(l.a.PureComponent),D=n(965),N=n(961),T=n(955),L=n(940),E=n(893),A=n(938),P=n(939),I=n(58),B=n.n(I),V=n(48),M=n.n(V),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.items?a.setState({open:!a.state.open}):(a.props.onNavigate&&a.props.onNavigate(e),a.props.onDrawerToggle&&a.props.onDrawerToggle())},a.state={open:a.childSelected()},a}return Object(u.a)(n,[{key:"childSelected",value:function(){var e=this.props,t=e.item,n=e.path,a=!1;return B()(t.items,(function(e){if(n===e.path)return a=!0,!1})),a}},{key:"items",value:function(){var e=this,t=this.props,n=t.classes,a=t.item,o=t.path,i=[];return a.items.forEach((function(t,a){var r=o===t.path,l=[n.secondary];r&&l.push(n.selected),(!t.roles||M.a.client&&M.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&i.push(Object(S.jsx)(E.a,{button:!0,className:n.nested,onClick:function(){return e.handleClick(t)},children:Object(S.jsx)(A.a,{disableTypography:!0,primary:Object(S.jsx)(x.a,{variant:"body2",className:l.join(" "),children:t.label})})},a))})),i}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.classes,o=t.path,i=n.items?this.items():null,r=o===n.path,l=[a.primary];r&&l.push(a.selected);var s=null;return i&&(s=Object(S.jsx)(P.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0,children:Object(S.jsx)(L.a,{disablePadding:!0,children:this.items()})})),Object(S.jsxs)("div",{children:[Object(S.jsxs)(E.a,{button:!0,onClick:function(){return e.handleClick(n)},children:[Object(S.jsx)(A.a,{disableTypography:!0,primary:Object(S.jsx)(x.a,{variant:"subtitle1",className:l.join(" "),children:n.label})}),i?this.state.open?Object(S.jsx)(w,{icon:"ExpandLess"}):Object(S.jsx)(w,{icon:"ExpandMore"}):null]}),s]})}}]),n}(l.a.PureComponent),W=j()((function(e){return{nested:{paddingLeft:e.spacing(4)},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}}))(R),U=n(27),q=n(273),G=n.n(q),H=function(e,t){return function(n){return function(a){Object(d.a)(i,a);var o=Object(h.a)(i);function i(n){var a;return Object(p.a)(this,i),(a=o.call(this,n)).wasMounted=!1,a.getComponent=function(e){return e||(e=a.props),t?"string"===typeof t?e[t]:t:e.component},a.handleFieldChange=function(e,t){-1!==a.watchProps.indexOf(e)&&a.wasMounted&&a.setState(Object(b.a)({},e,t))},a.watchProps=G()(e,Object.keys(a.props)),a.hasComponent()&&(a.state=a.getComponent().get(a.watchProps)),a}return Object(u.a)(i,[{key:"hasComponent",value:function(){return!!this.getComponent()}},{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.hasComponent()&&this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.hasComponent()&&this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){if(this.hasComponent()){var e=this.getComponent().get(this.watchProps);this.setState(e)}}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return Object(S.jsx)(n,Object(U.a)(Object(U.a)({},this.state),this.props))}}]),i}(l.a.PureComponent)}},z=n(116),J=n(219),K=function(e){var t=e.onClick,n=e.icon,a=e.tooltip,o=Object(r.useState)(!1),i=Object(J.a)(o,2),l=i[0],s=i[1],c=Object(S.jsx)(C.a,{onClick:t,onMouseEnter:function(){return s(!0)},"aria-label":e["aria-label"],children:Object(S.jsx)(w,{icon:n})});return l&&a?Object(S.jsx)(g.a,{title:a,children:c}):c},$=n(223),X=n(81),Z=Object(X.a)((function(e){return{leftIcon:{marginRight:e.spacing(1)},marginTop:{marginTop:e.spacing(3)}}})),_=function(e){var t=Z(),n=e.type,a=e.disabled,o=e.label,i=e.icon,r=e.fullWidth,l=e.variant,s=e.marginTop,c=e.onClick,p=!1!==s?t.marginTop:null;return Object(S.jsxs)($.a,{className:p,type:n,color:"primary",disabled:a,onClick:function(){return function(e){e&&e()}(c)},fullWidth:r,variant:l,children:[i?Object(S.jsx)(w,{className:t.leftIcon,icon:i}):null,o]})},Y=function(e){var t=e.type,n=e.disabled,a=e.label,o=e.icon,i=e.fullWidth,r=e.variant,l=e.marginTop,s=e.onClick,c=e.tooltip;return a||!o?Object(S.jsx)(_,{type:t,disabled:n,label:a,icon:o,fullWidth:i,variant:r,marginTop:l,onClick:s}):Object(S.jsx)(K,{onClick:s,icon:o,tooltip:c})},Q=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){"submit"!==e.props.type&&e.props.component.emitClick()},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type,a=e.disabled,o=e.icon,i=e.fullWidth,r=e.variant,l=e.tooltip;return Object(S.jsx)(Y,{type:n,label:t,disabled:a,onClick:this.handleClick,icon:o,fullWidth:i,variant:r,tooltip:l})}}]),n}(l.a.PureComponent),ee=H(["label","type","disabled","icon","fullWidth","variant","tooltip"])(Q),te=n(944),ne=n(898),ae=n(899),oe=n(896),ie=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,n=e.children,a=e.classes,o=e.marginBottom,i=t?a.fullWidth:"",r=!1===o?a.noMarginBottom:"";return Object(S.jsx)(oe.a,{fullWidth:t,className:"".concat(a.formControl," ").concat(i," ").concat(r),children:n})}}]),n}(l.a.PureComponent),re=j()((function(e){return{formControl:{margin:e.spacing(1)},fullWidth:{width:"calc(100% - ".concat(e.spacing(2),"px)")},noMarginBottom:{marginBottom:0}}}))(ie),le=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.help;return Object(S.jsx)(g.a,{disableTouchListener:!0,title:e,children:Object(S.jsx)(C.a,{"aria-label":"Help",children:Object(S.jsx)(w,{icon:"HelpOutline"})})})}}]),n}(l.a.PureComponent),se=n(897),ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.shrink,o=Object.assign({},this.props,{shrink:void 0,classes:void 0}),i=a?n.shrink:n.noShrink;return Object(S.jsx)(se.a,Object(U.a)(Object(U.a)({},o),{},{className:i,children:t}))}}]),n}(l.a.PureComponent),pe=j()((function(e){return{shrink:Object(U.a)({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:Object(U.a)({},Object.assign({},e.typography.subtitle1,{color:void 0}))}}))(ce),ue=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.component,a=t.children,o=t.label,i=t.required,r=t.fullWidth,l=t.err,s=t.editable,c=t.touched,p=t.help,u=t.hideLabelUI,d=t.hideLabel,h=t.useDisplayValue,m=t.shrinkLabel,b=t.inlineLabel,f=t.marginBottom,j=t.autoHideLabel,v=null,g=n.isBlank(),O=n.getUniqueId();if(!u&&!d&&(!j||o))if(!s||h||b){var x=o||"\xa0";v=Object(S.jsx)(pe,{id:"label-".concat(O),htmlFor:O,error:!(!c||!l),required:i&&!h&&s,shrink:h||!s||m,children:x}),b||(v=Object(S.jsx)("div",{children:v}))}else v=Object(S.jsx)(ne.a,{htmlFor:O,error:!(!c||!l),required:o&&i,shrink:m,children:o});var C=n.getFirstErr();return e=Object(S.jsxs)("span",{children:[v,a,p&&s?Object(S.jsx)(le,{help:p}):"",c&&l?Object(S.jsx)(ae.a,{error:!0,children:C}):null]}),s||!g?Object(S.jsx)(re,{fullWidth:r,marginBottom:f,children:e}):null}}]),n}(l.a.PureComponent),de=ue=H(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(ue),he=n(943),me=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.id;return Object(S.jsx)(x.a,{variant:"subtitle1",component:"span",className:n.root,id:a,"aria-label":this.props["aria-label"],children:t})}}]),n}(l.a.PureComponent),be=j()((function(e){return{root:{display:"inline-block"}}}))(me),fe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.component.setValue(t.target.checked)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,a=e.component,o=e.editable,i=e.useDisplayValue,r=e.label,l=null,s=null;return o&&!i?(l=!0,s=Object(S.jsx)(he.a,{control:Object(S.jsx)(te.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:n}),label:r})):s=Object(S.jsx)(be,{children:a.getDisplayValue()}),Object(S.jsx)(de,{component:a,hideLabelUI:l,children:s})}}]),n}(l.a.PureComponent),je=H(["value","err","disabled","editable","useDisplayValue","label"])(fe),ve=n(224),ge=n(179),Oe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=n.get("content"),o=n.get("title");return Object(S.jsx)(ve.a,{container:!0,spacing:0,justify:"center",children:Object(S.jsx)(ve.a,{item:!0,xs:12,sm:9,md:6,lg:6,children:Object(S.jsx)(ge.a,{className:t.paper,children:Object(S.jsx)(ve.a,{container:!0,wrap:"nowrap",children:Object(S.jsxs)(ve.a,{item:!0,className:t.content,children:[Object(S.jsx)(x.a,{variant:"h5",component:"h2",children:o}),Object(S.jsx)(On,{component:a})]})})})})})}}]),n}(l.a.PureComponent),xe=j()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1}}}))(Oe),Ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.classes;return Object(S.jsx)("div",{className:n.root,children:Object(S.jsx)(On,{component:t})})}}]),n}(l.a.PureComponent);Ce=j()((function(e){return{root:{marginLeft:e.spacing(1)}}}))(Ce);var ye=Ce=H(["content"])(Ce),Fe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return Object(S.jsx)("div",{className:e.break})}}]),n}(l.a.PureComponent),ke=j()((function(e){return{break:{width:"100%"}}}))(Fe),Se=new(function(){function e(){Object(p.a)(this,e)}return Object(u.a)(e,[{key:"getIfDefined",value:function(e){var t={};return B()(e,(function(e,n){void 0!==e&&(t[n]=e)})),t}}]),e}()),we=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hidden,a=e.block,o=e.accessEditable,i=e.didCreate,r=e.noBlock,s=e.disabled;if(n||!i)return null;if("Field"===t.getClassName())return null;var c=bn.getUIComponent(t);return Object(S.jsxs)(l.a.Fragment,{children:[Object(S.jsx)(c,Object(U.a)({component:t,accessEditable:o,block:a},Se.getIfDefined({disabled:s}))),!r&&a?Object(S.jsx)(ke,{}):null]})}}]),n}(l.a.PureComponent),De=H(["hidden","block","didCreate"])(we),Ne=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.help,a=e.editable,o=e.useDisplayValue,i=e.block,r=e.disabled,l=[],s=!1,c=!0;return t.eachField((function(e,t,n){!c&&o&&e.isBlank()||(n&&e.get("block")&&(s=!0),l.push(Object(S.jsx)(De,{component:e,noBlock:n,disabled:r},t))),c&&(c=!1)})),n&&a&&l.push(Object(S.jsx)(le,{help:n},"help")),s&&!1!==i&&l.push(Object(S.jsx)(ke,{},"break")),l}}]),n}(l.a.PureComponent),Te=H(["change","help","editable","useDisplayValue"])(Ne),Le=n(945),Ee=n(948),Ae=n(44),Pe=n(218),Ie=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.includeTime,i=e.editable,r=e.useDisplayValue,l=e.minDate,s=e.maxDate,c=e.fullWidth,p=e.disabled,u=e.accessEditable,d=e.format,h=!1===u||p,m=!1,b=o?Le.a:Ee.a,f=null;return i&&!r?(m=!!a,f=Object(S.jsx)(Ae.a,{utils:Pe.a,children:Object(S.jsx)("span",{children:Object(S.jsx)(b,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,minDate:l,maxDate:s,onClose:this.handleBlur,fullWidth:c,disabled:h,id:t.getUniqueId(),format:d})})})):f=Object(S.jsx)(be,{children:t.getDisplayValue()}),Object(S.jsx)(de,{component:t,shrinkLabel:m,children:f})}}]),n}(l.a.PureComponent);Ie=j()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Ie);var Be=H(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled","format"])(Ie),Ve=n(85),Me=n.n(Ve),Re=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;if(Object(p.a)(this,n),(a=t.call(this,e)).state={fieldsCanAccess:null},a.handleSave=function(e){e.preventDefault();var t=a.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},a.turnOnAutoValidate(),e.access){var o=a.calcFieldsCanAccess();a.state.fieldsCanAccess=o}return a}return Object(u.a)(n,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e,t=this.props,n=t.component,a=t.mode,o=Me.a.fieldsCanAccess(a||"update",n,null,!0),i=Object(m.a)(n.getFields());try{for(i.s();!(e=i.n()).done;){var r=e.value,l=void 0===o[r.get("name")];r.set({ignoreErrs:l})}}catch(s){i.e(s)}finally{i.f()}return o}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.component,o=n.access,i=n.mode;e.component!==a&&this.turnOnAutoValidate(),e.access===o&&e.mode===i&&e.component===a&&e.value===this.props.value||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.formTag,a=e.isLoading,o=e.disabled,i=this.state.fieldsCanAccess,r=t.get("fields");if(a)return null;var l=t.getKey(),s=r.map((function(e,t){if(null===i||void 0!==i[e.get("name")]){var n=null;return null!==i&&"read"===i[e.get("name")]&&(n=!1),Object(S.jsx)(De,{component:e,accessEditable:n,disabled:o},l+"_"+t)}return null}));return!1!==n?Object(S.jsx)("form",{onSubmit:this.handleSave,children:s}):s}}]),n}(l.a.PureComponent),We=H(["access","mode","isLoading","change","value"])(Re),Ue=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=e.disabled,i=t.isBlank(),r=t.get("form");return Object(S.jsxs)("span",{children:[!n&&Object(S.jsx)(de,{component:t,inlineLabel:"true",shrinkLabel:!i,marginBottom:!1}),Object(S.jsx)(ke,{}),Object(S.jsx)("span",{className:a.root,children:Object(S.jsx)(On,{component:r,formTag:!1,disabled:o})})]})}}]),n}(l.a.PureComponent);Ue=j()((function(e){return{root:{marginLeft:e.spacing(2),display:"flex",flexFlow:"wrap"}}}))(Ue);var qe=H(["hideLabel","value"])(Ue),Ge=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(S.jsx)(l.a.Fragment,{children:this.props.items.map((function(e,t){return Object(S.jsx)(On,{component:e},t)}))})}}]),n}(l.a.PureComponent),He=H(["items"])(Ge),ze=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hidden,n=e.content,a=e.xl,o=e.lg,i=e.md,r=e.sm,l=e.xs;return t?null:Object(S.jsx)(ve.a,{item:!0,xl:a,lg:o,md:i,sm:r,xs:l,children:Object(S.jsx)(On,{component:n})})}}]),n}(l.a.PureComponent),Je=H(["hidden","content","xl","lg","md","sm","xs"])(ze),Ke=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(S.jsx)(ve.a,{container:!0,children:this.props.items.map((function(e,t){return Object(S.jsx)(Je,{component:e},t)}))})}}]),n}(l.a.PureComponent),$e=H(["items"])(Ke),Xe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.editable,o=e.disabled,i=e.archivedAt,r=e.onEdit,l=e.onDelete,s=e.id,c=null;t||(c=Object(S.jsx)(K,{onClick:r,icon:"Edit",tooltip:"Edit","aria-label":"Edit ".concat(s)}));var p=null;if(!n){var u=i?"Restore":"Delete";p=Object(S.jsx)(K,{onClick:l,icon:u,tooltip:u,"aria-label":"Delete ".concat(s)})}return!a||o||t&&n?null:Object(S.jsxs)(ve.a,{item:!0,children:[c,p]})}}]),n}(l.a.PureComponent),Ze=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){e.props.onClick&&e.props.onClick(t,e.props.component)},e.handleEdit=function(t,n){e.props.onEdit&&e.props.onEdit(t,e.props.component)},e.handleDelete=function(t){e.props.onDelete&&e.props.onDelete(e.props.component)},e}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.classes,o=n.component,i=n.forbidUpdate,r=n.forbidDelete,l=n.editable,s=n.disabled,c=n.value,p=n.buttons,u=n.id;return e=p?Object(S.jsx)(On,{component:p}):Object(S.jsx)(Xe,{forbidUpdate:i,forbidDelete:r,editable:l,disabled:s,archivedAt:c.archivedAt,onEdit:function(e){return t.handleEdit(e)},onDelete:function(e){return t.handleDelete(e)},id:u}),Object(S.jsx)("div",{children:Object(S.jsx)(ge.a,{className:a.paper,children:Object(S.jsxs)(ve.a,{container:!0,wrap:"nowrap",children:[Object(S.jsx)(ve.a,{item:!0,className:a.content,onClick:function(e){return t.handleClick(e)},role:"button","aria-label":this.props["aria-label"],id:u,children:Object(S.jsx)(On,{component:o,formTag:!1,mode:"read"})}),e]})})})}}]),n}(l.a.PureComponent);Ze=j()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1,cursor:"pointer"}}}))(Ze);var _e=H(["value"])(Ze),Ye=n(903),Qe=n(906),et=n(949),tt=n(905),nt=n(62),at=n.n(nt),ot=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={saveClicked:!1,previousMode:null},e.handleClose=function(t){var n=e.props,a=n.mode,o=n.onClose,i=n.onCancel,r=n.currentForm;(t||"update"!==a)&&("update"===a?i&&i(r):o&&o(r))},e.handleEdit=function(){e.props.onEdit&&e.props.onEdit(e.props.currentForm)},e.handleSave=function(t){t.preventDefault(),e.props.disableSubmit||(e.props.onSave&&e.props.onSave(),e.setState({saveClicked:!0}))},e.handleDelete=function(){e.props.onDelete&&e.props.onDelete(e.props.currentForm)},e}return Object(u.a)(n,[{key:"isOpen",value:function(){var e=this.props.mode;return e!==at.a.MODES.DELETE&&e!==at.a.MODES.RESTORE&&!!e}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.mode,a=t.component,o=t.forbidUpdate,i=t.forbidDelete,r=t.value,l=t.fullScreen,s=this.state,c=s.saveClicked,p=s.previousMode,u=a.hasErrorForTouchedField()||!a.get("dirty")||c,d=this.isOpen(),h=null;return"update"===n||"create"===n||null===n&&("update"===p||"create"===p)?h=Object(S.jsxs)("div",{children:[Object(S.jsx)(Y,{type:"submit",label:"Save",icon:"Save",disabled:u}),Object(S.jsx)(Y,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})]}):o&&i||(h=Object(S.jsxs)("div",{children:[o?"":Object(S.jsx)(Y,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),i?"":Object(S.jsx)(Y,{label:r.archivedAt?"Restore":"Delete",icon:r.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),Object(S.jsx)(Y,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})]})),Object(S.jsx)(Ye.a,{fullScreen:l,open:d,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title",children:Object(S.jsxs)("form",{onSubmit:this.handleSave,children:[Object(S.jsx)(tt.a,{children:Object(S.jsx)(On,{component:a,formTag:!1,mode:n})}),h?Object(S.jsx)(Qe.a,{children:h}):""]})})}}]),n}(l.a.PureComponent);ot=Object(et.a)()(ot);var it=ot=H(["err","dirty","value","mode","disableSubmit"])(ot),rt=n(951),lt=n(950),st=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClose=function(t){e.props.onClose&&e.props.onClose(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.text,o=t.open,i=t.alert;return Object(S.jsx)("div",{children:Object(S.jsxs)(Ye.a,{open:o,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(S.jsx)(lt.a,{id:"alert-dialog-title",children:n||""}),Object(S.jsx)(tt.a,{children:Object(S.jsx)(rt.a,{id:"alert-dialog-description",children:a})}),Object(S.jsxs)(Qe.a,{children:[i?null:Object(S.jsx)($.a,{onClick:function(){return e.handleClose(!1)},color:"primary",children:"No"}),Object(S.jsx)($.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0,children:i?"OK":"Yes"})]})]})})}}]),n}(l.a.PureComponent),ct=(n(710),n(952)),pt=n(908),ut=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var t="ASC"===e.props.sortOrder?"DESC":"ASC";e.props.onChange({sortOrder:t})},e.handleChange=function(t){e.props.onChange({sortBy:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.sortBy,a="DESC"!==e.sortOrder,o=e.options.map((function(e){return Object(S.jsx)(ct.a,{value:e.value,children:e.label},e.value)}));return Object(S.jsxs)("div",{children:[Object(S.jsx)(oe.a,{className:t.formControl,children:Object(S.jsxs)(pt.a,{value:n,onChange:this.handleChange,children:[Object(S.jsx)(ct.a,{value:"",children:Object(S.jsx)("em",{children:"None"})}),o]})}),Object(S.jsx)(C.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick,children:Object(S.jsx)(w,{icon:"Sort",className:a?t.flip:null})})]})}}]),n}(l.a.PureComponent),dt=j()((function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}}))(ut),ht=n(175),mt=n.n(ht),bt=n(222),ft=function(e,t,n){return Object(U.a)({userSelect:"none",padding:n.spacing(.125),margin:"0 0 ".concat(n.spacing(.125),"px 0"),background:e?n.palette.secondary[400]:void 0},t)},jt=function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}},vt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={sortBy:"",sortOrder:"ASC"},e.handleClose=function(){e.props.component.set({mode:null})},e.handleCancel=function(t){var n=e.props,a=n.component,o=n.preventReadAction;a.get("skipRead")||o?a.set({mode:null}):a.set({currentForm:t,mode:at.a.MODES.READ})},e.handleClick=function(t){var n=e.props.component;n.get("skipRead")?n.set({currentForm:t,mode:at.a.MODES.UPDATE}):n.set({currentForm:t,mode:at.a.MODES.READ})},e.handleEdit=function(t){e.props.component.set({currentForm:t,mode:at.a.MODES.UPDATE})},e.handleNew=function(){e.props.component.set({currentForm:null,mode:at.a.MODES.CREATE})},e.handleSave=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.component.save();case 2:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var t=Object(i.a)(o.a.mark((function t(n){var a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.component,i=n||a.get("form"),i.getValue("archivedAt")?a.set({currentForm:i,mode:at.a.MODES.RESTORE}):n&&a.set({currentForm:n,mode:at.a.MODES.DELETE});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleConfirmationClose=function(){var t=Object(i.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.component,!n){t.next=4;break}return t.next=4,a.archive(a.get("form"));case 4:a.set({mode:null});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleOrdering=function(t){e.setState(t,(function(){e.props.component.set({order:e.state.sortBy?[[e.state.sortBy,e.state.sortOrder]]:null})}))},e.onDragEnd=function(t){t.destination&&t.destination.index!==t.source.index&&e.props.component.moveAndSaveForm({sourceIndex:t.source.index,destinationIndex:t.destination.index})},e}return Object(u.a)(n,[{key:"canCreate",value:function(){return Me.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return Me.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return Me.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,n=e.showArchived,a=e.searchString,o=e.order;return!t&&!n&&!a&&!o}},{key:"cards",value:function(e,t){var n,a=this,o=this.props,i=o.component,r=o.forbidUpdate,l=o.forbidDelete,s=o.forbidOrder,c=o.editable,p=o.disabled,u=o.useDisplayValue,d=o.theme,h=12/(!1===s?1:this.props.maxColumns),b=[],f=0,j=Object(m.a)(i.getForms());try{var v=function(){var o=n.value;o.setEditable(!1);var s=o.getUniqueId(),m=i.getUniqueItemId(i._getFormKey(o)),j=i.getFormExtras(o),v=Object(S.jsx)(ve.a,{item:!0,xs:12,sm:h,lg:h,id:m,children:Object(S.jsx)(_e,{onClick:function(){return a.handleClick(o)},onEdit:function(){return a.handleEdit(o)},onDelete:a.handleDelete,component:o,forbidUpdate:r||!e||u,forbidDelete:l||!t||u,editable:c,disabled:p,buttons:null===j||void 0===j?void 0:j.buttons,id:m,"aria-label":"View ".concat(m)})},s);a.canDrag()?b.push(Object(S.jsx)(bt.b,{draggableId:m,index:f++,children:function(e,t){return Object(S.jsx)("div",Object(U.a)(Object(U.a)(Object(U.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:ft(t.isDragging,e.draggableProps.style,d),"aria-label":"Drag ".concat(m),children:v}))}},m)):b.push(v)};for(j.s();!(n=j.n()).done;)v()}catch(g){j.e(g)}finally{j.f()}return b}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),n=Me.a.fieldsCanAccess("read",t),a=[];return t.eachField((function(e){var o=e.get("name");void 0===n[o]||e.get("forbidSort")||e.get("hidden")||e instanceof mt.a||a.push({value:(t.isDefaultField(o)?"":"fieldValues.")+o,label:e.get("label")})})),a}}},{key:"header",value:function(e){var t=this.props,n=t.forbidCreate,a=t.editable,o=t.disabled,i=t.component,r=t.forbidSort,l=t.store,s=t.useDisplayValue,c=this.state,p=c.sortBy,u=c.sortOrder,d=i.getSingularLabel(),h=i.reachedMax(),m=this.canCreate(),b=a&&!o&&!s&&!n&&!h&&m,f=!r,j=this.sortOptions(),v=e>0&&!!l;return Object(S.jsxs)(ve.a,{container:!0,spacing:0,children:[Object(S.jsx)(ve.a,{item:!0,xs:12,sm:6,lg:6,children:b?Object(S.jsx)(Y,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+d,marginTop:!1}):null}),Object(S.jsx)(ve.a,{item:!0,xs:12,sm:6,lg:6,align:"right",children:v&&f?Object(S.jsx)(dt,{onChange:this.handleOrdering,sortBy:p,sortOrder:u,options:j}):null})]})}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.component,o=e.spacerHeight,i=e.classes,r=e.isLoading,l=e.form,s=e.currentForm,c=e.noResults,p=e.disabled,u=e.accessEditable,d=e.useDisplayValue,h=e.theme,m=e.preventUpdate,b=e.preventDeleteAction,f=e.mode,j=!1===u||p,v=!1,g=null;b||!s||f!==at.a.MODES.DELETE||s.getValue("archivedAt")||(v=!0,g="Delete this?");var O=a.get("label").toLowerCase(),C=this.canUpdate(),y=this.canArchive(),F={height:o},k=a.get("spacerId"),D=this.cards(C,y),N=D;this.canDrag()&&(N=Object(S.jsx)(bt.a,{onDragEnd:this.onDragEnd,children:Object(S.jsx)(bt.c,{droppableId:"droppable",children:function(e,t){return Object(S.jsxs)("div",{ref:e.innerRef,style:jt(t.isDraggingOver,h),children:[D,e.placeholder]})}})}));var T=a.get("searchString")&&c,L=this.header(D.length);return Object(S.jsxs)("div",{children:[L,T?Object(S.jsxs)(x.a,{variant:"h4",children:[Object(S.jsx)(w,{icon:"Info"})," No ",O," found"]}):null,Object(S.jsx)("div",{id:k,className:i.spacer,style:F}),Object(S.jsx)(ve.a,{container:!0,spacing:0,children:N}),r?Object(S.jsx)("div",{className:i.footer}):null,Object(S.jsx)(it,{component:l,currentForm:s,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!C||j||d||m,forbidDelete:n||!y||j||d||b}),Object(S.jsx)(st,{open:v,onClose:this.handleConfirmationClose,title:g})]})}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=t.isBlank();return Object(S.jsxs)("span",{className:a.root,children:[!n&&Object(S.jsx)(de,{component:t,inlineLabel:"true",shrinkLabel:!o}),this.field()]})}}]),n}(l.a.PureComponent);vt=j()((function(e){return{root:{width:"100%"},spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing(1),marginRight:e.spacing(1),animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing(1),animation:"fadeIn 1s infinite alternate"}}}),{withTheme:!0})(vt);var gt=vt=H(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order","preventReadAction","preventUpdate","preventDeleteAction","buttonsFactory"])(vt),Ot=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDelete=function(){e.props.component.emit("delete")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.help,o=e.disabled,i=e.editable;if(t){var r=t.get("block");return Object(S.jsxs)("span",{children:[Object(S.jsx)(De,{component:t,block:!1,disabled:o}),n&&!o&&i?Object(S.jsx)(C.a,{"aria-label":"Delete",onClick:this.handleDelete,children:Object(S.jsx)(w,{icon:"DeleteIcon"})}):null,a&&i?Object(S.jsx)(le,{help:a}):"",r?Object(S.jsx)(ke,{}):null]})}return null}}]),n}(l.a.PureComponent),xt=H(["value","disabled","editable"])(Ot),Ct=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleNew=function(){e.props.component.createField(),e.props.component.set({touched:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.useDisplayValue,o=e.autoCreateFields,i=e.hideLabel,r=e.editable,l=e.canDeleteEmpty,s=e.accessEditable,c=e.disabled,p=e.hideDeleteButton,u=t.getSingularLabel(),d=!1===s||c,h=[],m=!0,b=t.isBlank();return t.eachField((function(e,t){var o=e.isBlank();!m&&a&&o||h.push(Object(S.jsx)(xt,{component:e,allowDelete:n&&!a&&(l||!o)&&!p,disabled:c},t)),m&&(m=!1)})),o||a||!r||d||h.push(Object(S.jsx)(Y,{"aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(u||""),marginTop:!1},"button")),Object(S.jsxs)("span",{children:[!i&&Object(S.jsx)(de,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!b}),Object(S.jsx)("div",{children:h})]})}}]),n}(l.a.PureComponent),yt=H(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Ct),Ft=n(403),kt=n(41),St=n.n(kt),wt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.component.setValue(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.editable,a=e.accessEditable,o=e.classes,i=e.useDisplayValue,r=!1!==a&&n&&!t,l=St.a.get("reCAPTCHASiteKey");return r&&!i?Object(S.jsx)("div",{className:o.captcha,children:Object(S.jsx)(Ft.a,{ref:"recaptcha",sitekey:l,onChange:this.handleChange})}):null}}]),n}(l.a.PureComponent);wt=j()((function(e){return{captcha:{margin:e.spacing(1)}}}))(wt);var Dt=H(["disabled","editable","useDisplayValue"])(wt),Nt=n(959),Tt=n(900),Lt=n(963),Et=n(145),At=n.n(Et),Pt=n(401),It=n(7),Bt=n(947),Vt=n(272),Mt=["inputRef"];function Rt(e){var t=e.inputRef,n=Object(z.a)(e,Mt);return Object(S.jsx)("div",Object(U.a)({ref:t},n))}var Wt={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),Object(S.jsx)(Bt.a,Object(U.a)(Object(U.a)({},t),{},{InputProps:{inputComponent:Rt,inputProps:Object(U.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children,"aria-label":e.selectProps.ariaLabel},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return Object(S.jsx)(ge.a,Object(U.a)(Object(U.a)({square:!0,className:e.selectProps.classes.paper},e.innerProps),{},{children:e.children}))},MultiValue:function(e){var t;return Object(S.jsx)(Lt.a,{tabIndex:-1,label:e.children,className:At()(e.selectProps.classes.chip,(t={},Object(b.a)(t,e.selectProps.classes.chipFocused,e.isFocused),Object(b.a)(t,e.selectProps.classes.disabled,e.selectProps.isDisabled),t)),onDelete:e.removeProps.onClick,deleteIcon:Object(S.jsx)(w,{icon:"Cancel","aria-label":"Remove",role:"button","aria-hidden":"false"})})},NoOptionsMessage:function(e){return Object(S.jsx)(x.a,Object(U.a)(Object(U.a)({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),{},{children:e.children}))},Option:function(e){return Object(S.jsx)(ct.a,Object(U.a)(Object(U.a)({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),{},{children:e.children}))},SingleValue:function(e){return Object(S.jsx)(x.a,Object(U.a)(Object(U.a)({className:At()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),{},{children:e.children}))},ValueContainer:function(e){return Object(S.jsx)("div",{className:e.selectProps.classes.valueContainer,children:e.children})}},Ut=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.isClearable,o=e.placeholder,i=e.onChange,r=e.onBlur,l=e.onFocus,s=e.onInputChange,c=e.value,p=e.isDisabled,u=e.fullWidth,d=e.isMulti,h=e.id,m={dropdownIndicator:function(e){return Object(U.a)(Object(U.a)({},e),{},{cursor:"pointer"})},clearIndicator:function(e){return Object(U.a)(Object(U.a)({},e),{},{cursor:"pointer"})},menuPortal:function(e){return Object(U.a)(Object(U.a)({},e),{},{zIndex:2e3})}};return Object(S.jsx)(Pt.a,{id:h,className:At()(t.root,u&&t.fullWidth),classes:t,styles:m,options:n,components:Wt,value:c,onChange:i,onBlur:r,onFocus:l,onInputChange:s,placeholder:o,isClearable:a,isDisabled:p,fullWidth:u,isMulti:d,menuPortalTarget:document.body,ariaLabel:this.props["aria-label"]})}}]),n}(l.a.Component),qt=Object(It.a)((function(e){return{input:{display:"flex",padding:0,minWidth:240,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:e.spacing(2)+5},chip:{margin:"".concat(e.spacing(1),"px ").concat(e.spacing(.25),"px")},chipFocused:{backgroundColor:Object(Vt.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1)},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}}))(Ut),Gt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={focus:!1},e}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e?e.map((function(e){return e.value})):null):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,n=e.blankString,a=e.value,o=e.multiple;if(t){var i=[];return!o&&n&&i.push(Object(S.jsx)(ct.a,{value:"",children:Object(S.jsx)("em",{children:n})},"")),t.forEach((function(e){if(o){var t=!!a&&-1!==a.indexOf(e.value);i.push(Object(S.jsxs)(ct.a,{value:e.value,children:[Object(S.jsx)(Nt.a,{checked:t}),Object(S.jsx)(A.a,{primary:e.label})]},e.value))}else i.push(Object(S.jsx)(ct.a,{value:e.value,children:e.label},e.value))})),i}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.err,o=t.touched,i=t.disabled,r=t.component,l=t.fullWidth,s=t.classes,c=t.editable,p=t.multiple,u=t.accessEditable,d=t.useDisplayValue,h=t.options,m=t.autocomplete,b=this.state.focus,f=!1===u||i,j=p?[]:"";n&&(j=n);var v=void 0,g=void 0;p&&(v=Object(S.jsx)(Tt.a,{}),g=function(e){return Object(S.jsx)("div",{className:s.chips,children:e.map((function(e){return Object(S.jsx)(Lt.a,{label:r.getOptionLabel(e),className:s.chip},e)}))})});var O={},x=null,C=r.get("label");if(c&&!d)if(m){var y=null;y=p?j.map((function(e){return{value:e,label:r.getOptionLabel(e)}})):{value:j,label:r.getOptionLabel(j)},!b&&r.isValueBlank(j)||(O.shrinkLabel=!0),x=Object(S.jsx)(qt,{id:r.getUniqueId(),options:h,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:y,isDisabled:f,fullWidth:l,isMulti:p,"aria-label":C})}else x=Object(S.jsx)(pt.a,{id:r.getUniqueId(),multiple:p,error:!(!o||!a),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:v,renderValue:g,value:j,disabled:f,fullWidth:l,className:s.formControl,"aria-label":C,children:this.renderOptions()});else{var F=null;F=p&&n?n.map((function(e){return Object(S.jsx)(Lt.a,{label:r.getOptionLabel(e),className:s.chip},e)})):r.getDisplayValue(),x=Object(S.jsx)(be,{"aria-label":C,children:F})}return Object(S.jsx)(de,Object(U.a)(Object(U.a)({component:r},O),{},{children:x}))}}]),n}(l.a.PureComponent);Gt=j()((function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing(.25)}}}))(Gt);var Ht=H(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(Gt),zt=n(907),Jt=n(405),Kt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var a=e.props,o=a.component,i=a.items;o.set({value:n});var r=i[n].name;o.emitChange(r)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.value;return Object(S.jsx)(v.a,{position:"static",color:"default",elevation:1,children:Object(S.jsx)(zt.a,{value:n,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"fullWidth",children:t.map((function(e,t){return Object(S.jsx)(Jt.a,{label:e.label,icon:Object(S.jsx)(w,{icon:e.icon})},t)}))})})}}]),n}(l.a.Component),$t=Kt=H(["items","value"])(Kt),Xt=n(954),Zt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.editable,i=e.useDisplayValue,r=e.showSeconds,l=e.fullWidth,s=e.disabled,c=!1===e.accessEditable||s,p=!1,u=null;return o&&!i?(p=!!a,u=Object(S.jsx)(Ae.a,{utils:Pe.a,children:Object(S.jsx)("span",{children:Object(S.jsx)(Xt.a,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,seconds:r,onClose:this.handleBlur,fullWidth:l,disabled:c,invalidDateMessage:""})})})):u=Object(S.jsx)(be,{children:t.getDisplayValue()}),Object(S.jsx)(de,{component:t,shrinkLabel:p,children:u})}}]),n}(l.a.PureComponent);Zt=j()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Zt);var _t=H(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(Zt),Yt=n(395),Qt=n.n(Yt),en=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.text;return Object(S.jsx)(x.a,{component:"div",children:Object(S.jsx)(Qt.a,{source:e})})}}]),n}(l.a.PureComponent),tn=en=H(["text"])(en),nn=n(396),an=n.n(nn),on=["inputRef"],rn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props.component,n=t.fromUIValue(e.target.value);t.setValue(n)},a.handleBlur=function(){a.props.component.setTouched(!0)},a.handleKeyUp=function(e){13===e.keyCode&&a.props.component.setTouched(!0)},a.TextMaskCustom=function(e){var t=e.inputRef,n=Object(z.a)(e,on),o=a.props.mask;return Object(S.jsx)(an.a,Object(U.a)(Object(U.a)({},n),{},{ref:function(e){t(e?e.inputElement:null)},mask:o}))},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.err,n=e.maxLength,a=e.touched,o=e.disabled,i=e.component,r=e.fullWidth,l=e.type,s=e.editable,c=e.accessEditable,p=e.multiline,u=e.rows,d=e.rowsMax,h=e.useDisplayValue,m=e.mask,b=e.displayValue,f=!1===c||o,j=null;if(s&&!h){var v={};m&&(v.inputComponent=this.TextMaskCustom);var g=i.getUIValue();j=Object(S.jsx)(Tt.a,Object(U.a)({id:i.getUniqueId(),error:!(!a||!t),inputProps:{maxLength:n},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:g||"",disabled:f,fullWidth:r,type:l,multiline:p,rows:u,rowsMax:d},v))}else j=Object(S.jsx)(be,{id:i.getUniqueId(),"aria-label":i.get("label"),children:b||i.getDisplayValue()});return Object(S.jsx)(de,{component:i,children:j})}}]),n}(l.a.PureComponent),ln=H(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(rn),sn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.value,a=e.editable,o=e.useDisplayValue,i=e.newWindow,r=null;if((!a||o)&&n){var l=n;0!==l.indexOf("http")&&(l="http://"+l),r=Object(S.jsx)("a",{href:l,rel:"noreferrer",target:i?"_blank":"_self",children:n})}return Object(S.jsx)(ln,{component:t,displayValue:r})}}]),n}(l.a.PureComponent),cn=H(["value","editable","useDisplayValue","newWindow"])(sn),pn={ButtonField:ee,BooleanField:je,Card:xe,ChainedSelectField:Te,ChainedSelectListField:yt,ComponentField:ye,CompositeField:Te,DateField:Be,Field:De,Form:We,FormField:qe,Fragment:He,Grid:$e,GridItem:Je,CollectionField:gt,IdField:ln,IntegerField:ln,ListField:yt,MoneyField:ln,NumberField:ln,PhoneField:ln,ReCAPTCHAField:Dt,SelectField:Ht,SelectListField:yt,Tabs:$t,TimeField:_t,Text:tn,TextField:ln,TextListField:yt,URLField:cn,User:We},un=function(e,t){pn[e]=t},dn=pn,hn=n(65),mn=n.n(hn),bn=new(function(){function e(){Object(p.a)(this,e)}return Object(u.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),n=dn[t];if(e.get("render"))return e.get("render");if(void 0!==n)return n;if(mn.a.isCompiled(mn.a.getComponent(t))){var a=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new a)}var o=mn.a.getOldestCompiledAncestor(t),i=mn.a.getComponent(o);return this.getUIComponent(new i)}}]),e}()),fn=["component"],jn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var a=e.props,o=a.on,i=a.component;o&&o({name:t,value:n,component:i});var r="on"+t.charAt(0).toUpperCase()+t.slice(1);e.props[r]&&e.props[r]({value:n,component:i})},e}return Object(u.a)(n,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(z.a)(e,fn);if(t){var a=bn.getUIComponent(t);return Object(S.jsx)(a,Object(U.a)({component:t},n))}return null}}]),n}(l.a.PureComponent),vn=["definition","component"],gn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={component:null},e}return Object(u.a)(n,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:mn.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),n=Object(z.a)(e,vn),a=t;return t||(a=this.state.component),a&&a.get("hidden")?null:Object(S.jsx)(jn,Object(U.a)({component:a},n))}}]),n}(l.a.PureComponent),On=H(["hidden"])(gn),xn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDrawerToggle=function(){e.props.onDrawerToggle&&e.props.onDrawerToggle()},e.handleNavigate=function(t){e.props.onNavigate&&e.props.onNavigate(t)},e}return Object(u.a)(n,[{key:"items",value:function(){var e=this,t=this.props,n=t.component,a=t.path,o=n.get("items"),i=[];return o.forEach((function(t,n){(!t.roles||M.a.client&&M.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&i.push(Object(S.jsx)(W,{item:t,onNavigate:e.handleNavigate,path:a,onDrawerToggle:e.handleDrawerToggle},n))})),i}},{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.theme,o=t.mobileOpen,i=t.responsive,r=t.header;e=this.items();var l=r&&Object(S.jsx)(On,{component:r}),s=Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:n.drawerHeader,children:l}),Object(S.jsx)(T.a,{}),e]}),c=Object(S.jsx)(D.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:o,classes:{paper:n.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0},children:s}),p=Object(S.jsx)(D.a,{variant:"permanent",open:!0,classes:{paper:n.drawerPaper+(i?" ".concat(n.drawPaperResponsive):"")},children:s});return i?Object(S.jsxs)("div",{children:[Object(S.jsx)(N.a,{mdUp:!0,children:c}),Object(S.jsx)(N.a,{smDown:!0,implementation:"css",children:p})]}):c}}]),n}(l.a.PureComponent);xn=j()((function(e){return{drawerHeader:{},drawerPaper:{width:250},drawPaperResponsive:Object(b.a)({},e.breakpoints.up("md"),{width:240,position:"fixed",height:"100vh"})}}),{withTheme:!0})(xn);var Cn=xn=H(["items","header"])(xn),yn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={autoFullWidth:!1},e.handleKeyUp=function(t){13===t.keyCode&&e.props.onSearch(e.props.searchString)},e.handleClearSearch=function(t){e.props.onSearch("")},e.handleFocus=function(){e.setState({autoFullWidth:!0})},e.handleBlur=function(){e.setState({autoFullWidth:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.searchString,o=e.onChange,i=e.fullWidth,r=this.state.autoFullWidth,l=i||r;return Object(S.jsxs)("div",{className:At()(n,l?t.grow:null),children:[Object(S.jsx)(Bt.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:a,onKeyUp:this.handleKeyUp,onChange:function(e){return o(e.target.value)},className:t.textField,onFocus:this.handleFocus,onBlur:this.handleBlur}),Object(S.jsxs)("div",{className:t.iconContainer,children:[Object(S.jsx)(w,{icon:"Search",className:t.searchIcon}),Object(S.jsx)(C.a,{color:"inherit","aria-label":"clear search",onClick:this.handleClearSearch,className:t.closeIcon,children:Object(S.jsx)(w,{icon:"Close"})})]})]})}}]),n}(l.a.PureComponent),Fn=yn=j()((function(e){return{textField:{width:"100%"},textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 34px 10px 34px",marginTop:"2px",width:"calc(100%)",color:e.palette.common.white},iconContainer:{position:"relative",width:"100%",height:"0px"},searchIcon:{position:"absolute",top:"-31px",left:"6px"},closeIcon:{position:"absolute",top:"-43px",right:"-5px"},grow:{flexGrow:1}}}))(yn),kn=n(47),Sn=n(123),wn=n.n(Sn),Dn=n(410),Nn=n(962),Tn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClose=function(t,n){"clickaway"!==n&&e.props.onClose&&e.props.onClose()},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.message,a=e.open;return Object(S.jsx)(Nn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:Object(S.jsx)("span",{id:"message-id",children:n}),action:[Object(S.jsx)(C.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose,children:Object(S.jsx)(w,{icon:"Close"})},"close")]})}}]),n}(l.a.PureComponent),Ln=j()((function(e){return{close:{padding:e.spacing(.5)}}}))(Tn),En=n(50),An=n.n(En),Pn=n(113),In=n.n(Pn),Bn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchStringInput:"",showSearch:!1,showSearchOnMobile:!1},a.form=null,a.path=null,a.onNavigate=function(e){var t=a.state.menuItem;t&&t.producedContent.has("dirty")&&t.producedContent.get("dirty")&&!t.fullScreen?St.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.handleNavigate=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push(t.path);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.confirmation).callback&&t&&n.callback(t),a.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.switchContent=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var i,r,l,s,c,p,u,d,h,m,b,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=a.state.currentComponent)&&i.emitUnload(),!(r=t&&t.content)){e.next=20;break}if(l=a.props,s=l.location,c=l.component,p=c.get("menu"),St.a.set({route:p.toRoute({parameters:n,queryString:s.search.substr(1),hash:s.hash.substr(1)})}),u=p.getParent(t.path),!a.requireAccess(t.roles)||u&&!a.requireAccess(u.roles)){e.next=18;break}if(d=null,!(r instanceof An.a)){e.next=16;break}return e.next=13,r.run({component:r});case 13:d=e.sent,e.next=17;break;case 16:d=r;case 17:d&&d instanceof wn.a&&(t.producedContent=d,(h=d).emitLoad(),m=a.canArchive(h),b=m.canArchive,f=m.canSearch,St.a.set({searchString:null}),a.setState({menuItem:t,showArchived:!1,showArchivedToggle:b,searchStringInput:"",showSearch:f,currentComponent:h}));case 18:e.next=21;break;case 20:a.setState({currentComponent:null});case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onLocation=function(e){St.a.set({path:e.pathname,pathHash:e.hash,pathSearch:e.search})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleArchivedChange=function(e){a.setState({showArchived:e.target.checked});var t=a.state.menuItem;t&&(t.producedContent.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},a.handleSearchStringInputChange=function(e){a.setState({searchStringInput:e})},a.handleSearch=function(e){a.setState({searchStringInput:e},(function(){St.a.set({searchString:e||null})}))},a.toggleShowSearch=function(){a.setState({showSearchOnMobile:!a.state.showSearchOnMobile})},a.setGlobalOnNavigate(),a}return Object(u.a)(n,[{key:"setGlobalOnNavigate",value:function(){St.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;St.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.props.component.get("menu").getItemAndParsePath(e);return this.switchContent(t.item,t.params)}},{key:"canArchive",value:function(e){var t=!1,n=!1;if(e&&e instanceof In.a){var a,o=Object(m.a)(e.getFields());try{for(o.s();!(a=o.n()).done;){var i=a.value;i instanceof at.a&&(t=!i.get("forbidViewArchived")&&Me.a.canArchive(i.get("form")),n=!i.get("forbidSearch"))}}catch(r){o.e(r)}finally{o.f()}}return{canArchive:t,canSearch:n}}},{key:"emitLoggedOut",value:function(){St.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||M.a.client&&M.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentDidUpdate",value:function(e){var t=St.a.get("snackbarMessage");if(t&&(this.displaySnackbar(t),St.a.set({snackbarMessage:null})),this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path===e.path&&this.props.pathHash===e.pathHash&&this.props.pathSearch===e.pathSearch||this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var n=this.state.menuItem;n&&n.producedContent.has("searchString")&&n.producedContent.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),M.a.client&&M.a.client.user.awaitSession(),this.onLocation(this.props.location),window.addEventListener("scroll",(function(t){var n=e.state.menuItem;n&&n.producedContent.emit("scroll",t)})),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"archivedToggle",value:function(){var e=this.state,t=e.showArchived,n=!!t,a=null;return e.showArchivedToggle&&(a=Object(S.jsx)(g.a,{title:t?"Show Active":"Show Deleted",children:Object(S.jsx)(te.a,{onChange:this.handleArchivedChange,checked:n})})),a}},{key:"searchBox",value:function(e){var t=this.props.classes,n=this.state,a=n.searchStringInput,o=null;return n.showSearch&&(o=Object(S.jsx)(Fn,{fullWidth:e,className:t.alignRight,searchString:a,onChange:this.handleSearchStringInputChange,onSearch:this.handleSearch})),o}},{key:"menuButton",value:function(){var e=this.props.classes,t=this.isResponsive();return Object(S.jsx)(C.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:t?e.navIconHide:"",children:Object(S.jsx)(w,{icon:"Menu"})})}},{key:"title",value:function(){var e=this.state.menuItem;return Object(S.jsx)(x.a,{variant:"h6",color:"inherit",noWrap:!0,children:e?e.label:""})}},{key:"appBar",value:function(){var e=this.props,t=e.classes,n=e.width,a=this.state.showSearchOnMobile,o=Object(Dn.b)("sm",n),i=this.isResponsive(),r=null;return r=o?a?Object(S.jsxs)(l.a.Fragment,{children:[Object(S.jsx)(C.a,{color:"inherit","aria-label":"close search",onClick:this.toggleShowSearch,children:Object(S.jsx)(w,{icon:"ArrowBack"})}),this.searchBox(!0)]}):Object(S.jsxs)(l.a.Fragment,{children:[this.menuButton(),this.title(),this.archivedToggle(),Object(S.jsx)(C.a,{color:"inherit","aria-label":"toggle search",onClick:this.toggleShowSearch,className:t.alignRight,children:Object(S.jsx)(w,{icon:"Search"})})]}):Object(S.jsxs)(l.a.Fragment,{children:[this.menuButton(),this.title(),this.archivedToggle(),this.searchBox()]}),Object(S.jsx)(v.a,{elevation:1,className:t.appBar+(i?" ".concat(t.appBarResponsive):""),children:Object(S.jsx)(O.a,{children:r})})}},{key:"isResponsive",value:function(){return!this.props.menuAlwaysTemporary}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=e.confirmation,o=this.state,i=o.mobileOpen,r=o.menuItem,l=o.snackbarOpen,s=o.snackbarMessage,c=o.confirmationOpen,p=o.currentComponent,u=this.isResponsive(),d=n.get("menu"),h=this.props.location.pathname,m=p?Object(S.jsx)(On,{component:p}):null,b=this.appBar(),f=Object(S.jsx)(Cn,{component:d,onDrawerToggle:this.handleDrawerToggle,mobileOpen:i,onNavigate:this.handleNavigate,path:h,responsive:u}),j=null;return r&&r.fullScreen&&(j={marginLeft:0,marginTop:0}),Object(S.jsx)("div",{className:t.root,children:Object(S.jsxs)("div",{className:t.appFrame,children:[r&&r.fullScreen?null:b,r&&r.fullScreen?null:f,Object(S.jsxs)("main",{className:t.content+(u?" ".concat(t.contentResponsive):""),style:j,children:[Object(S.jsx)(kn.d,{children:Object(S.jsx)(kn.b,{})}),m,Object(S.jsx)(Ln,{open:l,message:s,onClose:this.handleSnackbarClose}),Object(S.jsx)(st,{open:c,onClose:this.handleConfirmationClose,title:a?a.title:null,text:a?a.text:null,alert:a?a.alert:null})]})]})})}}]),n}(l.a.PureComponent);Bn=j()((function(e){var t;return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:Object(b.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(b.a)({},e.breakpoints.up("md"),{display:"none"}),content:(t={backgroundColor:e.palette.background.default,width:"100%",padding:e.spacing(3),height:"calc(100% - 56px)",marginTop:56},Object(b.a)(t,e.breakpoints.up("sm"),{height:"calc(100% - 64px)",marginTop:64}),Object(b.a)(t,"overflowAnchor","none"),t),contentResponsive:Object(b.a)({},e.breakpoints.up("md"),{marginLeft:240}),alignRight:{marginLeft:"auto"}}}),{withTheme:!0})(Bn),Bn=Object(Dn.a)()(Bn),Bn=Object(kn.g)(Bn),Bn=H(["menuAlwaysTemporary"])(Bn);var Vn=Bn=H(["path","pathHash","pathSearch","redirectPath","snackbarMessage","confirmation","searchString"],St.a)(Bn),Mn=n(956),Rn=n(941),Wn=n(402),Un=n(398),qn=n.n(Un),Gn=n(399),Hn=n.n(Gn),zn=n(275),Jn=Object(Wn.a)({palette:{primary:qn.a,secondary:Hn.a},typography:{useNextVariants:!0}}),Kn=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onNavigate=function(e,t){St.a.onNavigate(e,t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.basename;return Object(S.jsxs)(Rn.a,{theme:Jn,children:[Object(S.jsx)(Mn.a,{}),Object(S.jsx)(zn.a,{getUserConfirmation:this.onNavigate,basename:n,children:Object(S.jsxs)("div",{children:[Object(S.jsx)(Vn,{component:t}),Object(S.jsx)(kn.a,{message:"foo"})]})})]})}}]),n}(l.a.Component),$n=H(["basename"])(Kn),Xn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Zn(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mson-react","/service-worker.js");Xn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_n(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):_n(e)}))}}function _n(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Yn=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.a.client){e.next=3;break}return e.next=3,M.a.client.user.awaitSession();case 3:c.a.render(Object(S.jsx)($n,{component:t}),document.getElementById("root")),Zn();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qn=(n(886),n(105)),ea=n.n(Qn),ta={name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",header:{component:"Text",text:"### &nbsp;&nbsp;&nbsp;MSON Demo"},items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-builder",label:"Form Builder",content:{component:"app.FormBuilder"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/grid",label:"Grid",content:{component:"app.Grid"}},{path:"/router",label:"Router",items:[{path:"/router/redirect",label:"Redirect",content:{component:"Action",actions:[{component:"Redirect",path:"/router/person/p123/message/m456?first=Trevor&last=Noah#hash123"}]}},{path:"/router/generate-component",label:"Generate Component",content:{component:"app.GenerateComponent"}}]},{path:"/router/person/:personId/message/:messageId",label:"Router",content:{component:"app.Router"},hidden:!0},{path:"/custom-components",label:"Custom Components",items:[{path:"/custom-components/mson",label:"Custom Component",content:{component:"CustomComponent",name:"my-custom-component",label:"My Custom Component"}},{path:"/custom-components/js",label:"Custom Component JS",content:{component:"CustomComponentJS",name:"my-custom-component-js",label:"My Custom Component JS"}},{path:"/custom-components/no-props",label:"Custom Component No Props",content:{component:"CustomComponentNoProps"}},{path:"/custom-components/attach",label:"Custom Component Attach",content:{component:"CustomComponentAttach",name:"my-custom-component-attach",label:"My Custom Component Attach"}},{path:"/custom-components/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}}]}]}},na=n(220),aa=n(102),oa=n(126),ia=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"create",value:function(e){var t=this;Object(na.a)(Object(aa.a)(n.prototype),"create",this).call(this,e),this.set({fields:[new oa.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new oa.TextField({name:"lastName",label:"Last Name",required:!0}),new oa.EmailField({name:"email",label:"Email"}),new oa.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new oa.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new oa.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",(function(){t.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})})),this.on("submit",(function(){var e=t.getValues();console.log("submitting",e),St.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName)),t.reset()})),this.on("cancel",(function(){St.a.redirect("/")}))}}]),n}(In.a);mn.a.registerComponent("app.ContactNoMSON",ia);var ra=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],la={App:ta,Contacts:{name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},ContactsLocalStorage:{name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},ContactsFirebase:{name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},EditContact:{name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},FieldsScreen:{name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/coxgeoffrey"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},Fields:{name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:ra},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:ra},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},FormBuilder:{name:"app.FormBuilder",component:"FormBuilder","fields.form.form.fields.fields.store":{component:"LocalStorageStore",storeName:"myForm"}},GenerateComponent:{name:"app.GenerateComponent",component:"Action",schema:{component:"Form",fields:[{name:"componentType",component:"TextField"}]},actions:[{component:"Action",if:{"globals.route.query.type":null},actions:[{component:"Set",name:"componentType",value:"CountryField"}],else:[{component:"Set",name:"componentType",value:"{{globals.route.query.type}}"}]},{component:"GenerateComponent",definition:JSON.stringify({component:"Form",fields:[{name:"type",component:"SelectField",label:"Field Type",options:[{value:"TextField",label:"TextField"},{value:"PersonFullNameField",label:"PersonFullNameField"},{value:"CountryField",label:"CountryField"}],value:"{{componentType}}",autocomplete:!1},{name:"generatedField",component:"{{componentType}}",label:"Generated Field"}],listeners:[{event:"fields.type.value",actions:[{component:"Redirect",path:"/router/generate-component?type={{fields.type.value}}"}]}]})}]},Grid:{name:"app.Grid",component:"Grid",items:[{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# A"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# B"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# C"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# D"}},{component:"GridItem",md:6,xs:12,content:{name:"toggleA",component:"ButtonField",label:"Toggle A",listeners:[{event:"click",actions:[{component:"Action",if:{"parent.parent.items.0.hidden":!0},actions:[{component:"Set",name:"parent.parent.items.0.hidden",value:!1}],else:[{component:"Set",name:"parent.parent.items.0.hidden",value:!0}]}]}]}}]},Home:{name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},Tasks:{name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},TasksLocalStorage:{name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},TasksFirebase:{name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},Router:{name:"app.Router",component:"Form",fields:[{component:"TextField",name:"personId",label:"personId",block:!1},{component:"TextField",name:"messageId",label:"messageId"},{component:"TextField",name:"first",label:"first",block:!1},{component:"TextField",name:"last",label:"last"},{component:"TextField",name:"hash",label:"hash"},{component:"ButtonField",name:"submit",label:"Go",type:"submit",icon:"Send"}],listeners:[{event:"load",actions:[{component:"Set",name:"value",value:{personId:"{{globals.route.parameters.personId}}",messageId:"{{globals.route.parameters.messageId}}",first:"{{globals.route.query.first}}",last:"{{globals.route.query.last}}",hash:"{{globals.route.hash}}"}}]},{event:"submit",actions:[{component:"Set",name:"pristine",value:!0},{component:"Redirect",path:"/router/person/{{fields.personId.value}}/message/{{fields.messageId.value}}?first={{fields.first.value}}&last={{fields.last.value}}#{{fields.hash.value}}"}]}]}},sa=n(276),ca=n.n(sa),pa=n(957),ua=n(958),da=n(208),ha=n.n(da),ma=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={field:null},e.handleValueChange=function(t){var n=e.props.component,a=e.state.field,o=null;if(!a||t.componentName!==a.getClassName())if(a&&a.destroy(),t.componentName){o=mn.a.newComponent({component:t.componentName});var i=function(){a.clearErr(),a.validate()};(a=o.isField?o:new ha.a({content:o})).on("value",i),a.on("touched",i)}else a=null;if(a){var r=n.getValues({default:!1});o="ComponentField"===a.getClassName()?a.get("content"):a,B()(r,(function(e,t){o.has(t)&&o.set(Object(b.a)({},t,e))}))}e.setState({field:a})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.formTag,o=e.mode,i=this.state.field,r=null;return i&&"read"!==o&&(r=Object(S.jsx)(pa.a,{className:n.card,children:Object(S.jsxs)(ua.a,{children:[Object(S.jsx)(x.a,{color:"textSecondary",gutterBottom:!0,children:"Preview"}),Object(S.jsx)(De,{component:i})]})})),"read"!==o?Object(S.jsxs)(l.a.Fragment,{children:[Object(S.jsx)("div",{className:n.preview,children:r}),Object(S.jsx)("div",{className:n.form,children:Object(S.jsx)(We,{component:t,formTag:a,mode:o})})]}):i?Object(S.jsx)(De,{component:i,disabled:!0}):null}}]),n}(l.a.PureComponent);ma=j()((function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:e.spacing(3)}}}))(ma);var ba=ma=H(["mode"])(ma),fa=n(277),ja=n.n(fa),va=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.component;if(!1!==t)return Object(S.jsx)(We,Object(U.a)({},this.props));var a=n.get("definition");return Object(S.jsx)(On,{definition:a,formTag:!1})}}]),n}(l.a.Component),ga=va=H(["editable"])(va),Oa=n(400),xa=n.n(Oa);function Ca(e,t){var n=Object(r.useState)({}),a=Object(J.a)(n,2),o=a[0],i=a[1],l=Object(r.useRef)(t).current;return Object(r.useEffect)((function(){var t=function(){return!!e};function n(e,t){-1!==l.indexOf(e)&&i((function(n){return Object(U.a)(Object(U.a)({},n),{},Object(b.a)({},e,t))}))}return t()&&(e.on("$change",n),i(e.get(l))),function(){t()&&e.removeListener("$change",n)}}),[e,l]),o}var ya=n(142),Fa=n.n(ya),ka=Fa()({component:"UIComponent",name:"CustomComponent",schema:{component:"Form",fields:[{component:"TextField",name:"name"},{component:"TextField",name:"label"}]}}),Sa=n(71),wa=n.n(Sa),Da=n(83),Na=n.n(Da),Ta=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).className="CustomComponentJS",e}return Object(u.a)(n,[{key:"create",value:function(e){Object(na.a)(Object(aa.a)(n.prototype),"create",this).call(this,e),this.set({schema:new In.a({fields:[new Na.a({name:"name"}),new Na.a({name:"label"})]})})}}]),n}(wa.a),La=function(e){var t=e.name,n=e.label;return Object(S.jsxs)("div",{children:[Object(S.jsxs)(x.a,{variant:"h3",children:["Name: ",t]}),Object(S.jsxs)(x.a,{variant:"h4",children:["Label: ",n]})]})};La=H(["name","label"])(La);var Ea=Fa()({component:"UIComponent",name:"CustomComponentNoProps",render:function(){return Object(S.jsx)("div",{children:Object(S.jsxs)(x.a,{variant:"h5",children:["Text: ","This text is private to the React component"]})})}}),Aa=function(e){var t=e.name,n=e.label;return Object(S.jsxs)("div",{children:[Object(S.jsxs)(x.a,{variant:"h3",children:["Name: ",t]}),Object(S.jsxs)(x.a,{variant:"h4",children:["Label: ",n]})]})};Aa=H(["name","label"])(Aa);var Pa=Fa()({component:"UIComponent",name:"CustomComponent",schema:{component:"Form",fields:[{component:"TextField",name:"name"},{component:"TextField",name:"label"}]},render:Aa});St.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),ea()("FieldEditorForm",ca.a),un("FieldEditorForm",ba),ea()("FormEditor",ja.a),un("FormEditor",ga),ea()("FormBuilder",xa.a),ea()("CustomComponent",ka),un("CustomComponent",(function(e){var t=Ca(e.component,["name","label"]),n=t.name,a=t.label;return Object(S.jsxs)("div",{children:[Object(S.jsxs)(x.a,{variant:"h3",children:["Name: ",n]}),Object(S.jsxs)(x.a,{variant:"h4",children:["Label: ",a]})]})})),ea()("CustomComponentJS",Ta),un("CustomComponentJS",La),ea()("CustomComponentNoProps",Ea),ea()("CustomComponentAttach",Pa),Object.keys(la).forEach((function(e){return ea()(la[e])})),Yn(mn.a.newComponent({component:"app.App"}))}},[[888,1,2]]]);
//# sourceMappingURL=main.14dd6b5c.chunk.js.map